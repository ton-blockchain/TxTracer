import{r as W,j as x,I as $c,B as He,R as cr,a as Hc}from"./index-BgaK83vk.js";import{r as yd,b as bd,c as ii,k as at,G as vd,j as xa,l as wd,m as _d,n as Cd,o as xd,p as Td,g as kd,q as Id,s as Ad,t as Sd,u as Ed,v as Pd}from"./PageHeader-lipHC_FJ.js";import{c as Bd,a as Be,b as lr,r as Rd}from"./ton-vendor-E5L4Lu3I.js";yd();const Md="_copyIcon_19fkk_1",Vd="_copied_19fkk_30",Ta={copyIcon:Md,copied:Vd},nt=({value:e,title:t,className:n})=>{const[s,r]=W.useState(!1),i=W.useCallback(()=>{navigator.clipboard.writeText(e).then(()=>{r(!0)}).catch(u=>{console.error("Failed to copy: ",u)})},[e]);W.useEffect(()=>{if(s){const u=setTimeout(()=>{r(!1)},1500);return()=>clearTimeout(u)}},[s]);const a=x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),x.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),c=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:x.jsx("polyline",{points:"20 6 9 17 4 12"})});return x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:u=>{u.stopPropagation(),i()},className:`${Ta.copyIcon} ${s?Ta.copied:""} ${n??""}`,title:s?"Copied!":t,"aria-label":s?"Copied to clipboard":`Copy ${t.toLowerCase()}`,disabled:s,type:"button",children:x.jsx($c,{svg:s?c:a})}),x.jsx("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:s&&"Copied to clipboard"})]})},jd="_statusSuccess_14xk3_12 _statusBase_14xk3_1",Dd="_statusFailed_14xk3_19 _statusBase_14xk3_1",Nd="_statusWarning_14xk3_26 _statusBase_14xk3_1",Or={statusSuccess:jd,statusFailed:Dd,statusWarning:Nd},Kb=({type:e,text:t})=>{const n=()=>{const s=t??e;switch(e){case"success":return`Success: ${s}`;case"failed":return`Error: ${s}`;case"warning":return`Warning: ${s}`;default:return s}};return e==="success"?x.jsxs("span",{className:Or.statusSuccess,role:"status","aria-label":n(),children:[x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[x.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M22 4L12 14.01L9 11.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),t??"Success"]}):e==="failed"?x.jsxs("span",{className:Or.statusFailed,role:"status","aria-label":n(),children:[x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[x.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M15 9L9 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M9 9L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),t??"Failed"]}):e==="warning"?x.jsxs("span",{className:Or.statusWarning,role:"status","aria-label":n(),children:[x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),t??"Warning"]}):null},Od="_modalOverlay_1bphz_1",Ld="_modalContent_1bphz_15",ka={modalOverlay:Od,modalContent:Ld},Ud=({open:e,onClose:t,children:n,contentClassName:s})=>{if(W.useEffect(()=>{const a=c=>{c.key==="Escape"&&t()};return e&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,t]),!e)return null;const r=a=>{(a.key==="Enter"||a.key===" ")&&t()},i=`${ka.modalContent} ${s||""}`.trim();return x.jsx("div",{className:ka.modalOverlay,onClick:t,onKeyDown:r,role:"button",tabIndex:0,"aria-label":"Close modal",children:x.jsx("div",{className:i,onClick:a=>a.stopPropagation(),children:n})})},Si=W.createContext({});function Ei(e){const t=W.useRef(null);return t.current===null&&(t.current=e()),t.current}const Pi=typeof window<"u",Kc=Pi?W.useLayoutEffect:W.useEffect,ur=W.createContext(null);function Bi(e,t){e.indexOf(t)===-1&&e.push(t)}function Ri(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Rt=(e,t,n)=>n>t?t:n<e?e:n;let Mi=()=>{};const Mt={},Gc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yc(e){return typeof e=="object"&&e!==null}const Xc=e=>/^0[^.\s]+$/u.test(e);function Vi(e){let t;return()=>(t===void 0&&(t=e()),t)}const ot=e=>e,zd=(e,t)=>n=>t(e(n)),Is=(...e)=>e.reduce(zd),vs=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ji{constructor(){this.subscriptions=[]}add(t){return Bi(this.subscriptions,t),()=>Ri(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yt=e=>e*1e3,bt=e=>e/1e3;function Jc(e,t){return t?e*(1e3/t):0}const Qc=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fd=1e-7,qd=12;function Wd(e,t,n,s,r){let i,a,c=0;do a=t+(n-t)/2,i=Qc(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>Fd&&++c<qd);return a}function As(e,t,n,s){if(e===t&&n===s)return ot;const r=i=>Wd(i,0,1,e,n);return i=>i===0||i===1?i:Qc(r(i),t,s)}const el=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tl=e=>t=>1-e(1-t),nl=As(.33,1.53,.69,.99),Di=tl(nl),sl=el(Di),rl=e=>(e*=2)<1?.5*Di(e):.5*(2-Math.pow(2,-10*(e-1))),Ni=e=>1-Math.sin(Math.acos(e)),il=tl(Ni),al=el(Ni),Zd=As(.42,0,1,1),$d=As(0,0,.58,1),ol=As(.42,0,.58,1),Hd=e=>Array.isArray(e)&&typeof e[0]!="number",cl=e=>Array.isArray(e)&&typeof e[0]=="number",Kd={linear:ot,easeIn:Zd,easeInOut:ol,easeOut:$d,circIn:Ni,circInOut:al,circOut:il,backIn:Di,backInOut:sl,backOut:nl,anticipate:rl},Gd=e=>typeof e=="string",Ia=e=>{if(cl(e)){Mi(e.length===4);const[t,n,s,r]=e;return As(t,n,s,r)}else if(Gd(e))return Kd[e];return e},$s=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Aa={value:null};function Yd(e,t){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function d(p){a.has(p)&&(o.schedule(p),e()),u++,p(c)}const o={schedule:(p,w=!1,C=!1)=>{const b=C&&r?n:s;return w&&a.add(p),b.has(p)||b.add(p),p},cancel:p=>{s.delete(p),a.delete(p)},process:p=>{if(c=p,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),t&&Aa.value&&Aa.value.frameloop[t].push(u),u=0,n.clear(),r=!1,i&&(i=!1,o.process(p))}};return o}const Xd=40;function ll(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=$s.reduce((M,ne)=>(M[ne]=Yd(i,t?ne:void 0),M),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:o,update:p,preRender:w,render:C,postRender:T}=a,b=()=>{const M=Mt.useManualTiming?r.timestamp:performance.now();n=!1,Mt.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(M-r.timestamp,Xd),1)),r.timestamp=M,r.isProcessing=!0,c.process(r),u.process(r),d.process(r),o.process(r),p.process(r),w.process(r),C.process(r),T.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(b))},A=()=>{n=!0,s=!0,r.isProcessing||e(b)};return{schedule:$s.reduce((M,ne)=>{const Y=a[ne];return M[ne]=(q,K=!1,U=!1)=>(n||A(),Y.schedule(q,K,U)),M},{}),cancel:M=>{for(let ne=0;ne<$s.length;ne++)a[$s[ne]].cancel(M)},state:r,steps:a}}const{schedule:Me,cancel:qt,state:Ze,steps:Lr}=ll(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0);let Qs;function Jd(){Qs=void 0}const Qe={now:()=>(Qs===void 0&&Qe.set(Ze.isProcessing||Mt.useManualTiming?Ze.timestamp:performance.now()),Qs),set:e=>{Qs=e,queueMicrotask(Jd)}},ul=e=>t=>typeof t=="string"&&t.startsWith(e),Oi=ul("--"),Qd=ul("var(--"),Li=e=>Qd(e)?ef.test(e.split("/*")[0].trim()):!1,ef=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ws={...Sn,transform:e=>Rt(0,1,e)},Hs={...Sn,default:1},ms=e=>Math.round(e*1e5)/1e5,Ui=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tf(e){return e==null}const nf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zi=(e,t)=>n=>!!(typeof n=="string"&&nf.test(n)&&n.startsWith(e)||t&&!tf(n)&&Object.prototype.hasOwnProperty.call(n,t)),dl=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,c]=s.match(Ui);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},sf=e=>Rt(0,255,e),Ur={...Sn,transform:e=>Math.round(sf(e))},cn={test:zi("rgb","red"),parse:dl("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ur.transform(e)+", "+Ur.transform(t)+", "+Ur.transform(n)+", "+ms(ws.transform(s))+")"};function rf(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const ai={test:zi("#"),parse:rf,transform:cn.transform},Ss=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ft=Ss("deg"),vt=Ss("%"),Ce=Ss("px"),af=Ss("vh"),of=Ss("vw"),Sa={...vt,parse:e=>vt.parse(e)/100,transform:e=>vt.transform(e*100)},wn={test:zi("hsl","hue"),parse:dl("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+vt.transform(ms(t))+", "+vt.transform(ms(n))+", "+ms(ws.transform(s))+")"},Le={test:e=>cn.test(e)||ai.test(e)||wn.test(e),parse:e=>cn.test(e)?cn.parse(e):wn.test(e)?wn.parse(e):ai.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?cn.transform(e):wn.transform(e),getAnimatableNone:e=>{const t=Le.parse(e);return t.alpha=0,Le.transform(t)}},cf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lf(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ui)?.length||0)+(e.match(cf)?.length||0)>0}const fl="number",hl="color",uf="var",df="var(",Ea="${}",ff=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _s(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const c=t.replace(ff,u=>(Le.test(u)?(s.color.push(i),r.push(hl),n.push(Le.parse(u))):u.startsWith(df)?(s.var.push(i),r.push(uf),n.push(u)):(s.number.push(i),r.push(fl),n.push(parseFloat(u))),++i,Ea)).split(Ea);return{values:n,split:c,indexes:s,types:r}}function ml(e){return _s(e).values}function pl(e){const{split:t,types:n}=_s(e),s=t.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=t[a],r[a]!==void 0){const c=n[a];c===fl?i+=ms(r[a]):c===hl?i+=Le.transform(r[a]):i+=r[a]}return i}}const hf=e=>typeof e=="number"?0:Le.test(e)?Le.getAnimatableNone(e):e;function mf(e){const t=ml(e);return pl(e)(t.map(hf))}const Wt={test:lf,parse:ml,createTransformer:pl,getAnimatableNone:mf};function zr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pf({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const c=n<.5?n*(1+t):n+t-n*t,u=2*n-c;r=zr(u,c,e+1/3),i=zr(u,c,e),a=zr(u,c,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function sr(e,t){return n=>n>0?t:e}const Re=(e,t,n)=>e+(t-e)*n,Fr=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},gf=[ai,cn,wn],yf=e=>gf.find(t=>t.test(e));function Pa(e){const t=yf(e);if(!t)return!1;let n=t.parse(e);return t===wn&&(n=pf(n)),n}const Ba=(e,t)=>{const n=Pa(e),s=Pa(t);if(!n||!s)return sr(e,t);const r={...n};return i=>(r.red=Fr(n.red,s.red,i),r.green=Fr(n.green,s.green,i),r.blue=Fr(n.blue,s.blue,i),r.alpha=Re(n.alpha,s.alpha,i),cn.transform(r))},oi=new Set(["none","hidden"]);function bf(e,t){return oi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vf(e,t){return n=>Re(e,t,n)}function Fi(e){return typeof e=="number"?vf:typeof e=="string"?Li(e)?sr:Le.test(e)?Ba:Cf:Array.isArray(e)?gl:typeof e=="object"?Le.test(e)?Ba:wf:sr}function gl(e,t){const n=[...e],s=n.length,r=e.map((i,a)=>Fi(i)(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function wf(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Fi(e[r])(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function _f(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],a=e.indexes[i][s[i]],c=e.values[a]??0;n[r]=c,s[i]++}return n}const Cf=(e,t)=>{const n=Wt.createTransformer(t),s=_s(e),r=_s(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?oi.has(e)&&!r.values.length||oi.has(t)&&!s.values.length?bf(e,t):Is(gl(_f(s,r),r.values),n):sr(e,t)};function yl(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Re(e,t,n):Fi(e)(e,t)}const xf=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Me.update(t,n),stop:()=>qt(t),now:()=>Ze.isProcessing?Ze.timestamp:Qe.now()}},bl=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rr=2e4;function qi(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rr;)t+=n,s=e.next(t);return t>=rr?1/0:t}function Tf(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(qi(s),rr);return{type:"keyframes",ease:i=>s.next(r*i).value/t,duration:bt(r)}}const kf=5;function vl(e,t,n){const s=Math.max(t-kf,0);return Jc(n-e(s),t-s)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qr=.001;function If({duration:e=Ve.duration,bounce:t=Ve.bounce,velocity:n=Ve.velocity,mass:s=Ve.mass}){let r,i,a=1-t;a=Rt(Ve.minDamping,Ve.maxDamping,a),e=Rt(Ve.minDuration,Ve.maxDuration,bt(e)),a<1?(r=d=>{const o=d*a,p=o*e,w=o-n,C=ci(d,a),T=Math.exp(-p);return qr-w/C*T},i=d=>{const p=d*a*e,w=p*n+n,C=Math.pow(a,2)*Math.pow(d,2)*e,T=Math.exp(-p),b=ci(Math.pow(d,2),a);return(-r(d)+qr>0?-1:1)*((w-C)*T)/b}):(r=d=>{const o=Math.exp(-d*e),p=(d-n)*e+1;return-qr+o*p},i=d=>{const o=Math.exp(-d*e),p=(n-d)*(e*e);return o*p});const c=5/e,u=Sf(r,i,c);if(e=yt(e),isNaN(u))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:e};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:a*2*Math.sqrt(s*d),duration:e}}}const Af=12;function Sf(e,t,n){let s=n;for(let r=1;r<Af;r++)s=s-e(s)/t(s);return s}function ci(e,t){return e*Math.sqrt(1-t*t)}const Ef=["duration","bounce"],Pf=["stiffness","damping","mass"];function Ra(e,t){return t.some(n=>e[n]!==void 0)}function Bf(e){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...e};if(!Ra(e,Pf)&&Ra(e,Ef))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Rt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Ve.mass,stiffness:r,damping:i}}else{const n=If(e);t={...t,...n,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function ir(e=Ve.visualDuration,t=Ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:d,mass:o,duration:p,velocity:w,isResolvedFromDuration:C}=Bf({...n,velocity:-bt(n.velocity||0)}),T=w||0,b=d/(2*Math.sqrt(u*o)),A=a-i,P=bt(Math.sqrt(u/o)),D=Math.abs(A)<5;s||(s=D?Ve.restSpeed.granular:Ve.restSpeed.default),r||(r=D?Ve.restDelta.granular:Ve.restDelta.default);let M;if(b<1){const Y=ci(P,b);M=q=>{const K=Math.exp(-b*P*q);return a-K*((T+b*P*A)/Y*Math.sin(Y*q)+A*Math.cos(Y*q))}}else if(b===1)M=Y=>a-Math.exp(-P*Y)*(A+(T+P*A)*Y);else{const Y=P*Math.sqrt(b*b-1);M=q=>{const K=Math.exp(-b*P*q),U=Math.min(Y*q,300);return a-K*((T+b*P*A)*Math.sinh(U)+Y*A*Math.cosh(U))/Y}}const ne={calculatedDuration:C&&p||null,next:Y=>{const q=M(Y);if(C)c.done=Y>=p;else{let K=Y===0?T:0;b<1&&(K=Y===0?yt(T):vl(M,Y,q));const U=Math.abs(K)<=s,se=Math.abs(a-q)<=r;c.done=U&&se}return c.value=c.done?a:q,c},toString:()=>{const Y=Math.min(qi(ne),rr),q=bl(K=>ne.next(Y*K).value,Y,30);return Y+"ms "+q},toTransition:()=>{}};return ne}ir.applyToOptions=e=>{const t=Tf(e,100,ir);return e.ease=t.ease,e.duration=yt(t.duration),e.type="keyframes",e};function li({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:o}){const p=e[0],w={done:!1,value:p},C=U=>c!==void 0&&U<c||u!==void 0&&U>u,T=U=>c===void 0?u:u===void 0||Math.abs(c-U)<Math.abs(u-U)?c:u;let b=n*t;const A=p+b,P=a===void 0?A:a(A);P!==A&&(b=P-p);const D=U=>-b*Math.exp(-U/s),M=U=>P+D(U),ne=U=>{const se=D(U),ce=M(U);w.done=Math.abs(se)<=d,w.value=w.done?P:ce};let Y,q;const K=U=>{C(w.value)&&(Y=U,q=ir({keyframes:[w.value,T(w.value)],velocity:vl(M,U,w.value),damping:r,stiffness:i,restDelta:d,restSpeed:o}))};return K(0),{calculatedDuration:null,next:U=>{let se=!1;return!q&&Y===void 0&&(se=!0,ne(U),K(U)),Y!==void 0&&U>=Y?q.next(U-Y):(!se&&ne(U),w)}}}function Rf(e,t,n){const s=[],r=n||Mt.mix||yl,i=e.length-1;for(let a=0;a<i;a++){let c=r(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||ot:t;c=Is(u,c)}s.push(c)}return s}function Mf(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(Mi(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Rf(t,s,r),u=c.length,d=o=>{if(a&&o<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(o<e[p+1]);p++);const w=vs(e[p],e[p+1],o);return c[p](w)};return n?o=>d(Rt(e[0],e[i-1],o)):d}function Vf(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=vs(0,t,s);e.push(Re(n,1,r))}}function jf(e){const t=[0];return Vf(t,e.length-1),t}function Df(e,t){return e.map(n=>n*t)}function Nf(e,t){return e.map(()=>t||ol).splice(0,e.length-1)}function ps({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=Hd(s)?s.map(Ia):Ia(s),i={done:!1,value:t[0]},a=Df(n&&n.length===t.length?n:jf(t),e),c=Mf(a,t,{ease:Array.isArray(r)?r:Nf(t,r)});return{calculatedDuration:e,next:u=>(i.value=c(u),i.done=u>=e,i)}}const Of=e=>e!==null;function Wi(e,{repeat:t,repeatType:n="loop"},s,r=1){const i=e.filter(Of),c=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const Lf={decay:li,inertia:li,tween:ps,keyframes:ps,spring:ir};function wl(e){typeof e.type=="string"&&(e.type=Lf[e.type])}class Zi{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Uf=e=>e/100;class $i extends Zi{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Qe.now()&&this.tick(Qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wl(t);const{type:n=ps,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=t;let{keyframes:c}=t;const u=n||ps;u!==ps&&typeof c[0]!="number"&&(this.mixKeyframes=Is(Uf,yl(c[0],c[1])),c=[0,100]);const d=u({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...c].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=qi(d));const{calculatedDuration:o}=d;this.calculatedDuration=o,this.resolvedDuration=o+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:o,repeat:p,repeatType:w,repeatDelay:C,type:T,onUpdate:b,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?P<0:P>r;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let M=this.currentTime,ne=s;if(p){const U=Math.min(this.currentTime,r)/c;let se=Math.floor(U),ce=U%1;!ce&&U>=1&&(ce=1),ce===1&&se--,se=Math.min(se,p+1),!!(se%2)&&(w==="reverse"?(ce=1-ce,C&&(ce-=C/c)):w==="mirror"&&(ne=a)),M=Rt(0,1,ce)*c}const Y=D?{done:!1,value:o[0]}:ne.next(M);i&&(Y.value=i(Y.value));let{done:q}=Y;!D&&u!==null&&(q=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return K&&T!==li&&(Y.value=Wi(o,this.options,A,this.speed)),b&&b(Y.value),K&&this.finish(),Y}then(t,n){return this.finished.then(t,n)}get duration(){return bt(this.calculatedDuration)}get time(){return bt(this.currentTime)}set time(t){t=yt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Qe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=bt(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=xf,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zf(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ln=e=>e*180/Math.PI,ui=e=>{const t=ln(Math.atan2(e[1],e[0]));return di(t)},Ff={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ui,rotateZ:ui,skewX:e=>ln(Math.atan(e[1])),skewY:e=>ln(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},di=e=>(e=e%360,e<0&&(e+=360),e),Ma=ui,Va=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ja=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Va,scaleY:ja,scale:e=>(Va(e)+ja(e))/2,rotateX:e=>di(ln(Math.atan2(e[6],e[5]))),rotateY:e=>di(ln(Math.atan2(-e[2],e[0]))),rotateZ:Ma,rotate:Ma,skewX:e=>ln(Math.atan(e[4])),skewY:e=>ln(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fi(e){return e.includes("scale")?1:0}function hi(e,t){if(!e||e==="none")return fi(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=qf,r=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Ff,r=c}if(!r)return fi(t);const i=s[t],a=r[1].split(",").map(Zf);return typeof i=="function"?i(a):a[i]}const Wf=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hi(n,t)};function Zf(e){return parseFloat(e.trim())}const En=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pn=new Set(En),Da=e=>e===Sn||e===Ce,$f=new Set(["x","y","z"]),Hf=En.filter(e=>!$f.has(e));function Kf(e){const t=[];return Hf.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const dn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hi(t,"x"),y:(e,{transform:t})=>hi(t,"y")};dn.translateX=dn.x;dn.translateY=dn.y;const fn=new Set;let mi=!1,pi=!1,gi=!1;function _l(){if(pi){const e=Array.from(fn).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=Kf(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{s.getValue(i)?.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}pi=!1,mi=!1,fn.forEach(e=>e.complete(gi)),fn.clear()}function Cl(){fn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pi=!0)})}function Gf(){gi=!0,Cl(),_l(),gi=!1}class Hi{constructor(t,n,s,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(fn.add(this),mi||(mi=!0,Me.read(Cl),Me.resolveKeyframes(_l))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const i=r?.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const c=s.readValue(n,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),r&&i===void 0&&r.set(t[0])}zf(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fn.delete(this)}cancel(){this.state==="scheduled"&&(fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yf=e=>e.startsWith("--");function Xf(e,t,n){Yf(t)?e.style.setProperty(t,n):e.style[t]=n}const Jf=Vi(()=>window.ScrollTimeline!==void 0),Qf={};function eh(e,t){const n=Vi(e);return()=>Qf[t]??n()}const xl=eh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hs=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Na={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hs([0,.65,.55,1]),circOut:hs([.55,0,1,.45]),backIn:hs([.31,.01,.66,-.59]),backOut:hs([.33,1.53,.69,.99])};function Tl(e,t){if(e)return typeof e=="function"?xl()?bl(e,t):"ease-out":cl(e)?hs(e):Array.isArray(e)?e.map(n=>Tl(n,t)||Na.easeOut):Na[e]}function th(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},d=void 0){const o={[t]:n};u&&(o.offset=u);const p=Tl(c,r);Array.isArray(p)&&(o.easing=p);const w={delay:s,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return d&&(w.pseudoElement=d),e.animate(o,w)}function kl(e){return typeof e=="function"&&"applyToOptions"in e}function nh({type:e,...t}){return kl(e)&&xl()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sh extends Zi{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Mi(typeof t.type!="string");const d=nh(t);this.animation=th(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const o=Wi(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(o):Xf(n,s,o),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return bt(Number(t))}get time(){return bt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=yt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Jf()?(this.animation.timeline=t,ot):n(this)}}const Il={anticipate:rl,backInOut:sl,circInOut:al};function rh(e){return e in Il}function ih(e){typeof e.ease=="string"&&rh(e.ease)&&(e.ease=Il[e.ease])}const Oa=10;class ah extends sh{constructor(t){ih(t),wl(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new $i({...a,autoplay:!1}),u=yt(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-Oa).value,c.sample(u).value,Oa),c.stop()}}const La=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wt.test(e)||e==="0")&&!e.startsWith("url("));function oh(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ch(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=La(r,t),c=La(i,t);return!a||!c?!1:oh(e)||(n==="spring"||kl(n))&&s}function Ki(e){return Yc(e)&&"offsetHeight"in e}const lh=new Set(["opacity","clipPath","filter","transform"]),uh=Vi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dh(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=e;if(!Ki(t?.owner?.current))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return uh()&&n&&lh.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const fh=40;class hh extends Zi{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:d,element:o,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Qe.now();const w={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:u,motionValue:d,element:o,...p},C=o?.KeyframeResolver||Hi;this.keyframeResolver=new C(c,(T,b,A)=>this.onKeyframesResolved(T,b,w,!A),u,d,o),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:d,onUpdate:o}=s;this.resolvedAt=Qe.now(),ch(t,i,a,c)||((Mt.instantAnimations||!u)&&o?.(Wi(t,s,n)),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const w={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>fh?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!d&&dh(w)?new ah({...w,element:w.motionValue.owner.current}):new $i(w);C.finished.then(()=>this.notifyFinished()).catch(ot),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Gf()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ph(e){const t=mh.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function Al(e,t,n=1){const[s,r]=ph(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const a=i.trim();return Gc(a)?parseFloat(a):a}return Li(r)?Al(r,t,n+1):r}function Gi(e,t){return e?.[t]??e?.default??e}const Sl=new Set(["width","height","top","left","right","bottom",...En]),gh={test:e=>e==="auto",parse:e=>e},El=e=>t=>t.test(e),Pl=[Sn,Ce,vt,Ft,of,af,gh],Ua=e=>Pl.find(El(e));function yh(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xc(e):!0}const bh=new Set(["brightness","contrast","saturate","opacity"]);function vh(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ui)||[];if(!s)return e;const r=n.replace(s,"");let i=bh.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const wh=/\b([a-z-]*)\(.*?\)/gu,yi={...Wt,getAnimatableNone:e=>{const t=e.match(wh);return t?t.map(vh).join(" "):e}},za={...Sn,transform:Math.round},_h={rotate:Ft,rotateX:Ft,rotateY:Ft,rotateZ:Ft,scale:Hs,scaleX:Hs,scaleY:Hs,scaleZ:Hs,skew:Ft,skewX:Ft,skewY:Ft,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ws,originX:Sa,originY:Sa,originZ:Ce},Yi={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,..._h,zIndex:za,fillOpacity:ws,strokeOpacity:ws,numOctaves:za},Ch={...Yi,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:yi,WebkitFilter:yi},Bl=e=>Ch[e];function Rl(e,t){let n=Bl(e);return n!==yi&&(n=Wt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xh=new Set(["auto","none","0"]);function Th(e,t,n){let s=0,r;for(;s<e.length&&!r;){const i=e[s];typeof i=="string"&&!xh.has(i)&&_s(i).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Rl(n,r)}class kh extends Hi{constructor(t,n,s,r,i){super(t,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),Li(d))){const o=Al(d,n.current);o!==void 0&&(t[u]=o),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Sl.has(s)||t.length!==2)return;const[r,i]=t,a=Ua(r),c=Ua(i);if(a!==c)if(Da(a)&&Da(c))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else dn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||yh(t[r]))&&s.push(r);s.length&&Th(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=dn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Ih(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=n?.[e]??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const Ml=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fa=30,Ah=e=>!isNaN(parseFloat(e));class Sh{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=Qe.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ah(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ji);const s=this.events[t].add(n);return t==="change"?()=>{s(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fa)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fa);return Jc(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function In(e,t){return new Sh(e,t)}const{schedule:Xi}=ll(queueMicrotask,!1),ft={x:!1,y:!1};function Vl(){return ft.x||ft.y}function Eh(e){return e==="x"||e==="y"?ft[e]?null:(ft[e]=!0,()=>{ft[e]=!1}):ft.x||ft.y?null:(ft.x=ft.y=!0,()=>{ft.x=ft.y=!1})}function jl(e,t){const n=Ih(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function qa(e){return!(e.pointerType==="touch"||Vl())}function Ph(e,t,n={}){const[s,r,i]=jl(e,n),a=c=>{if(!qa(c))return;const{target:u}=c,d=t(u,c);if(typeof d!="function"||!u)return;const o=p=>{qa(p)&&(d(p),u.removeEventListener("pointerleave",o))};u.addEventListener("pointerleave",o,r)};return s.forEach(c=>{c.addEventListener("pointerenter",a,r)}),i}const Dl=(e,t)=>t?e===t?!0:Dl(e,t.parentElement):!1,Ji=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Bh=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rh(e){return Bh.has(e.tagName)||e.tabIndex!==-1}const er=new WeakSet;function Wa(e){return t=>{t.key==="Enter"&&e(t)}}function Wr(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mh=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Wa(()=>{if(er.has(n))return;Wr(n,"down");const r=Wa(()=>{Wr(n,"up")}),i=()=>Wr(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Za(e){return Ji(e)&&!Vl()}function Vh(e,t,n={}){const[s,r,i]=jl(e,n),a=c=>{const u=c.currentTarget;if(!Za(c))return;er.add(u);const d=t(u,c),o=(C,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",w),er.has(u)&&er.delete(u),Za(C)&&typeof d=="function"&&d(C,{success:T})},p=C=>{o(C,u===window||u===document||n.useGlobalTarget||Dl(u,C.target))},w=C=>{o(C,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",w,r)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),Ki(c)&&(c.addEventListener("focus",d=>Mh(d,r)),!Rh(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function Nl(e){return Yc(e)&&"ownerSVGElement"in e}function jh(e){return Nl(e)&&e.tagName==="svg"}const $e=e=>!!(e&&e.getVelocity),Dh=[...Pl,Le,Wt],Nh=e=>Dh.find(El(e)),Qi=W.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Oh extends W.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Ki(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lh({children:e,isPresent:t,anchorX:n}){const s=W.useId(),r=W.useRef(null),i=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=W.useContext(Qi);return W.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:o,right:p}=i.current;if(t||!r.current||!c||!u)return;const w=n==="left"?`left: ${o}`:`right: ${p}`;r.current.dataset.motionPopId=s;const C=document.createElement("style");return a&&(C.nonce=a),document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(C)&&document.head.removeChild(C)}},[t]),x.jsx(Oh,{isPresent:t,childRef:r,sizeRef:i,children:W.cloneElement(e,{ref:r})})}const Uh=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:c})=>{const u=Ei(zh),d=W.useId();let o=!0,p=W.useMemo(()=>(o=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:w=>{u.set(w,!0);for(const C of u.values())if(!C)return;s&&s()},register:w=>(u.set(w,!1),()=>u.delete(w))}),[n,u,s]);return i&&o&&(p={...p}),W.useMemo(()=>{u.forEach((w,C)=>u.set(C,!1))},[n]),W.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),a==="popLayout"&&(e=x.jsx(Lh,{isPresent:n,anchorX:c,children:e})),x.jsx(ur.Provider,{value:p,children:e})};function zh(){return new Map}function Ol(e=!0){const t=W.useContext(ur);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,i=W.useId();W.useEffect(()=>{if(e)return r(i)},[e]);const a=W.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,a]:[!0]}const Ks=e=>e.key||"";function $a(e){const t=[];return W.Children.forEach(e,n=>{W.isValidElement(n)&&t.push(n)}),t}const Ll=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:c="left"})=>{const[u,d]=Ol(a),o=W.useMemo(()=>$a(e),[e]),p=a&&!u?[]:o.map(Ks),w=W.useRef(!0),C=W.useRef(o),T=Ei(()=>new Map),[b,A]=W.useState(o),[P,D]=W.useState(o);Kc(()=>{w.current=!1,C.current=o;for(let Y=0;Y<P.length;Y++){const q=Ks(P[Y]);p.includes(q)?T.delete(q):T.get(q)!==!0&&T.set(q,!1)}},[P,p.length,p.join("-")]);const M=[];if(o!==b){let Y=[...o];for(let q=0;q<P.length;q++){const K=P[q],U=Ks(K);p.includes(U)||(Y.splice(q,0,K),M.push(K))}return i==="wait"&&M.length&&(Y=M),D($a(Y)),A(o),null}const{forceRender:ne}=W.useContext(Si);return x.jsx(x.Fragment,{children:P.map(Y=>{const q=Ks(Y),K=a&&!u?!1:o===P||p.includes(q),U=()=>{if(T.has(q))T.set(q,!0);else return;let se=!0;T.forEach(ce=>{ce||(se=!1)}),se&&(ne?.(),D(C.current),a&&d?.(),s&&s())};return x.jsx(Uh,{isPresent:K,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,onExitComplete:K?void 0:U,anchorX:c,children:Y},q)})})},Ul=W.createContext({strict:!1}),Ha={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},An={};for(const e in Ha)An[e]={isEnabled:t=>Ha[e].some(n=>!!t[n])};function Fh(e){for(const t in e)An[t]={...An[t],...e[t]}}const qh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ar(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qh.has(e)}let zl=e=>!ar(e);function Wh(e){typeof e=="function"&&(zl=t=>t.startsWith("on")?!ar(t):e(t))}try{Wh(require("@emotion/is-prop-valid").default)}catch{}function Zh(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(zl(r)||n===!0&&ar(r)||!t&&!ar(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function $h(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const dr=W.createContext({});function fr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cs(e){return typeof e=="string"||Array.isArray(e)}const ea=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ta=["initial",...ea];function hr(e){return fr(e.animate)||ta.some(t=>Cs(e[t]))}function Fl(e){return!!(hr(e)||e.variants)}function Hh(e,t){if(hr(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Cs(n)?n:void 0,animate:Cs(s)?s:void 0}}return e.inherit!==!1?t:{}}function Kh(e){const{initial:t,animate:n}=Hh(e,W.useContext(dr));return W.useMemo(()=>({initial:t,animate:n}),[Ka(t),Ka(n)])}function Ka(e){return Array.isArray(e)?e.join(" "):e}const Gh=Symbol.for("motionComponentSymbol");function _n(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yh(e,t,n){return W.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):_n(n)&&(n.current=s))},[t])}const na=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xh="framerAppearId",ql="data-"+na(Xh),Wl=W.createContext({});function Jh(e,t,n,s,r){const{visualElement:i}=W.useContext(dr),a=W.useContext(Ul),c=W.useContext(ur),u=W.useContext(Qi).reducedMotion,d=W.useRef(null);s=s||a.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const o=d.current,p=W.useContext(Wl);o&&!o.projection&&r&&(o.type==="html"||o.type==="svg")&&Qh(d.current,n,r,p);const w=W.useRef(!1);W.useInsertionEffect(()=>{o&&w.current&&o.update(n,c)});const C=n[ql],T=W.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return Kc(()=>{o&&(w.current=!0,window.MotionIsMounted=!0,o.updateFeatures(),Xi.render(o.render),T.current&&o.animationState&&o.animationState.animateChanges())}),W.useEffect(()=>{o&&(!T.current&&o.animationState&&o.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),T.current=!1))}),o}function Qh(e,t,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:o}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Zl(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||c&&_n(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:o,layoutScroll:u,layoutRoot:d})}function Zl(e){if(e)return e.options.allowProjection!==!1?e.projection:Zl(e.parent)}function em({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&Fh(e);function i(c,u){let d;const o={...W.useContext(Qi),...c,layoutId:tm(c)},{isStatic:p}=o,w=Kh(c),C=s(c,p);if(!p&&Pi){nm();const T=sm(o);d=T.MeasureLayout,w.visualElement=Jh(r,C,o,t,T.ProjectionNode)}return x.jsxs(dr.Provider,{value:w,children:[d&&w.visualElement?x.jsx(d,{visualElement:w.visualElement,...o}):null,n(r,c,Yh(C,w.visualElement,u),C,p,w.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=W.forwardRef(i);return a[Gh]=r,a}function tm({layoutId:e}){const t=W.useContext(Si).id;return t&&e!==void 0?t+"-"+e:e}function nm(e,t){W.useContext(Ul).strict}function sm(e){const{drag:t,layout:n}=An;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const xs={};function rm(e){for(const t in e)xs[t]=e[t],Oi(t)&&(xs[t].isCSSVariable=!0)}function $l(e,{layout:t,layoutId:n}){return Pn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xs[e]||e==="opacity")}const im={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},am=En.length;function om(e,t,n){let s="",r=!0;for(let i=0;i<am;i++){const a=En[i],c=e[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const d=Ml(c,Yi[a]);if(!u){r=!1;const o=im[a]||a;s+=`${o}(${d}) `}n&&(t[a]=d)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function sa(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let a=!1,c=!1;for(const u in t){const d=t[u];if(Pn.has(u)){a=!0;continue}else if(Oi(u)){r[u]=d;continue}else{const o=Ml(d,Yi[u]);u.startsWith("origin")?(c=!0,i[u]=o):s[u]=o}}if(t.transform||(a||n?s.transform=om(t,e.transform,n):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:o=0}=i;s.transformOrigin=`${u} ${d} ${o}`}}const ra=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hl(e,t,n){for(const s in t)!$e(t[s])&&!$l(s,n)&&(e[s]=t[s])}function cm({transformTemplate:e},t){return W.useMemo(()=>{const n=ra();return sa(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lm(e,t){const n=e.style||{},s={};return Hl(s,n,e),Object.assign(s,cm(e,t)),s}function um(e,t){const n={},s=lm(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const dm={offset:"stroke-dashoffset",array:"stroke-dasharray"},fm={offset:"strokeDashoffset",array:"strokeDasharray"};function hm(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?dm:fm;e[i.offset]=Ce.transform(-s);const a=Ce.transform(t),c=Ce.transform(n);e[i.array]=`${a} ${c}`}function Kl(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...c},u,d,o){if(sa(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w}=e;p.transform&&(w.transform=p.transform,delete p.transform),(w.transform||p.transformOrigin)&&(w.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),w.transform&&(w.transformBox=o?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),r!==void 0&&hm(p,r,i,a,!1)}const Gl=()=>({...ra(),attrs:{}}),Yl=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mm(e,t,n,s){const r=W.useMemo(()=>{const i=Gl();return Kl(i,t,Yl(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Hl(i,e.style,e),r.style={...i,...r.style}}return r}const pm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ia(e){return typeof e!="string"||e.includes("-")?!1:!!(pm.indexOf(e)>-1||/[A-Z]/u.test(e))}function gm(e=!1){return(n,s,r,{latestValues:i},a)=>{const u=(ia(n)?mm:um)(s,i,a,n),d=Zh(s,typeof n=="string",e),o=n!==W.Fragment?{...d,...u,ref:r}:{},{children:p}=s,w=W.useMemo(()=>$e(p)?p.get():p,[p]);return W.createElement(n,{...o,children:w})}}function Ga(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function aa(e,t,n,s){if(typeof t=="function"){const[r,i]=Ga(s);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Ga(s);t=t(n!==void 0?n:e.custom,r,i)}return t}function tr(e){return $e(e)?e.get():e}function ym({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:bm(n,s,r,e),renderState:t()}}const Xl=e=>(t,n)=>{const s=W.useContext(dr),r=W.useContext(ur),i=()=>ym(e,t,s,r);return n?i():Ei(i)};function bm(e,t,n,s){const r={},i=s(e,{});for(const w in i)r[w]=tr(i[w]);let{initial:a,animate:c}=e;const u=hr(e),d=Fl(e);t&&d&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),c===void 0&&(c=t.animate));let o=n?n.initial===!1:!1;o=o||a===!1;const p=o?c:a;if(p&&typeof p!="boolean"&&!fr(p)){const w=Array.isArray(p)?p:[p];for(let C=0;C<w.length;C++){const T=aa(e,w[C]);if(T){const{transitionEnd:b,transition:A,...P}=T;for(const D in P){let M=P[D];if(Array.isArray(M)){const ne=o?M.length-1:0;M=M[ne]}M!==null&&(r[D]=M)}for(const D in b)r[D]=b[D]}}}return r}function oa(e,t,n){const{style:s}=e,r={};for(const i in s)($e(s[i])||t.style&&$e(t.style[i])||$l(i,e)||n?.getValue(i)?.liveStyle!==void 0)&&(r[i]=s[i]);return r}const vm={useVisualState:Xl({scrapeMotionValuesFromProps:oa,createRenderState:ra})};function Jl(e,t,n){const s=oa(e,t,n);for(const r in e)if($e(e[r])||$e(t[r])){const i=En.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}const wm={useVisualState:Xl({scrapeMotionValuesFromProps:Jl,createRenderState:Gl})};function _m(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...ia(s)?wm:vm,preloadedFeatures:e,useRender:gm(r),createVisualElement:t,Component:s};return em(a)}}function Ts(e,t,n){const s=e.getProps();return aa(s,t,n!==void 0?n:s.custom,e)}const bi=e=>Array.isArray(e);function Cm(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,In(n))}function xm(e){return bi(e)?e[e.length-1]||0:e}function Tm(e,t){const n=Ts(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const c=xm(i[a]);Cm(e,a,c)}}function km(e){return!!($e(e)&&e.add)}function vi(e,t){const n=e.getValue("willChange");if(km(n))return n.add(t);if(!n&&Mt.WillChange){const s=new Mt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Ql(e){return e.props[ql]}const Im=e=>e!==null;function Am(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(Im),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const Sm={type:"spring",stiffness:500,damping:25,restSpeed:10},Em=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pm={type:"keyframes",duration:.8},Bm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rm=(e,{keyframes:t})=>t.length>2?Pm:Pn.has(e)?e.startsWith("scale")?Em(t[1]):Sm:Bm;function Mm({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:d,...o}){return!!Object.keys(o).length}const ca=(e,t,n,s={},r,i)=>a=>{const c=Gi(s,e)||{},u=c.delay||s.delay||0;let{elapsed:d=0}=s;d=d-yt(u);const o={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:w=>{t.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:r};Mm(c)||Object.assign(o,Rm(e,o)),o.duration&&(o.duration=yt(o.duration)),o.repeatDelay&&(o.repeatDelay=yt(o.repeatDelay)),o.from!==void 0&&(o.keyframes[0]=o.from);let p=!1;if((o.type===!1||o.duration===0&&!o.repeatDelay)&&(o.duration=0,o.delay===0&&(p=!0)),(Mt.instantAnimations||Mt.skipAnimations)&&(p=!0,o.duration=0,o.delay=0),o.allowFlatten=!c.type&&!c.ease,p&&!i&&t.get()!==void 0){const w=Am(o.keyframes,c);if(w!==void 0){Me.update(()=>{o.onUpdate(w),o.onComplete()});return}}return c.isSync?new $i(o):new hh(o)};function Vm({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function eu(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...c}=t;s&&(i=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const o in c){const p=e.getValue(o,e.latestValues[o]??null),w=c[o];if(w===void 0||d&&Vm(d,o))continue;const C={delay:n,...Gi(i||{},o)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(w)&&w===T&&!C.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const P=Ql(e);if(P){const D=window.MotionHandoffAnimation(P,o,Me);D!==null&&(C.startTime=D,b=!0)}}vi(e,o),p.start(ca(o,p,w,e.shouldReduceMotion&&Sl.has(o)?{type:!1}:C,e,b));const A=p.animation;A&&u.push(A)}return a&&Promise.all(u).then(()=>{Me.update(()=>{a&&Tm(e,a)})}),u}function wi(e,t,n={}){const s=Ts(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(eu(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:o,staggerDirection:p}=r;return jm(e,t,d+u,o,p,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,d]=c==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function jm(e,t,n=0,s=0,r=1,i){const a=[],c=(e.variantChildren.size-1)*s,u=r===1?(d=0)=>d*s:(d=0)=>c-d*s;return Array.from(e.variantChildren).sort(Dm).forEach((d,o)=>{d.notify("AnimationStart",t),a.push(wi(d,t,{...i,delay:n+u(o)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function Dm(e,t){return e.sortNodePosition(t)}function Nm(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>wi(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=wi(e,t,n);else{const r=typeof t=="function"?Ts(e,t,n.custom):t;s=Promise.all(eu(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function tu(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Om=ta.length;function nu(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nu(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Om;n++){const s=ta[n],r=e.props[s];(Cs(r)||r===!1)&&(t[s]=r)}return t}const Lm=[...ea].reverse(),Um=ea.length;function zm(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Nm(e,n,s)))}function Fm(e){let t=zm(e),n=Ya(),s=!0;const r=u=>(d,o)=>{const p=Ts(e,o,u==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:w,transitionEnd:C,...T}=p;d={...d,...T,...C}}return d};function i(u){t=u(e)}function a(u){const{props:d}=e,o=nu(e.parent)||{},p=[],w=new Set;let C={},T=1/0;for(let A=0;A<Um;A++){const P=Lm[A],D=n[P],M=d[P]!==void 0?d[P]:o[P],ne=Cs(M),Y=P===u?D.isActive:null;Y===!1&&(T=A);let q=M===o[P]&&M!==d[P]&&ne;if(q&&s&&e.manuallyAnimateOnMount&&(q=!1),D.protectedKeys={...C},!D.isActive&&Y===null||!M&&!D.prevProp||fr(M)||typeof M=="boolean")continue;const K=qm(D.prevProp,M);let U=K||P===u&&D.isActive&&!q&&ne||A>T&&ne,se=!1;const ce=Array.isArray(M)?M:[M];let be=ce.reduce(r(P),{});Y===!1&&(be={});const{prevResolvedValues:ve={}}=D,re={...ve,...be},j=N=>{U=!0,w.has(N)&&(se=!0,w.delete(N)),D.needsAnimating[N]=!0;const L=e.getValue(N);L&&(L.liveStyle=!1)};for(const N in re){const L=be[N],G=ve[N];if(C.hasOwnProperty(N))continue;let F=!1;bi(L)&&bi(G)?F=!tu(L,G):F=L!==G,F?L!=null?j(N):w.add(N):L!==void 0&&w.has(N)?j(N):D.protectedKeys[N]=!0}D.prevProp=M,D.prevResolvedValues=be,D.isActive&&(C={...C,...be}),s&&e.blockInitialAnimation&&(U=!1),U&&(!(q&&K)||se)&&p.push(...ce.map(N=>({animation:N,options:{type:P}})))}if(w.size){const A={};if(typeof d.initial!="boolean"){const P=Ts(e,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(A.transition=P.transition)}w.forEach(P=>{const D=e.getBaseTarget(P),M=e.getValue(P);M&&(M.liveStyle=!0),A[P]=D??null}),p.push({animation:A})}let b=!!p.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(p):Promise.resolve()}function c(u,d){if(n[u].isActive===d)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),n[u].isActive=d;const o=a(u);for(const p in n)n[p].protectedKeys={};return o}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Ya(),s=!0}}}function qm(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tu(t,e):!1}function Xt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ya(){return{animate:Xt(!0),whileInView:Xt(),whileHover:Xt(),whileTap:Xt(),whileDrag:Xt(),whileFocus:Xt(),exit:Xt()}}class Zt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Wm extends Zt{constructor(t){super(t),t.animationState||(t.animationState=Fm(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Zm=0;class $m extends Zt{constructor(){super(...arguments),this.id=Zm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hm={animation:{Feature:Wm},exit:{Feature:$m}};function ks(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Es(e){return{point:{x:e.pageX,y:e.pageY}}}const Km=e=>t=>Ji(t)&&e(t,Es(t));function gs(e,t,n,s){return ks(e,t,Km(n),s)}function su({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Gm({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ym(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const ru=1e-4,Xm=1-ru,Jm=1+ru,iu=.01,Qm=0-iu,ep=0+iu;function Ke(e){return e.max-e.min}function tp(e,t,n){return Math.abs(e-t)<=n}function Xa(e,t,n,s=.5){e.origin=s,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Ke(n)/Ke(t),e.translate=Re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Xm&&e.scale<=Jm||isNaN(e.scale))&&(e.scale=1),(e.translate>=Qm&&e.translate<=ep||isNaN(e.translate))&&(e.translate=0)}function ys(e,t,n,s){Xa(e.x,t.x,n.x,s?s.originX:void 0),Xa(e.y,t.y,n.y,s?s.originY:void 0)}function Ja(e,t,n){e.min=n.min+t.min,e.max=e.min+Ke(t)}function np(e,t,n){Ja(e.x,t.x,n.x),Ja(e.y,t.y,n.y)}function Qa(e,t,n){e.min=t.min-n.min,e.max=e.min+Ke(t)}function bs(e,t,n){Qa(e.x,t.x,n.x),Qa(e.y,t.y,n.y)}const eo=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cn=()=>({x:eo(),y:eo()}),to=()=>({min:0,max:0}),De=()=>({x:to(),y:to()});function it(e){return[e("x"),e("y")]}function Zr(e){return e===void 0||e===1}function _i({scale:e,scaleX:t,scaleY:n}){return!Zr(e)||!Zr(t)||!Zr(n)}function on(e){return _i(e)||au(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function au(e){return no(e.x)||no(e.y)}function no(e){return e&&e!=="0%"}function or(e,t,n){const s=e-n,r=t*s;return n+r}function so(e,t,n,s,r){return r!==void 0&&(e=or(e,r,s)),or(e,n,s)+t}function Ci(e,t=0,n=1,s,r){e.min=so(e.min,t,n,s,r),e.max=so(e.max,t,n,s,r)}function ou(e,{x:t,y:n}){Ci(e.x,t.translate,t.scale,t.originPoint),Ci(e.y,n.translate,n.scale,n.originPoint)}const ro=.999999999999,io=1.0000000000001;function sp(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,a;for(let c=0;c<r;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Tn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ou(e,a)),s&&on(i.latestValues)&&Tn(e,i.latestValues))}t.x<io&&t.x>ro&&(t.x=1),t.y<io&&t.y>ro&&(t.y=1)}function xn(e,t){e.min=e.min+t,e.max=e.max+t}function ao(e,t,n,s,r=.5){const i=Re(e.min,e.max,r);Ci(e,t,n,i,s)}function Tn(e,t){ao(e.x,t.x,t.scaleX,t.scale,t.originX),ao(e.y,t.y,t.scaleY,t.scale,t.originY)}function cu(e,t){return su(Ym(e.getBoundingClientRect(),t))}function rp(e,t,n){const s=cu(e,n),{scroll:r}=t;return r&&(xn(s.x,r.offset.x),xn(s.y,r.offset.y)),s}const lu=({current:e})=>e?e.ownerDocument.defaultView:null,oo=(e,t)=>Math.abs(e-t);function ip(e,t){const n=oo(e.x,t.x),s=oo(e.y,t.y);return Math.sqrt(n**2+s**2)}class uu{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Hr(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=ip(p.offset,{x:0,y:0})>=3;if(!w&&!C)return;const{point:T}=p,{timestamp:b}=Ze;this.history.push({...T,timestamp:b});const{onStart:A,onMove:P}=this.handlers;w||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,w)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=$r(w,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(p,w)=>{this.end();const{onEnd:C,onSessionEnd:T,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Hr(p.type==="pointercancel"?this.lastMoveEventInfo:$r(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,A),T&&T(p,A)},!Ji(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Es(t),c=$r(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ze;this.history=[{...u,timestamp:d}];const{onSessionStart:o}=n;o&&o(t,Hr(c,this.history)),this.removeListeners=Is(gs(this.contextWindow,"pointermove",this.handlePointerMove),gs(this.contextWindow,"pointerup",this.handlePointerUp),gs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qt(this.updatePoint)}}function $r(e,t){return t?{point:t(e.point)}:e}function co(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hr({point:e},t){return{point:e,delta:co(e,du(t)),offset:co(e,ap(t)),velocity:op(t,.1)}}function ap(e){return e[0]}function du(e){return e[e.length-1]}function op(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=du(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>yt(t)));)n--;if(!s)return{x:0,y:0};const i=bt(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function cp(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Re(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Re(n,e,s.max):Math.min(e,n)),e}function lo(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lp(e,{top:t,left:n,bottom:s,right:r}){return{x:lo(e.x,n,r),y:lo(e.y,t,s)}}function uo(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function up(e,t){return{x:uo(e.x,t.x),y:uo(e.y,t.y)}}function dp(e,t){let n=.5;const s=Ke(e),r=Ke(t);return r>s?n=vs(t.min,t.max-s,e.min):s>r&&(n=vs(e.min,e.max-r,t.min)),Rt(0,1,n)}function fp(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xi=.35;function hp(e=xi){return e===!1?e=0:e===!0&&(e=xi),{x:fo(e,"left","right"),y:fo(e,"top","bottom")}}function fo(e,t,n){return{min:ho(e,t),max:ho(e,n)}}function ho(e,t){return typeof e=="number"?e:e[t]||0}const mp=new WeakMap;class pp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=o=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Es(o).point)},i=(o,p)=>{const{drag:w,dragPropagation:C,onDragStart:T}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Eh(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),it(A=>{let P=this.getAxisMotionValue(A).get()||0;if(vt.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const M=D.layout.layoutBox[A];M&&(P=Ke(M)*(parseFloat(P)/100))}}this.originPoint[A]=P}),T&&Me.postRender(()=>T(o,p)),vi(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(o,p)=>{const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:T,onDrag:b}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:A}=p;if(C&&this.currentDirection===null){this.currentDirection=gp(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),b&&b(o,p)},c=(o,p)=>this.stop(o,p),u=()=>it(o=>this.getAnimationState(o)==="paused"&&this.getAxisMotionValue(o).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new uu(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:lu(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Me.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Gs(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=cp(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&_n(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=lp(s.layoutBox,t):this.constraints=!1,this.elastic=hp(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&it(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=fp(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_n(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=rp(s,r.root,this.visualElement.getTransformPagePoint());let a=up(r.layout.layoutBox,i);if(n){const c=n(Gm(a));this.hasMutatedConstraints=!!c,c&&(a=su(c))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=it(o=>{if(!Gs(o,n,this.currentDirection))return;let p=u&&u[o]||{};a&&(p={min:0,max:0});const w=r?200:1e6,C=r?40:1e7,T={type:"inertia",velocity:s?t[o]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(o,T)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return vi(this.visualElement,t),s.start(ca(t,s,0,n,this.visualElement,!1))}stopAnimation(){it(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){it(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){it(n=>{const{drag:s}=this.getProps();if(!Gs(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n];i.set(t[n]-Re(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!_n(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};it(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();r[a]=dp({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),it(a=>{if(!Gs(a,t,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(Re(u,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;mp.set(this.visualElement,this);const t=this.visualElement.current,n=gs(t,"pointerdown",u=>{const{drag:d,dragListener:o=!0}=this.getProps();d&&o&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();_n(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Me.read(s);const a=ks(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(it(o=>{const p=this.getAxisMotionValue(o);p&&(this.originPoint[o]+=u[o].translate,p.set(p.get()+u[o].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=xi,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Gs(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gp(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yp extends Zt{constructor(t){super(t),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new pp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const mo=e=>(t,n)=>{e&&Me.postRender(()=>e(t,n))};class bp extends Zt{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(t){this.session=new uu(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lu(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:mo(t),onStart:mo(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Me.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=gs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function po(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=po(e,t.target.x),s=po(e,t.target.y);return`${n}% ${s}%`}},vp={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Wt.parse(e);if(r.length>5)return s;const i=Wt.createTransformer(e),a=typeof r[0]!="number"?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;r[0+a]/=c,r[1+a]/=u;const d=Re(c,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),i(r)}};class wp extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;rm(_p),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),nr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Me.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fu(e){const[t,n]=Ol(),s=W.useContext(Si);return x.jsx(wp,{...e,layoutGroup:s,switchLayoutGroup:W.useContext(Wl),isPresent:t,safeToRemove:n})}const _p={borderRadius:{...zn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zn,borderTopRightRadius:zn,borderBottomLeftRadius:zn,borderBottomRightRadius:zn,boxShadow:vp};function Cp(e,t,n){const s=$e(e)?e:In(e);return s.start(ca("",s,t,n)),s.animation}const xp=(e,t)=>e.depth-t.depth;class Tp{constructor(){this.children=[],this.isDirty=!1}add(t){Bi(this.children,t),this.isDirty=!0}remove(t){Ri(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(xp),this.isDirty=!1,this.children.forEach(t)}}function kp(e,t){const n=Qe.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(qt(s),e(i-t))};return Me.setup(s,!0),()=>qt(s)}const hu=["TopLeft","TopRight","BottomLeft","BottomRight"],Ip=hu.length,go=e=>typeof e=="string"?parseFloat(e):e,yo=e=>typeof e=="number"||Ce.test(e);function Ap(e,t,n,s,r,i){r?(e.opacity=Re(0,n.opacity??1,Sp(s)),e.opacityExit=Re(t.opacity??1,0,Ep(s))):i&&(e.opacity=Re(t.opacity??1,n.opacity??1,s));for(let a=0;a<Ip;a++){const c=`border${hu[a]}Radius`;let u=bo(t,c),d=bo(n,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||yo(u)===yo(d)?(e[c]=Math.max(Re(go(u),go(d),s),0),(vt.test(d)||vt.test(u))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=Re(t.rotate||0,n.rotate||0,s))}function bo(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Sp=mu(0,.5,il),Ep=mu(.5,.95,ot);function mu(e,t,n){return s=>s<e?0:s>t?1:n(vs(e,t,s))}function vo(e,t){e.min=t.min,e.max=t.max}function rt(e,t){vo(e.x,t.x),vo(e.y,t.y)}function wo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _o(e,t,n,s,r){return e-=t,e=or(e,1/n,s),r!==void 0&&(e=or(e,1/r,s)),e}function Pp(e,t=0,n=1,s=.5,r,i=e,a=e){if(vt.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=Re(i.min,i.max,s);e===i&&(c-=t),e.min=_o(e.min,t,n,c,r),e.max=_o(e.max,t,n,c,r)}function Co(e,t,[n,s,r],i,a){Pp(e,t[n],t[s],t[r],t.scale,i,a)}const Bp=["x","scaleX","originX"],Rp=["y","scaleY","originY"];function xo(e,t,n,s){Co(e.x,t,Bp,n?n.x:void 0,s?s.x:void 0),Co(e.y,t,Rp,n?n.y:void 0,s?s.y:void 0)}function To(e){return e.translate===0&&e.scale===1}function pu(e){return To(e.x)&&To(e.y)}function ko(e,t){return e.min===t.min&&e.max===t.max}function Mp(e,t){return ko(e.x,t.x)&&ko(e.y,t.y)}function Io(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gu(e,t){return Io(e.x,t.x)&&Io(e.y,t.y)}function Ao(e){return Ke(e.x)/Ke(e.y)}function So(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Vp{constructor(){this.members=[]}add(t){Bi(this.members,t),t.scheduleRender()}remove(t){if(Ri(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jp(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,a=n?.z||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:o,rotateX:p,rotateY:w,skewX:C,skewY:T}=n;d&&(s=`perspective(${d}px) ${s}`),o&&(s+=`rotate(${o}deg) `),p&&(s+=`rotateX(${p}deg) `),w&&(s+=`rotateY(${w}deg) `),C&&(s+=`skewX(${C}deg) `),T&&(s+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,u=e.y.scale*t.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const Kr=["","X","Y","Z"],Dp={visibility:"hidden"},Np=1e3;let Op=0;function Gr(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function yu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ql(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(r||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&yu(s)}function bu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},c=t?.()){this.id=Op++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zp),this.nodes.forEach($p),this.nodes.forEach(Hp),this.nodes.forEach(Fp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tp)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ji),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Nl(a)&&!jh(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),e){let o;const p=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,o&&o(),o=kp(p,250),nr.hasAnimatedSinceResize&&(nr.hasAnimatedSinceResize=!1,this.nodes.forEach(Po))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:o,hasLayoutChanged:p,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||Jp,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=d.getProps(),P=!this.targetLayout||!gu(this.targetLayout,C),D=!p&&w;if(this.options.layoutRoot||this.resumeFrom||D||p&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Gi(T,"layout"),onPlay:b,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(o,D)}else p||Po(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kp),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const p=this.path[o];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eo);return}this.isUpdating||this.nodes.forEach(Wp),this.isUpdating=!1,this.nodes.forEach(Zp),this.nodes.forEach(Lp),this.nodes.forEach(Up),this.clearAllSnapshots();const c=Qe.now();Ze.delta=Rt(0,1e3/60,c-Ze.timestamp),Ze.timestamp=c,Ze.isProcessing=!0,Lr.update.process(Ze),Lr.preRender.process(Ze),Lr.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qp),this.sharedNodes.forEach(Gp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ke(this.snapshot.measuredBox.x)&&!Ke(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!pu(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,o=d!==this.prevTransformTemplateValue;a&&this.instance&&(c||on(this.latestValues)||o)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),Qp(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return De();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eg))){const{scroll:d}=this.root;d&&(xn(c.x,d.offset.x),xn(c.y,d.offset.y))}return c}removeElementScroll(a){const c=De();if(rt(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:o,options:p}=d;d!==this.root&&o&&p.layoutScroll&&(o.wasRoot&&rt(c,a),xn(c.x,o.offset.x),xn(c.y,o.offset.y))}return c}applyTransform(a,c=!1){const u=De();rt(u,a);for(let d=0;d<this.path.length;d++){const o=this.path[d];!c&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tn(u,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),on(o.latestValues)&&Tn(u,o.latestValues)}return on(this.latestValues)&&Tn(u,this.latestValues),u}removeTransform(a){const c=De();rt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!on(d.latestValues))continue;_i(d.latestValues)&&d.updateSnapshot();const o=De(),p=d.measurePageBox();rt(o,p),xo(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,o)}return on(this.latestValues)&&xo(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:p}=this.options;if(!(!this.layout||!(o||p))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),bs(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),np(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rt(this.target,this.layout.layoutBox),ou(this.target,this.targetDelta)):rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),bs(this.relativeTargetOrigin,this.target,w.target),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_i(this.parent.latestValues)||au(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(u=!1),u)return;const{layout:d,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||o))return;rt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,w=this.treeScale.y;sp(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=De());const{target:C}=a;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wo(this.prevProjectionDelta.x,this.projectionDelta.x),wo(this.prevProjectionDelta.y,this.projectionDelta.y)),ys(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==w||!So(this.projectionDelta.x,this.prevProjectionDelta.x)||!So(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cn(),this.projectionDelta=Cn(),this.projectionDeltaWithTransform=Cn()}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},o={...this.latestValues},p=Cn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=De(),C=u?u.source:void 0,T=this.layout?this.layout.source:void 0,b=C!==T,A=this.getStack(),P=!A||A.members.length<=1,D=!!(b&&!P&&this.options.crossfade===!0&&!this.path.some(Xp));this.animationProgress=0;let M;this.mixTargetDelta=ne=>{const Y=ne/1e3;Bo(p.x,a.x,Y),Bo(p.y,a.y,Y),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bs(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yp(this.relativeTarget,this.relativeTargetOrigin,w,Y),M&&Mp(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=De()),rt(M,this.relativeTarget)),b&&(this.animationValues=o,Ap(o,d,this.latestValues,Y,D,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{nr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=In(0)),this.currentAnimation=Cp(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Np),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:o}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&vu(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||De();const p=Ke(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const w=Ke(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+w}rt(c,u),Tn(c,o),ys(this.projectionDeltaWithTransform,this.layoutCorrected,c,o)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Vp),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&Gr("z",a,d,this.animationValues);for(let o=0;o<Kr.length;o++)Gr(`rotate${Kr[o]}`,a,d,this.animationValues),Gr(`skew${Kr[o]}`,a,d,this.animationValues);a.render();for(const o in d)a.setStaticValue(o,d[o]),this.animationValues&&(this.animationValues[o]=d[o]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dp;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=tr(a?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=tr(a?.pointerEvents)||""),this.hasProjected&&!on(this.latestValues)&&(C.transform=u?u({},""):"none",this.hasProjected=!1),C}const o=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=jp(this.projectionDeltaWithTransform,this.treeScale,o),u&&(c.transform=u(o,c.transform));const{x:p,y:w}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?o.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:c.opacity=d===this?o.opacity!==void 0?o.opacity:"":o.opacityExit!==void 0?o.opacityExit:0;for(const C in xs){if(o[C]===void 0)continue;const{correct:T,applyTo:b,isCSSVariable:A}=xs[C],P=c.transform==="none"?o[C]:T(o[C],d);if(b){const D=b.length;for(let M=0;M<D;M++)c[b[M]]=P}else A?this.options.visualElement.renderState.vars[C]=P:c[C]=P}return this.options.layoutId&&(c.pointerEvents=d===this?tr(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Eo),this.root.sharedNodes.clear()}}}function Lp(e){e.updateLayout()}function Up(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:r}=e.options,i=t.source!==e.layout.source;r==="size"?it(o=>{const p=i?t.measuredBox[o]:t.layoutBox[o],w=Ke(p);p.min=n[o].min,p.max=p.min+w}):vu(r,t.layoutBox,n)&&it(o=>{const p=i?t.measuredBox[o]:t.layoutBox[o],w=Ke(n[o]);p.max=p.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[o].max=e.relativeTarget[o].min+w)});const a=Cn();ys(a,n,t.layoutBox);const c=Cn();i?ys(c,e.applyTransform(s,!0),t.measuredBox):ys(c,n,t.layoutBox);const u=!pu(a);let d=!1;if(!e.resumeFrom){const o=e.getClosestProjectingParent();if(o&&!o.resumeFrom){const{snapshot:p,layout:w}=o;if(p&&w){const C=De();bs(C,t.layoutBox,p.layoutBox);const T=De();bs(T,n,w.layoutBox),gu(C,T)||(d=!0),o.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=C,e.relativeParent=o)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function zp(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qp(e){e.clearSnapshot()}function Eo(e){e.clearMeasurements()}function Wp(e){e.isLayoutDirty=!1}function Zp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Po(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $p(e){e.resolveTargetDelta()}function Hp(e){e.calcProjection()}function Kp(e){e.resetSkewAndRotation()}function Gp(e){e.removeLeadSnapshot()}function Bo(e,t,n){e.translate=Re(t.translate,0,n),e.scale=Re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ro(e,t,n,s){e.min=Re(t.min,n.min,s),e.max=Re(t.max,n.max,s)}function Yp(e,t,n,s){Ro(e.x,t.x,n.x,s),Ro(e.y,t.y,n.y,s)}function Xp(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jp={duration:.45,ease:[.4,0,.1,1]},Mo=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vo=Mo("applewebkit/")&&!Mo("chrome/")?Math.round:ot;function jo(e){e.min=Vo(e.min),e.max=Vo(e.max)}function Qp(e){jo(e.x),jo(e.y)}function vu(e,t,n){return e==="position"||e==="preserve-aspect"&&!tp(Ao(t),Ao(n),.2)}function eg(e){return e!==e.root&&e.scroll?.wasRoot}const tg=bu({attachResizeListener:(e,t)=>ks(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yr={current:void 0},wu=bu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yr.current){const e=new tg({});e.mount(window),e.setOptions({layoutScroll:!0}),Yr.current=e}return Yr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ng={pan:{Feature:bp},drag:{Feature:yp,ProjectionNode:wu,MeasureLayout:fu}};function Do(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Me.postRender(()=>i(t,Es(t)))}class sg extends Zt{mount(){const{current:t}=this.node;t&&(this.unmount=Ph(t,(n,s)=>(Do(this.node,s,"Start"),r=>Do(this.node,r,"End"))))}unmount(){}}class rg extends Zt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Is(ks(this.node.current,"focus",()=>this.onFocus()),ks(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function No(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Me.postRender(()=>i(t,Es(t)))}class ig extends Zt{mount(){const{current:t}=this.node;t&&(this.unmount=Vh(t,(n,s)=>(No(this.node,s,"Start"),(r,{success:i})=>No(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ti=new WeakMap,Xr=new WeakMap,ag=e=>{const t=Ti.get(e.target);t&&t(e)},og=e=>{e.forEach(ag)};function cg({root:e,...t}){const n=e||document;Xr.has(n)||Xr.set(n,{});const s=Xr.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(og,{root:e,...t})),s[r]}function lg(e,t,n){const s=cg(t);return Ti.set(e,n),s.observe(e),()=>{Ti.delete(e),s.unobserve(e)}}const ug={some:0,all:1};class dg extends Zt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:ug[r]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:o,onViewportLeave:p}=this.node.getProps(),w=d?o:p;w&&w(u)};return lg(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fg(t,n))&&this.startObserver()}unmount(){}}function fg({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hg={inView:{Feature:dg},tap:{Feature:ig},focus:{Feature:rg},hover:{Feature:sg}},mg={layout:{ProjectionNode:wu,MeasureLayout:fu}},ki={current:null},_u={current:!1};function pg(){if(_u.current=!0,!!Pi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ki.current=e.matches;e.addListener(t),t()}else ki.current=!1}const gg=new WeakMap;function yg(e,t,n){for(const s in t){const r=t[s],i=n[s];if($e(r))e.addValue(s,r);else if($e(i))e.addValue(s,In(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(s);e.addValue(s,In(a!==void 0?a:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Oo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bg{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Qe.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Me.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=hr(n),this.isVariantNode=Fl(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:o,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in p){const C=p[w];u[w]!==void 0&&$e(C)&&C.set(u[w],!1)}}mount(t){this.current=t,gg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),_u.current||pg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ki.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qt(this.notifyUpdate),qt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Pn.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in An){const n=An[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Oo.length;s++){const r=Oo[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=t[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=yg(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=In(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Gc(s)||Xc(s))?s=parseFloat(s):!Nh(s)&&Wt.test(n)&&(s=Rl(t,n)),this.setBaseTarget(t,$e(s)?s.get():s)),$e(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=aa(this.props,n,this.presenceContext?.custom);i&&(s=i[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!$e(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ji),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Cu extends bg{constructor(){super(...arguments),this.KeyframeResolver=kh}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xu(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}function vg(e){return window.getComputedStyle(e)}class wg extends Cu{constructor(){super(...arguments),this.type="html",this.renderInstance=xu}readValueFromInstance(t,n){if(Pn.has(n))return this.projection?.isProjecting?fi(n):Wf(t,n);{const s=vg(t),r=(Oi(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cu(t,n)}build(t,n,s){sa(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return oa(t,n,s)}}const Tu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _g(e,t,n,s){xu(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Tu.has(r)?r:na(r),t.attrs[r])}class Cg extends Cu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Pn.has(n)){const s=Bl(n);return s&&s.default||0}return n=Tu.has(n)?n:na(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Jl(t,n,s)}build(t,n,s){Kl(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){_g(t,n,s,r)}mount(t){this.isSVGTag=Yl(t.tagName),super.mount(t)}}const xg=(e,t)=>ia(e)?new Cg(t):new wg(t,{allowProjection:e!==W.Fragment}),Tg=_m({...Hm,...hg,...ng,...mg},xg),Ii=$h(Tg),kg="_cellNode_e6mp1_1",Ig="_cellNodeColor1_e6mp1_9",Ag="_cellNodeColor2_e6mp1_16",Sg="_cellNodeColor3_e6mp1_23",Eg="_cellNodeColor4_e6mp1_30",Pg="_cellNodeColor5_e6mp1_37",Bg="_cellInfo_e6mp1_44",Rg="_cellTextContent_e6mp1_57",Mg="_cellInfoClickable_e6mp1_60",Vg="_cellRefs_e6mp1_69",jg="_refsToggle_e6mp1_73",Dg="_copyButton_e6mp1_79",Ng="_copied_e6mp1_102",gt={cellNode:kg,cellNodeColor1:Ig,cellNodeColor2:Ag,cellNodeColor3:Sg,cellNodeColor4:Eg,cellNodeColor5:Pg,cellInfo:Bg,cellTextContent:Rg,cellInfoClickable:Mg,cellRefs:Vg,refsToggle:jg,copyButton:Dg,copied:Ng},Og=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),x.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Lg=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("polyline",{points:"20 6 9 17 4 12"})}),ku=({cell:e,depth:t=0})=>{const[n,s]=W.useState(!0),[r,i]=W.useState(!1),a=e.bits.toString(),c=e.refs.length;if(t>10)return x.jsx("div",{className:gt.cellNode,style:{marginLeft:10},children:"Max depth reached."});const u=w=>{w.stopPropagation(),c>0&&s(!n)},d=w=>{w.stopPropagation();const C=e.toBoc().toString("hex");navigator.clipboard.writeText(C).then(()=>{i(!0),setTimeout(()=>i(!1),1500)}).catch(T=>{console.error("Failed to copy BoC: ",T),setTimeout(()=>i(!1),1500)})},o=`${gt.cellInfo} ${c>0?gt.cellInfoClickable:""}`,p=gt[`cellNodeColor${t%5+1}`];return x.jsxs("div",{className:`${gt.cellNode}`,style:{marginLeft:t*5},children:[x.jsxs("div",{className:`${o} ${p}`,onClick:c>0?u:void 0,onKeyDown:c>0?w=>{(w.key==="Enter"||w.key===" ")&&u(w)}:void 0,role:c>0?"button":void 0,tabIndex:c>0?0:void 0,children:[x.jsxs("div",{className:gt.cellTextContent,children:[x.jsx("strong",{children:"Bits:"})," ",a.length>16?a.substring(0,16)+"...":a," (Length:"," ",e.bits.length,")",x.jsx("br",{}),x.jsx("strong",{children:"Refs:"})," ",c>0?x.jsxs("span",{className:gt.refsToggle,children:[n?"":""," ",c]}):c]}),x.jsx("button",{className:`${gt.copyButton} ${r?gt.copied:""}`,onClick:d,title:"Copy BoC (Hex)",children:r?x.jsx(Lg,{}):x.jsx(Og,{})})]}),n&&c>0&&x.jsx("div",{className:gt.cellRefs,children:e.refs.map((w,C)=>x.jsx(ku,{cell:w,depth:t+1},`${e.hash().toString("hex")}-ref-${C}`))})]})},Ug="_container_1ser9_1",zg="_label_1ser9_5",Fg="_contentWrapper_1ser9_12",qg="_copyButton_1ser9_20",Wg="_content_1ser9_12",Fn={container:Ug,label:zg,contentWrapper:Fg,copyButton:qg,content:Wg},Lo=({data:e,label:t,maxHeight:n=100})=>{const[s,r]=W.useState("idle"),i=async()=>{try{await navigator.clipboard.writeText(e),r("copied"),setTimeout(()=>r("idle"),1500)}catch(a){console.error("Failed to copy data:",a)}};return x.jsxs("div",{className:Fn.container,children:[t&&x.jsx("div",{className:Fn.label,children:t}),x.jsxs("div",{className:Fn.contentWrapper,children:[x.jsx("pre",{className:Fn.content,style:{maxHeight:`${n}px`},children:e}),x.jsx(He,{variant:"ghost",size:"sm",onClick:()=>{i()},className:Fn.copyButton,"aria-label":s==="idle"?"Copy":"Copied",children:s==="idle"?x.jsx(bd,{}):x.jsx(ii,{})})]})]})},Zg="_detailsLayout_a29fw_1",$g="_modalHeader_a29fw_11",Hg="_modalTitle_a29fw_19",Kg="_closeButton_a29fw_25",Gg="_contentContainer_a29fw_45",Yg="_leftColumn_a29fw_52",Xg="_rightColumn_a29fw_61",Jg="_treeViewContainer_a29fw_71",Qg="_detailsModalBoxWide_a29fw_78",ey="_dataSection_a29fw_87",ty="_cellDataString_a29fw_102",lt={detailsLayout:Zg,modalHeader:$g,modalTitle:Hg,closeButton:Kg,contentContainer:Gg,leftColumn:Yg,rightColumn:Xg,treeViewContainer:Jg,detailsModalBoxWide:Qg,dataSection:ey,cellDataString:ty},ny=()=>x.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),sy=({isOpen:e,onClose:t,itemData:n})=>{if(!e||!n)return null;let s=null,r=null;const i=a=>a.$==="Cell"&&a?.boc?at.Cell.fromHex(a.boc):(a.$==="Slice"||a.$==="Builder")&&a?.hex?at.Cell.fromHex(a.hex):null;try{const a=i(n);a?(s=x.jsxs(x.Fragment,{children:[x.jsx("div",{className:lt.dataSection,children:x.jsx(Lo,{label:"Cell BoC:",data:a.toBoc().toString("hex")})}),x.jsx("div",{className:lt.dataSection,children:x.jsx(Lo,{label:"Cell Tree representation:",data:a.toString(),maxHeight:300})})]}),r=x.jsx(ku,{cell:a})):(r=null,s=x.jsx("p",{children:"Details for the selected item will be shown here."}))}catch(a){console.error("Error processing item data for modal:",a),r=null,s=x.jsx("p",{children:"Error displaying item details. Data might be malformed."})}return x.jsx(Ud,{open:e,onClose:t,contentClassName:lt.detailsModalBoxWide,children:x.jsxs("div",{className:lt.detailsLayout,children:[x.jsxs("div",{className:lt.modalHeader,children:[x.jsx("div",{className:lt.modalTitle,children:"Cell tree"}),x.jsx("button",{className:lt.closeButton,onClick:t,children:x.jsx($c,{svg:x.jsx(ny,{}),size:20})})]}),x.jsxs("div",{className:lt.contentContainer,children:[x.jsx("div",{className:lt.leftColumn,children:x.jsx("div",{className:lt.treeViewContainer,children:r})}),x.jsx("div",{className:lt.rightColumn,children:s})]})]})})},ry="_stackViewer_l477d_1",iy="_stackTitle_l477d_11",ay="_stackContainer_l477d_17",oy="_emptyStack_l477d_26",cy="_stackItems_l477d_32",ly="_stackElement_l477d_38",uy="_stackIndex_l477d_49",dy="_stackItem_l477d_32",fy="_stackItemLabel_l477d_82",hy="_stackItemValue_l477d_89",my="_stackItemDetails_l477d_95",py="_nullItem_l477d_108 _stackItem_l477d_32",gy="_nanItem_l477d_114 _stackItem_l477d_32",yy="_integerItem_l477d_120 _stackItem_l477d_32",by="_integerItemCopyButton_l477d_127 _stackItemCopyButton_l477d_78",vy="_cellItem_l477d_133 _stackItem_l477d_32",wy="_cellItemCopyButton_l477d_139 _stackItemCopyButton_l477d_78",_y="_sliceItem_l477d_145 _stackItem_l477d_32",Cy="_sliceItemCopyButton_l477d_151 _stackItemCopyButton_l477d_78",xy="_builderItem_l477d_157 _stackItem_l477d_32",Ty="_builderItemCopyButton_l477d_163 _stackItemCopyButton_l477d_78",ky="_continuationItem_l477d_169 _stackItem_l477d_32",Iy="_continuationItemCopyButton_l477d_175 _stackItemCopyButton_l477d_78",Ay="_addressItem_l477d_181 _stackItem_l477d_32",Sy="_addressItemCopyButton_l477d_187 _stackItemCopyButton_l477d_78",Ey="_tupleItem_l477d_193 _stackItem_l477d_32",Py="_unknownItem_l477d_199 _stackItem_l477d_32",By="_tupleElement_l477d_205",Ry="_truncatedMiddle_l477d_220",My="_ellipsis_l477d_227",Vy="_stackItemFullview_l477d_232",jy="_closeBtn_l477d_240",ye={stackViewer:ry,stackTitle:iy,stackContainer:ay,emptyStack:oy,stackItems:cy,stackElement:ly,stackIndex:uy,stackItem:dy,stackItemLabel:fy,stackItemValue:hy,stackItemDetails:my,nullItem:py,nanItem:gy,integerItem:yy,integerItemCopyButton:by,cellItem:vy,cellItemCopyButton:wy,sliceItem:_y,sliceItemCopyButton:Cy,builderItem:xy,builderItemCopyButton:Ty,continuationItem:ky,continuationItemCopyButton:Iy,addressItem:Ay,addressItemCopyButton:Sy,tupleItem:Ey,unknownItem:Py,tupleElement:By,truncatedMiddle:Ry,ellipsis:My,stackItemFullview:Vy,closeBtn:jy},Jt=(e,t=30)=>{if(e.length<=t)return x.jsx(x.Fragment,{children:e});const n=Math.floor(t/2),s=e.substring(0,n),r=e.substring(e.length-n);return x.jsxs("span",{title:e,className:ye.truncatedMiddle,children:[s,x.jsx("span",{className:ye.ellipsis,children:""}),r]})},Dy=(e,t)=>{switch(e.$){case"Integer":return`int-${e.value}-${t}`;case"Cell":return`cell-${e.boc}-${t}`;case"Slice":return`slice-${e.hex}-${e.startBit}-${e.startRef}-${t}`;case"Builder":return`builder-${e.hex}-${t}`;case"Continuation":return`cont-${e.name}-${t}`;case"Address":return`addr-${e.value}-${t}`;case"Tuple":return`tuple-${t}`;case"Null":return`null-${t}`;case"NaN":return`nan-${t}`;case"Unknown":return`unknown-${t}`;default:return`unknown-fallback-${t}`}},Jr=e=>{try{return at.Cell.fromHex(e)}catch{return new at.Cell}},Ny=e=>{try{return e.asSlice().loadAddress()}catch{return}},Oy=({stack:e,title:t})=>{const[n,s]=W.useState(null),[r,i]=W.useState(!1),[a,c]=W.useState(null),u=T=>{s(b=>b===T?null:T)},d=T=>{c(T),i(!0),s(null)},o=()=>{i(!1),c(null)},p=(T,b,A)=>{const P=()=>{switch(T.$){case"Cell":case"Slice":case"Builder":case"Address":d(T);break;default:u(b)}},D=M=>{(M.key==="Enter"||M.key===" ")&&P()};switch(T.$){case"Null":return x.jsx("div",{className:ye.nullItem,children:"null"},b);case"NaN":return x.jsx("div",{className:ye.nanItem,children:"NaN"},b);case"Integer":{const M=T.value.toString();return x.jsxs("div",{className:ye.integerItem,children:[M,x.jsx(nt,{className:ye.integerItemCopyButton,title:"Copy integer value",value:M.toString()})]},b)}case"Cell":{const M=Jr(T.boc);return x.jsxs("div",{className:ye.cellItem,onClick:P,onKeyDown:D,role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Cell"}),x.jsxs("div",{className:ye.stackItemValue,children:[M.bits.length===0&&M.refs.length===0?"Empty Cell":n===b?T.boc:Jt(T.boc,40),x.jsxs("div",{className:ye.stackItemDetails,children:["Bits: ",M.bits.length,", Refs: ",M.refs.length]}),x.jsx(nt,{className:ye.cellItemCopyButton,title:"Copy cell as BoC",value:T.boc})]})]},b)}case"Slice":{const M=Jr(T.hex);if(M.bits.length===267&&M.refs.length===0){const ne=Ny(M);if(ne){const Y=ne.toRawString(),q=ne.toString();return x.jsxs("div",{className:ye.addressItem,onClick:()=>d(T),onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&d(T)},role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Address"}),x.jsx("div",{className:ye.stackItemValue,children:n===b?Y:Jt(Y,40)}),x.jsx(nt,{className:ye.addressItemCopyButton,title:"Copy address as base64",value:q})]},b)}}return x.jsxs("div",{className:ye.sliceItem,onClick:P,onKeyDown:D,role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Slice"}),x.jsxs("div",{className:ye.stackItemValue,children:[M.bits.length===0&&M.refs.length===0?"Empty Slice":n===b?T.hex:Jt(T.hex,40),x.jsx(nt,{className:ye.sliceItemCopyButton,title:"Copy slice as BoC",value:T.hex})]}),x.jsxs("div",{className:ye.stackItemDetails,children:["Bits: ",T.startBit,"-",M.bits.length,", Refs: ",T.startRef,"-",M.refs.length]})]},b)}case"Builder":{const M=Jr(T.hex);return x.jsxs("div",{className:ye.builderItem,onClick:P,onKeyDown:D,role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Builder"}),x.jsx("div",{className:ye.stackItemValue,children:M.bits.length===0&&M.refs.length===0?"Empty Builder":n===b?T.hex:Jt(T.hex,40)}),x.jsxs("div",{className:ye.stackItemDetails,children:["Bits: ",M.bits.length,", Refs: ",M.refs.length]}),x.jsx(nt,{className:ye.builderItemCopyButton,title:"Copy builder as BoC",value:T.hex})]},b)}case"Continuation":return x.jsxs("div",{className:ye.continuationItem,onClick:()=>u(b),onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&u(b)},role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Continuation"}),x.jsx("div",{className:ye.stackItemValue,children:n===b?T.name:Jt(T.name,40)}),x.jsx(nt,{className:ye.continuationItemCopyButton,title:"Copy continuation",value:T.name}),n===b&&x.jsx("div",{className:ye.stackItemFullview,children:x.jsx("button",{className:ye.closeBtn,onClick:M=>{M.stopPropagation(),s(null)},children:"Collapse"})})]},b);case"Address":return x.jsxs("div",{className:ye.addressItem,onClick:P,onKeyDown:D,role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Address"}),x.jsx("div",{className:ye.stackItemValue,children:n===b?T.value:Jt(T.value,40)}),x.jsx(nt,{className:ye.addressItemCopyButton,title:"Copy address as base64",value:T.value})]},b);case"Tuple":return x.jsxs("div",{className:ye.tupleItem,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Tuple"}),x.jsx("div",{className:ye.stackItems,children:T.elements.map((M,ne)=>{const Y=`${b}-${ne}`;return x.jsx("div",{className:ye.tupleElement,children:p(M,Y)},Y)})})]},b);case"Unknown":return x.jsxs("div",{className:ye.unknownItem,role:"button",tabIndex:0,children:[x.jsx("div",{className:ye.stackItemLabel,children:"Unknown"}),x.jsx("div",{className:ye.stackItemValue,children:n===b?T.value:Jt(T.value,40)})]},b);default:return x.jsx("div",{className:ye.stackItem,children:"Unknown element type"},b)}},w={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},C=e.map((T,b)=>({element:T,key:Dy(T,b),originalIndex:e.length-1-b}));return x.jsxs("div",{className:ye.stackViewer,children:[t&&x.jsx("h3",{className:ye.stackTitle,children:t}),x.jsx("div",{className:ye.stackContainer,children:C.length===0?x.jsx("div",{className:ye.emptyStack,children:"Empty stack"}):x.jsx("div",{className:ye.stackItems,children:x.jsx(Ll,{mode:"popLayout",children:[...C].reverse().map(({element:T,key:b,originalIndex:A})=>x.jsxs(Ii.div,{layout:!0,variants:w,initial:"initial",animate:"animate",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:ye.stackElement,children:[x.jsx("div",{className:ye.stackIndex,children:A}),p(T,b)]},b))})})}),x.jsx(sy,{isOpen:r,onClose:o,itemData:a})]})},Ly=cr.memo(Oy);function Uy(e){return vd({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22V20H5V4H15V8H19V13H20.9998V7L16 2H3.9985C3.44749 2 3 2.44405 3 2.9918V21.0082C3 21.5447 3.44476 22 3.9934 22H12ZM21.5356 21.1212L19.4143 18.9999L21.5356 16.8786L20.1214 15.4644L18.0001 17.5857L15.8788 15.4644L14.4646 16.8786L16.5859 18.9999L14.4646 21.1212L15.8788 22.5354L18.0001 20.4141L20.1214 22.5354L21.5356 21.1212Z"},child:[]}]})(e)}const zy="_stackEditor_kskkq_1",Fy="_stackContainer_kskkq_8",qy="_stackHeader_kskkq_17",Wy="_stackHeaderActions_kskkq_31",Zy="_stackButton_kskkq_36",$y="_stackNavigationButton_kskkq_49",Hy="_applyStackButton_kskkq_53",Ky="_emptyStack_kskkq_57",Gy="_stackItems_kskkq_63",Yy="_stackElement_kskkq_70",Xy="_stackIndex_kskkq_83",Jy="_stackItemContainer_kskkq_96",Qy="_stackItemActions_kskkq_101",e0="_stackItem_kskkq_63",t0="_stackItemLabel_kskkq_127",n0="_stackItemValue_kskkq_134",s0="_stackItemDetails_kskkq_140",r0="_nullItem_kskkq_153 _stackItem_kskkq_63",i0="_nanItem_kskkq_159 _stackItem_kskkq_63",a0="_integerItem_kskkq_165 _stackItem_kskkq_63",o0="_integerItemCopyButton_kskkq_172 _stackItemCopyButton_kskkq_123",c0="_cellItem_kskkq_178 _stackItem_kskkq_63",l0="_cellItemCopyButton_kskkq_184 _stackItemCopyButton_kskkq_123",u0="_sliceItem_kskkq_190 _stackItem_kskkq_63",d0="_sliceItemCopyButton_kskkq_196 _stackItemCopyButton_kskkq_123",f0="_builderItem_kskkq_202 _stackItem_kskkq_63",h0="_builderItemCopyButton_kskkq_208 _stackItemCopyButton_kskkq_123",m0="_continuationItem_kskkq_214 _stackItem_kskkq_63",p0="_continuationItemCopyButton_kskkq_220 _stackItemCopyButton_kskkq_123",g0="_addressItem_kskkq_226 _stackItem_kskkq_63",y0="_addressItemCopyButton_kskkq_232 _stackItemCopyButton_kskkq_123",b0="_tupleItem_kskkq_238 _stackItem_kskkq_63",v0="_unknownItem_kskkq_244 _stackItem_kskkq_63",w0="_tupleElement_kskkq_250",_0="_truncatedMiddle_kskkq_257",C0="_ellipsis_kskkq_264",x0="_textImportSection_kskkq_269",T0="_textImportInput_kskkq_273",k0="_textImportActions_kskkq_297",I0="_parseError_kskkq_302",A0="_newItemFormItem_kskkq_314",S0="_newItemFormContent_kskkq_318",E0="_inlineTypeSelect_kskkq_325",P0="_inlineValueInput_kskkq_342",B0="_inputError_kskkq_364",ae={stackEditor:zy,stackContainer:Fy,stackHeader:qy,stackHeaderActions:Wy,stackButton:Zy,stackNavigationButton:$y,applyStackButton:Hy,emptyStack:Ky,stackItems:Gy,stackElement:Yy,stackIndex:Xy,stackItemContainer:Jy,stackItemActions:Qy,stackItem:e0,stackItemLabel:t0,stackItemValue:n0,stackItemDetails:s0,nullItem:r0,nanItem:i0,integerItem:a0,integerItemCopyButton:o0,cellItem:c0,cellItemCopyButton:l0,sliceItem:u0,sliceItemCopyButton:d0,builderItem:f0,builderItemCopyButton:h0,continuationItem:m0,continuationItemCopyButton:p0,addressItem:g0,addressItemCopyButton:y0,tupleItem:b0,unknownItem:v0,tupleElement:w0,truncatedMiddle:_0,ellipsis:C0,textImportSection:x0,textImportInput:T0,textImportActions:k0,parseError:I0,newItemFormItem:A0,newItemFormContent:S0,inlineTypeSelect:E0,inlineValueInput:P0,inputError:B0},bn=(e,t=30)=>{if(e.length<=t)return x.jsx(x.Fragment,{children:e});const n=Math.floor(t/2),s=e.substring(0,n),r=e.substring(e.length-n);return x.jsxs("span",{title:e,className:ae.truncatedMiddle,children:[s,x.jsx("span",{className:ae.ellipsis,children:""}),r]})},R0=(e,t)=>{switch(e.$){case"Integer":return`int-${e.value}-${t}`;case"Cell":return`cell-${e.boc}-${t}`;case"Slice":return`slice-${e.hex}-${e.startBit}-${e.startRef}-${t}`;case"Builder":return`builder-${e.hex}-${t}`;case"Continuation":return`cont-${e.name}-${t}`;case"Address":return`addr-${e.value}-${t}`;case"Tuple":return`tuple-${t}`;case"Null":return`null-${t}`;case"NaN":return`nan-${t}`;case"Unknown":return`unknown-${t}`;default:return`unknown-fallback-${t}`}},Qr=e=>{try{return at.Cell.fromHex(e)}catch{return new at.Cell}},M0=({stack:e,onStackChange:t})=>{const[n,s]=W.useState(null),[r,i]=W.useState(!1),[a,c]=W.useState(""),[u,d]=W.useState(null),[o,p]=W.useState(!1),[w,C]=W.useState({type:"Integer",value:""}),[T,b]=W.useState(null);W.useEffect(()=>{const re=j=>{(j.ctrlKey||j.metaKey)&&j.key==="s"&&(j.preventDefault(),j.stopPropagation())};return document.addEventListener("keydown",re),()=>{document.removeEventListener("keydown",re)}},[]);const A=re=>{s(j=>j===re?null:re)},P=W.useCallback(re=>{if(!Array.isArray(e))return;const j=e.length-1-re,Q=e.filter((g,N)=>N!==j);t(Q)},[e,t]),D=W.useCallback((re,j)=>{if(!Array.isArray(e))return;const Q=[...e],g=e.length-1-re,N=j==="up"?g+1:g-1;N>=0&&N<Q.length&&([Q[g],Q[N]]=[Q[N],Q[g]],t(Q))},[e,t]),M=W.useCallback(()=>{t([])},[t]),ne=W.useCallback(()=>{if(!a.trim()){d("Please enter stack text");return}try{d(null);const re=xa.logs.parseStack(a.trim());if(!re){d("Could not parse stack text");return}const j=xa.logs.processStack(re);if(!Array.isArray(j)){d("Invalid stack format");return}t(j),c(""),i(!1)}catch(re){d(re instanceof Error?re.message:"Parse error")}},[a,t]),Y=W.useCallback((re,j)=>{if(re==="Null"||!j.trim())return null;try{switch(re){case"Integer":BigInt(j);break;case"Cell":at.Cell.fromHex(j);break;case"Slice":if(!/^[0-9a-fA-F]*$/.test(j))return"Invalid hex format";break;case"Address":at.Address.parse(j);break}return null}catch(Q){return Q instanceof Error?Q.message:"Invalid value"}},[]),q=W.useCallback(()=>{p(!0),C({type:"Integer",value:""}),b(null),i(!1)},[]),K=W.useCallback(()=>{p(!1),C({type:"Integer",value:""}),b(null)},[]),U=W.useCallback(()=>{if(w.type!=="Null"&&!w.value.trim()){b("Value is required");return}const re=Y(w.type,w.value);if(re){b(re);return}b(null);let j;try{switch(w.type){case"Integer":j={$:"Integer",value:BigInt(w.value)};break;case"Cell":at.Cell.fromHex(w.value),j={$:"Cell",boc:w.value};break;case"Slice":j={$:"Slice",hex:w.value,startBit:0,endBit:0,startRef:0,endRef:0};break;case"Address":{const Q=at.Address.parse(w.value),g=new at.Builder;g.storeAddress(Q);const N=g.endCell();j={$:"Slice",hex:N.toBoc().toString("hex"),startBit:0,endBit:N.bits.length,startRef:0,endRef:N.refs.length};break}case"Null":j={$:"Null"};break;default:return}t([...Array.isArray(e)?e:[],j]),p(!1),C({type:"Integer",value:""}),b(null)}catch(Q){b(Q instanceof Error?Q.message:"Invalid value")}},[w,e,t,Y]),se=(re,j,Q)=>{const g=()=>{A(j)},N=L=>{(L.key==="Enter"||L.key===" ")&&g()};switch(re.$){case"Null":return x.jsx("div",{className:ae.nullItem,children:"null"},j);case"NaN":return x.jsx("div",{className:ae.nanItem,children:"NaN"},j);case"Integer":{const L=re.value.toString();return x.jsxs("div",{className:ae.integerItem,children:[L,x.jsx(nt,{className:ae.integerItemCopyButton,title:"Copy integer value",value:L.toString()})]},j)}case"Cell":{const L=Qr(re.boc);return x.jsxs("div",{className:ae.cellItem,onClick:g,onKeyDown:N,role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Cell"}),x.jsxs("div",{className:ae.stackItemValue,children:[L.bits.length===0&&L.refs.length===0?"Empty Cell":n===j?re.boc:bn(re.boc,40),x.jsxs("div",{className:ae.stackItemDetails,children:["Bits: ",L.bits.length,", Refs: ",L.refs.length]}),x.jsx(nt,{className:ae.cellItemCopyButton,title:"Copy cell as BoC",value:re.boc})]})]},j)}case"Slice":{const L=Qr(re.hex);return x.jsxs("div",{className:ae.sliceItem,onClick:g,onKeyDown:N,role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Slice"}),x.jsxs("div",{className:ae.stackItemValue,children:[L.bits.length===0&&L.refs.length===0?"Empty Slice":n===j?re.hex:bn(re.hex,40),x.jsx(nt,{className:ae.sliceItemCopyButton,title:"Copy slice as BoC",value:re.hex})]}),x.jsxs("div",{className:ae.stackItemDetails,children:["Bits: ",re.startBit,"-",re.endBit,", Refs: ",re.startRef,"-",re.endRef]})]},j)}case"Builder":{const L=Qr(re.hex);return x.jsxs("div",{className:ae.builderItem,onClick:g,onKeyDown:N,role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Builder"}),x.jsx("div",{className:ae.stackItemValue,children:L.bits.length===0&&L.refs.length===0?"Empty Builder":n===j?re.hex:bn(re.hex,40)}),x.jsxs("div",{className:ae.stackItemDetails,children:["Bits: ",L.bits.length,", Refs: ",L.refs.length]}),x.jsx(nt,{className:ae.builderItemCopyButton,title:"Copy builder as BoC",value:re.hex})]},j)}case"Continuation":return x.jsxs("div",{className:ae.continuationItem,onClick:()=>A(j),onKeyDown:L=>{(L.key==="Enter"||L.key===" ")&&A(j)},role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Continuation"}),x.jsx("div",{className:ae.stackItemValue,children:n===j?re.name:bn(re.name,40)}),x.jsx(nt,{className:ae.continuationItemCopyButton,title:"Copy continuation",value:re.name})]},j);case"Address":return x.jsxs("div",{className:ae.addressItem,onClick:g,onKeyDown:N,role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Address"}),x.jsx("div",{className:ae.stackItemValue,children:n===j?re.value:bn(re.value,40)}),x.jsx(nt,{className:ae.addressItemCopyButton,title:"Copy address as base64",value:re.value})]},j);case"Tuple":return x.jsxs("div",{className:ae.tupleItem,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Tuple"}),x.jsx("div",{className:ae.stackItems,children:re.elements.map((L,G)=>{const F=`${j}-${G}`;return x.jsx("div",{className:ae.tupleElement,children:se(L,F)},F)})})]},j);case"Unknown":return x.jsxs("div",{className:ae.unknownItem,role:"button",tabIndex:0,children:[x.jsx("div",{className:ae.stackItemLabel,children:"Unknown"}),x.jsx("div",{className:ae.stackItemValue,children:n===j?re.value:bn(re.value,40)})]},j);default:return x.jsx("div",{className:ae.stackItem,children:"Unknown element type"},j)}},ce=()=>{const re=j=>{switch(j){case"Integer":return ae.integerItem;case"Cell":return ae.cellItem;case"Slice":return ae.sliceItem;case"Address":return ae.addressItem;case"Null":return ae.nullItem;default:return""}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:ae.stackIndex,children:Array.isArray(e)?e.length:0}),x.jsx("div",{className:ae.stackItemContainer,children:x.jsx("div",{className:`${re(w.type)} ${ae.newItemFormItem}`,children:x.jsxs("div",{className:ae.newItemFormContent,children:[x.jsxs("select",{value:w.type,onChange:j=>{C({...w,type:j.target.value,value:""}),b(null)},onKeyDown:j=>{j.key==="Enter"?(j.preventDefault(),w.type==="Null"?U():j.currentTarget.parentElement?.querySelector("input")?.focus()):j.key==="Escape"&&(j.preventDefault(),K())},className:ae.inlineTypeSelect,children:[x.jsx("option",{value:"Integer",children:"Integer"}),x.jsx("option",{value:"Cell",children:"Cell"}),x.jsx("option",{value:"Slice",children:"Slice"}),x.jsx("option",{value:"Address",children:"Address"}),x.jsx("option",{value:"Null",children:"Null"})]}),w.type!=="Null"?x.jsx("input",{type:"text",value:w.value,onChange:j=>{const Q=j.target.value;C({...w,value:Q}),T&&b(null)},onKeyDown:j=>{j.key==="Enter"?(j.preventDefault(),U()):j.key==="Escape"&&(j.preventDefault(),K())},placeholder:w.type==="Integer"?"":w.type==="Cell"?"BoC hex":w.type==="Address"?"0:abc123... or EQD...":"Hex data",className:`${ae.inlineValueInput} ${T?ae.inputError:""}`,autoFocus:!0}):x.jsx("div",{className:ae.nullValuePlaceholder})]})})}),x.jsxs("div",{className:ae.stackItemActions,children:[x.jsx(He,{className:ae.stackNavigationButton,variant:"ghost",size:"sm",onClick:U,disabled:w.type!=="Null"&&!w.value.trim()||!!T,title:"Save",children:x.jsx(ii,{size:14})}),x.jsx(He,{className:ae.stackNavigationButton,variant:"ghost",size:"sm",onClick:K,title:"Cancel",children:x.jsx(kd,{size:14})})]})]})},be={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},ve=Array.isArray(e)?e.map((re,j)=>({element:re,key:R0(re,j),originalIndex:e.length-1-j})):[];return x.jsx("div",{className:ae.stackEditor,children:x.jsxs("div",{className:ae.stackContainer,children:[x.jsxs("div",{className:ae.stackHeader,children:[x.jsx("h4",{children:"Initial Stack"}),x.jsxs("div",{className:ae.stackHeaderActions,children:[x.jsx(He,{className:ae.stackButton,variant:"ghost",size:"sm",onClick:q,disabled:o,title:"Add new item",children:x.jsx(wd,{size:16})}),x.jsxs(He,{className:ae.stackButton,variant:"ghost",size:"sm",onClick:()=>i(!r),title:"Import from text",children:[x.jsx(_d,{size:16}),"Import"]}),x.jsxs(He,{className:ae.stackButton,variant:"ghost",size:"sm",onClick:M,disabled:!Array.isArray(e)||e.length===0,children:[x.jsx(Uy,{size:16}),"Clear All"]})]})]}),r&&x.jsxs("div",{className:ae.textImportSection,children:[x.jsx("textarea",{value:a,onChange:re=>c(re.target.value),placeholder:"Paste stack text from logs (e.g., [ 42 CS{...} ])",className:ae.textImportInput,rows:3}),u&&x.jsx("div",{className:ae.parseError,children:u}),x.jsxs("div",{className:ae.textImportActions,children:[x.jsxs(He,{className:ae.applyStackButton,onClick:ne,disabled:!a.trim(),children:[x.jsx(ii,{size:16}),"Apply"]}),x.jsx(He,{className:ae.stackButton,variant:"ghost",onClick:()=>i(!1),children:"Cancel"})]})]}),(!Array.isArray(e)||e.length===0)&&!o?x.jsx("div",{className:ae.emptyStack,children:"Empty stack"}):x.jsx("div",{className:ae.stackItems,children:x.jsxs(Ll,{mode:"popLayout",children:[o&&x.jsx(Ii.div,{layout:!0,variants:be,initial:"initial",animate:"animate",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:ae.stackElement,children:ce()},"new-item-form"),[...ve].reverse().map(({element:re,key:j,originalIndex:Q})=>x.jsxs(Ii.div,{layout:!0,variants:be,initial:"initial",animate:"animate",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:ae.stackElement,children:[x.jsx("div",{className:ae.stackIndex,children:Q}),x.jsx("div",{className:ae.stackItemContainer,children:se(re,j)}),x.jsxs("div",{className:ae.stackItemActions,children:[x.jsx(He,{className:ae.stackNavigationButton,variant:"ghost",size:"sm",onClick:()=>D(Q,"up"),disabled:!Array.isArray(e)||Q===0,title:"Move up",children:x.jsx(Cd,{size:14})}),x.jsx(He,{className:ae.stackNavigationButton,variant:"ghost",size:"sm",onClick:()=>D(Q,"down"),disabled:!Array.isArray(e)||Q===e.length-1,title:"Move down",children:x.jsx(xd,{size:14})}),x.jsx(He,{className:ae.stackNavigationButton,variant:"ghost",size:"sm",onClick:()=>P(Q),title:"Remove",children:x.jsx(Td,{size:14})})]})]},j))]})})]})})},V0=cr.memo(M0),j0="_stepInstructionContainer_1k0gl_1",D0="_instructionWindow_1k0gl_12",N0="_instructionItem_1k0gl_19",O0="_instructionName_1k0gl_32",L0="_instructionGas_1k0gl_36",un={stepInstructionContainer:j0,instructionWindow:D0,instructionItem:N0,instructionName:O0,instructionGas:L0},U0=({steps:e,currentIndex:t,itemHeight:n=48})=>{const[s,r]=W.useState(0),i=W.useRef(t);return W.useEffect(()=>{const a=-t*n;r(a),i.current=t},[t,e.length,n]),e.length===0?x.jsx("div",{className:un.stepInstructionContainer,style:{height:`${n}px`},children:x.jsx("div",{className:un.instructionItem,style:{height:`${n}px`},children:"No instructions to display."})}):x.jsx("div",{className:un.stepInstructionContainer,style:{height:`${n}px`},children:x.jsx("div",{className:un.instructionWindow,style:{transform:`translateY(${s}px)`,height:`${e.length*n}px`},children:x.jsx(Iu,{steps:e,itemHeight:n})})})},z0=({steps:e,itemHeight:t})=>x.jsx(x.Fragment,{children:e.map((n,s)=>x.jsxs("div",{className:un.instructionItem,style:{height:`${t}px`},children:[x.jsx("span",{className:un.instructionName,children:n.name}),x.jsxs("span",{className:un.instructionGas,children:[n.gasCost.toString()," gas"]})]},s))}),Iu=cr.memo(z0);Iu.displayName="StepInstructionsListMemo";const F0=cr.memo(U0),q0="_sidePanel_1e8v9_1",W0="_stepDetails_1e8v9_12",Z0="_stepHeader_1e8v9_20",$0="_stepHeaderTop_1e8v9_27",H0="_stepCounter_1e8v9_36",K0="_stepInstructionBlock_1e8v9_41",G0="_stepInstruction_1e8v9_41",Y0="_stepGas_1e8v9_57",X0="_stackViewerContainer_1e8v9_65",J0="_stackHeader_1e8v9_74",Q0="_navigationControls_1e8v9_89",eb="_navButton_1e8v9_96",We={sidePanel:q0,stepDetails:W0,stepHeader:Z0,stepHeaderTop:$0,stepCounter:H0,stepInstructionBlock:K0,stepInstruction:G0,stepGas:Y0,stackViewerContainer:X0,stackHeader:J0,navigationControls:Q0,navButton:eb},Yb=({selectedStep:e=0,totalSteps:t=0,currentStep:n,currentStack:s=[],canGoPrev:r=!1,canGoNext:i=!1,onPrev:a=()=>{},onNext:c=()=>{},onFirst:u=()=>{},onLast:d=()=>{},instructionDetails:o=[],cumulativeGas:p,showGas:w=!1,placeholderMessage:C,statusMessage:T,showStackSetup:b=!1,initialStack:A=[],onInitialStackChange:P=()=>{},hasExecutionResults:D=!1})=>{const M=t>0&&n,ne=b&&!D;return x.jsx("div",{className:We.sidePanel,children:x.jsxs("div",{className:We.stepDetails,children:[x.jsxs("div",{className:We.stepHeader,children:[x.jsxs("div",{className:We.stepHeaderTop,children:[x.jsx("span",{className:We.stepCounter,"data-testid":"step-counter-info",children:M?`Step ${e+1} of ${t}`:C||"Ready"}),w&&x.jsxs("span",{className:We.cumulativeGasCounter,"data-testid":"cumulative-gas-counter",children:["Used gas: ",p]}),T&&x.jsx("span",{className:We.statusMessage,children:T})]}),o.length>0&&x.jsx(F0,{steps:o,currentIndex:e,itemHeight:32}),o.length===0&&x.jsxs("div",{className:We.stepInstructionBlock,children:[x.jsx("span",{className:We.stepInstruction,children:n?.instructionName||C||"Click Execute to run assembly code"}),n?.gasCost&&w&&x.jsxs("span",{className:We.stepGas,children:[n.gasCost," gas"]}),n?.gasUsed&&n.gasUsed>0&&!w&&x.jsxs("span",{className:We.stepGas,children:[n.gasUsed," gas"]})]}),x.jsxs("div",{className:We.navigationControls,children:[x.jsx(He,{variant:"ghost",onClick:u,className:We.navButton,disabled:!r||t===0,title:"Go to First Step","data-testid":"go-to-first-step-button",children:"First"}),x.jsx(He,{variant:"ghost",onClick:a,className:We.navButton,disabled:!r||t===0,title:"Previous Step","data-testid":"prev-step-button",children:"Prev"}),x.jsx(He,{variant:"ghost",onClick:c,className:We.navButton,disabled:!i||t===0,title:"Next Step","data-testid":"next-step-button",children:"Next"}),x.jsx(He,{variant:"ghost",onClick:d,className:We.navButton,disabled:!i||t===0,title:"Go to Last Step","data-testid":"go-to-last-step-button",children:"Last"})]})]}),x.jsx("div",{className:We.stackViewerContainer,children:ne?x.jsx(V0,{stack:A,onStackChange:P}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:We.stackHeader,children:x.jsx("span",{children:"Stack"})}),x.jsx(Ly,{stack:s,title:""})]})})]})})};var Qt={},qn={};/*! Axios v1.9.0 Copyright (c) 2025 Matt Zabriskie and contributors */var ei,Uo;function la(){if(Uo)return ei;Uo=1;function e(f,h){return function(){return f.apply(h,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:s,toStringTag:r}=Symbol,i=(f=>h=>{const v=t.call(h);return f[v]||(f[v]=v.slice(8,-1).toLowerCase())})(Object.create(null)),a=f=>(f=f.toLowerCase(),h=>i(h)===f),c=f=>h=>typeof h===f,{isArray:u}=Array,d=c("undefined");function o(f){return f!==null&&!d(f)&&f.constructor!==null&&!d(f.constructor)&&T(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const p=a("ArrayBuffer");function w(f){let h;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?h=ArrayBuffer.isView(f):h=f&&f.buffer&&p(f.buffer),h}const C=c("string"),T=c("function"),b=c("number"),A=f=>f!==null&&typeof f=="object",P=f=>f===!0||f===!1,D=f=>{if(i(f)!=="object")return!1;const h=n(f);return(h===null||h===Object.prototype||Object.getPrototypeOf(h)===null)&&!(r in f)&&!(s in f)},M=a("Date"),ne=a("File"),Y=a("Blob"),q=a("FileList"),K=f=>A(f)&&T(f.pipe),U=f=>{let h;return f&&(typeof FormData=="function"&&f instanceof FormData||T(f.append)&&((h=i(f))==="formdata"||h==="object"&&T(f.toString)&&f.toString()==="[object FormData]"))},se=a("URLSearchParams"),[ce,be,ve,re]=["ReadableStream","Request","Response","Headers"].map(a),j=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Q(f,h,{allOwnKeys:v=!1}={}){if(f===null||typeof f>"u")return;let _,E;if(typeof f!="object"&&(f=[f]),u(f))for(_=0,E=f.length;_<E;_++)h.call(null,f[_],_,f);else{const R=v?Object.getOwnPropertyNames(f):Object.keys(f),V=R.length;let H;for(_=0;_<V;_++)H=R[_],h.call(null,f[H],H,f)}}function g(f,h){h=h.toLowerCase();const v=Object.keys(f);let _=v.length,E;for(;_-- >0;)if(E=v[_],h===E.toLowerCase())return E;return null}const N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Bd,L=f=>!d(f)&&f!==N;function G(){const{caseless:f}=L(this)&&this||{},h={},v=(_,E)=>{const R=f&&g(h,E)||E;D(h[R])&&D(_)?h[R]=G(h[R],_):D(_)?h[R]=G({},_):u(_)?h[R]=_.slice():h[R]=_};for(let _=0,E=arguments.length;_<E;_++)arguments[_]&&Q(arguments[_],v);return h}const F=(f,h,v,{allOwnKeys:_}={})=>(Q(h,(E,R)=>{v&&T(E)?f[R]=e(E,v):f[R]=E},{allOwnKeys:_}),f),Z=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),$=(f,h,v,_)=>{f.prototype=Object.create(h.prototype,_),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:h.prototype}),v&&Object.assign(f.prototype,v)},J=(f,h,v,_)=>{let E,R,V;const H={};if(h=h||{},f==null)return h;do{for(E=Object.getOwnPropertyNames(f),R=E.length;R-- >0;)V=E[R],(!_||_(V,f,h))&&!H[V]&&(h[V]=f[V],H[V]=!0);f=v!==!1&&n(f)}while(f&&(!v||v(f,h))&&f!==Object.prototype);return h},oe=(f,h,v)=>{f=String(f),(v===void 0||v>f.length)&&(v=f.length),v-=h.length;const _=f.indexOf(h,v);return _!==-1&&_===v},ie=f=>{if(!f)return null;if(u(f))return f;let h=f.length;if(!b(h))return null;const v=new Array(h);for(;h-- >0;)v[h]=f[h];return v},xe=(f=>h=>f&&h instanceof f)(typeof Uint8Array<"u"&&n(Uint8Array)),we=(f,h)=>{const _=(f&&f[s]).call(f);let E;for(;(E=_.next())&&!E.done;){const R=E.value;h.call(f,R[0],R[1])}},_e=(f,h)=>{let v;const _=[];for(;(v=f.exec(h))!==null;)_.push(v);return _},Ie=a("HTMLFormElement"),Ee=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(v,_,E){return _.toUpperCase()+E}),Ge=(({hasOwnProperty:f})=>(h,v)=>f.call(h,v))(Object.prototype),Se=a("RegExp"),ht=(f,h)=>{const v=Object.getOwnPropertyDescriptors(f),_={};Q(v,(E,R)=>{let V;(V=h(E,R,f))!==!1&&(_[R]=V||E)}),Object.defineProperties(f,_)},st=f=>{ht(f,(h,v)=>{if(T(f)&&["arguments","caller","callee"].indexOf(v)!==-1)return!1;const _=f[v];if(T(_)){if(h.enumerable=!1,"writable"in h){h.writable=!1;return}h.set||(h.set=()=>{throw Error("Can not rewrite read-only method '"+v+"'")})}})},_t=(f,h)=>{const v={},_=E=>{E.forEach(R=>{v[R]=!0})};return u(f)?_(f):_(String(f).split(h)),v},Vt=()=>{},mt=(f,h)=>f!=null&&Number.isFinite(f=+f)?f:h;function Ye(f){return!!(f&&T(f.append)&&f[r]==="FormData"&&f[s])}const $t=f=>{const h=new Array(10),v=(_,E)=>{if(A(_)){if(h.indexOf(_)>=0)return;if(!("toJSON"in _)){h[E]=_;const R=u(_)?[]:{};return Q(_,(V,H)=>{const de=v(V,E+1);!d(de)&&(R[H]=de)}),h[E]=void 0,R}}return _};return v(f,0)},hn=a("AsyncFunction"),Ct=f=>f&&(A(f)||T(f))&&T(f.then)&&T(f.catch),xt=((f,h)=>f?setImmediate:h?((v,_)=>(N.addEventListener("message",({source:E,data:R})=>{E===N&&R===v&&_.length&&_.shift()()},!1),E=>{_.push(E),N.postMessage(v,"*")}))(`axios@${Math.random()}`,[]):v=>setTimeout(v))(typeof setImmediate=="function",T(N.postMessage)),Ht=typeof queueMicrotask<"u"?queueMicrotask.bind(N):typeof process<"u"&&process.nextTick||xt;var O={isArray:u,isArrayBuffer:p,isBuffer:o,isFormData:U,isArrayBufferView:w,isString:C,isNumber:b,isBoolean:P,isObject:A,isPlainObject:D,isReadableStream:ce,isRequest:be,isResponse:ve,isHeaders:re,isUndefined:d,isDate:M,isFile:ne,isBlob:Y,isRegExp:Se,isFunction:T,isStream:K,isURLSearchParams:se,isTypedArray:xe,isFileList:q,forEach:Q,merge:G,extend:F,trim:j,stripBOM:Z,inherits:$,toFlatObject:J,kindOf:i,kindOfTest:a,endsWith:oe,toArray:ie,forEachEntry:we,matchAll:_e,isHTMLForm:Ie,hasOwnProperty:Ge,hasOwnProp:Ge,reduceDescriptors:ht,freezeMethods:st,toObjectSet:_t,toCamelCase:Ee,noop:Vt,toFiniteNumber:mt,findKey:g,global:N,isContextDefined:L,isSpecCompliantForm:Ye,toJSONObject:$t,isAsyncFn:hn,isThenable:Ct,setImmediate:xt,asap:Ht,isIterable:f=>f!=null&&T(f[s])};function pe(f,h,v,_,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",h&&(this.code=h),v&&(this.config=v),_&&(this.request=_),E&&(this.response=E,this.status=E.status?E.status:null)}O.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const jt=pe.prototype,Tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{Tt[f]={value:f}}),Object.defineProperties(pe,Tt),Object.defineProperty(jt,"isAxiosError",{value:!0}),pe.from=(f,h,v,_,E,R)=>{const V=Object.create(jt);return O.toFlatObject(f,V,function(de){return de!==Error.prototype},H=>H!=="isAxiosError"),pe.call(V,f.message,h,v,_,E),V.cause=f,V.name=f.name,R&&Object.assign(V,R),V};var et=null;function Xe(f){return O.isPlainObject(f)||O.isArray(f)}function ct(f){return O.endsWith(f,"[]")?f.slice(0,-2):f}function Dt(f,h,v){return f?f.concat(h).map(function(E,R){return E=ct(E),!v&&R?"["+E+"]":E}).join(v?".":""):h}function Kt(f){return O.isArray(f)&&!f.some(Xe)}const pn=O.toFlatObject(O,{},null,function(h){return/^is[A-Z]/.test(h)});function Nt(f,h,v){if(!O.isObject(f))throw new TypeError("target must be an object");h=h||new FormData,v=O.toFlatObject(v,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Te,me){return!O.isUndefined(me[Te])});const _=v.metaTokens,E=v.visitor||te,R=v.dots,V=v.indexes,de=(v.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(h);if(!O.isFunction(E))throw new TypeError("visitor must be a function");function ee(he){if(he===null)return"";if(O.isDate(he))return he.toISOString();if(!de&&O.isBlob(he))throw new pe("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(he)||O.isTypedArray(he)?de&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function te(he,Te,me){let je=he;if(he&&!me&&typeof he=="object"){if(O.endsWith(Te,"{}"))Te=_?Te:Te.slice(0,-2),he=JSON.stringify(he);else if(O.isArray(he)&&Kt(he)||(O.isFileList(he)||O.endsWith(Te,"[]"))&&(je=O.toArray(he)))return Te=ct(Te),je.forEach(function(qe,It){!(O.isUndefined(qe)||qe===null)&&h.append(V===!0?Dt([Te],It,R):V===null?Te:Te+"[]",ee(qe))}),!1}return Xe(he)?!0:(h.append(Dt(me,Te,R),ee(he)),!1)}const fe=[],Pe=Object.assign(pn,{defaultVisitor:te,convertValue:ee,isVisitable:Xe});function Ue(he,Te){if(!O.isUndefined(he)){if(fe.indexOf(he)!==-1)throw Error("Circular reference detected in "+Te.join("."));fe.push(he),O.forEach(he,function(je,ze){(!(O.isUndefined(je)||je===null)&&E.call(h,je,O.isString(ze)?ze.trim():ze,Te,Pe))===!0&&Ue(je,Te?Te.concat(ze):[ze])}),fe.pop()}}if(!O.isObject(f))throw new TypeError("data must be an object");return Ue(f),h}function Ot(f){const h={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(_){return h[_]})}function kt(f,h){this._pairs=[],f&&Nt(f,this,h)}const Bn=kt.prototype;Bn.append=function(h,v){this._pairs.push([h,v])},Bn.toString=function(h){const v=h?function(_){return h.call(this,_,Ot)}:Ot;return this._pairs.map(function(E){return v(E[0])+"="+v(E[1])},"").join("&")};function Bs(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ge(f,h,v){if(!h)return f;const _=v&&v.encode||Bs;O.isFunction(v)&&(v={serialize:v});const E=v&&v.serialize;let R;if(E?R=E(h,v):R=O.isURLSearchParams(h)?h.toString():new kt(h,v).toString(_),R){const V=f.indexOf("#");V!==-1&&(f=f.slice(0,V)),f+=(f.indexOf("?")===-1?"?":"&")+R}return f}class pr{constructor(){this.handlers=[]}use(h,v,_){return this.handlers.push({fulfilled:h,rejected:v,synchronous:_?_.synchronous:!1,runWhen:_?_.runWhen:null}),this.handlers.length-1}eject(h){this.handlers[h]&&(this.handlers[h]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(h){O.forEach(this.handlers,function(_){_!==null&&h(_)})}}var Rn=pr,Mn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gr=typeof URLSearchParams<"u"?URLSearchParams:kt,yr=typeof FormData<"u"?FormData:null,Rs=typeof Blob<"u"?Blob:null,br={isBrowser:!0,classes:{URLSearchParams:gr,FormData:yr,Blob:Rs},protocols:["http","https","file","blob","url","data"]};const Vn=typeof window<"u"&&typeof document<"u",jn=typeof navigator=="object"&&navigator||void 0,vr=Vn&&(!jn||["ReactNative","NativeScript","NS"].indexOf(jn.product)<0),wr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_r=Vn&&window.location.href||"http://localhost";var Cr=Object.freeze({__proto__:null,hasBrowserEnv:Vn,hasStandardBrowserWebWorkerEnv:wr,hasStandardBrowserEnv:vr,navigator:jn,origin:_r}),Fe={...Cr,...br};function xr(f,h){return Nt(f,new Fe.classes.URLSearchParams,Object.assign({visitor:function(v,_,E,R){return Fe.isNode&&O.isBuffer(v)?(this.append(_,v.toString("base64")),!1):R.defaultVisitor.apply(this,arguments)}},h))}function Tr(f){return O.matchAll(/\w+|\[(\w*)]/g,f).map(h=>h[0]==="[]"?"":h[1]||h[0])}function kr(f){const h={},v=Object.keys(f);let _;const E=v.length;let R;for(_=0;_<E;_++)R=v[_],h[R]=f[R];return h}function Ms(f){function h(v,_,E,R){let V=v[R++];if(V==="__proto__")return!0;const H=Number.isFinite(+V),de=R>=v.length;return V=!V&&O.isArray(E)?E.length:V,de?(O.hasOwnProp(E,V)?E[V]=[E[V],_]:E[V]=_,!H):((!E[V]||!O.isObject(E[V]))&&(E[V]=[]),h(v,_,E[V],R)&&O.isArray(E[V])&&(E[V]=kr(E[V])),!H)}if(O.isFormData(f)&&O.isFunction(f.entries)){const v={};return O.forEachEntry(f,(_,E)=>{h(Tr(_),E,v,0)}),v}return null}function Ir(f,h,v){if(O.isString(f))try{return(h||JSON.parse)(f),O.trim(f)}catch(_){if(_.name!=="SyntaxError")throw _}return(v||JSON.stringify)(f)}const Dn={transitional:Mn,adapter:["xhr","http","fetch"],transformRequest:[function(h,v){const _=v.getContentType()||"",E=_.indexOf("application/json")>-1,R=O.isObject(h);if(R&&O.isHTMLForm(h)&&(h=new FormData(h)),O.isFormData(h))return E?JSON.stringify(Ms(h)):h;if(O.isArrayBuffer(h)||O.isBuffer(h)||O.isStream(h)||O.isFile(h)||O.isBlob(h)||O.isReadableStream(h))return h;if(O.isArrayBufferView(h))return h.buffer;if(O.isURLSearchParams(h))return v.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),h.toString();let H;if(R){if(_.indexOf("application/x-www-form-urlencoded")>-1)return xr(h,this.formSerializer).toString();if((H=O.isFileList(h))||_.indexOf("multipart/form-data")>-1){const de=this.env&&this.env.FormData;return Nt(H?{"files[]":h}:h,de&&new de,this.formSerializer)}}return R||E?(v.setContentType("application/json",!1),Ir(h)):h}],transformResponse:[function(h){const v=this.transitional||Dn.transitional,_=v&&v.forcedJSONParsing,E=this.responseType==="json";if(O.isResponse(h)||O.isReadableStream(h))return h;if(h&&O.isString(h)&&(_&&!this.responseType||E)){const V=!(v&&v.silentJSONParsing)&&E;try{return JSON.parse(h)}catch(H){if(V)throw H.name==="SyntaxError"?pe.from(H,pe.ERR_BAD_RESPONSE,this,null,this.response):H}}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],f=>{Dn.headers[f]={}});var Nn=Dn;const Ar=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Sr=f=>{const h={};let v,_,E;return f&&f.split(`
`).forEach(function(V){E=V.indexOf(":"),v=V.substring(0,E).trim().toLowerCase(),_=V.substring(E+1).trim(),!(!v||h[v]&&Ar[v])&&(v==="set-cookie"?h[v]?h[v].push(_):h[v]=[_]:h[v]=h[v]?h[v]+", "+_:_)}),h};const Vs=Symbol("internals");function Gt(f){return f&&String(f).trim().toLowerCase()}function gn(f){return f===!1||f==null?f:O.isArray(f)?f.map(gn):String(f)}function Er(f){const h=Object.create(null),v=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let _;for(;_=v.exec(f);)h[_[1]]=_[2];return h}const Pr=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function On(f,h,v,_,E){if(O.isFunction(_))return _.call(this,h,v);if(E&&(h=v),!!O.isString(h)){if(O.isString(_))return h.indexOf(_)!==-1;if(O.isRegExp(_))return _.test(h)}}function Br(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(h,v,_)=>v.toUpperCase()+_)}function js(f,h){const v=O.toCamelCase(" "+h);["get","set","has"].forEach(_=>{Object.defineProperty(f,_+v,{value:function(E,R,V){return this[_].call(this,h,E,R,V)},configurable:!0})})}class yn{constructor(h){h&&this.set(h)}set(h,v,_){const E=this;function R(H,de,ee){const te=Gt(de);if(!te)throw new Error("header name must be a non-empty string");const fe=O.findKey(E,te);(!fe||E[fe]===void 0||ee===!0||ee===void 0&&E[fe]!==!1)&&(E[fe||de]=gn(H))}const V=(H,de)=>O.forEach(H,(ee,te)=>R(ee,te,de));if(O.isPlainObject(h)||h instanceof this.constructor)V(h,v);else if(O.isString(h)&&(h=h.trim())&&!Pr(h))V(Sr(h),v);else if(O.isObject(h)&&O.isIterable(h)){let H={},de,ee;for(const te of h){if(!O.isArray(te))throw TypeError("Object iterator must return a key-value pair");H[ee=te[0]]=(de=H[ee])?O.isArray(de)?[...de,te[1]]:[de,te[1]]:te[1]}V(H,v)}else h!=null&&R(v,h,_);return this}get(h,v){if(h=Gt(h),h){const _=O.findKey(this,h);if(_){const E=this[_];if(!v)return E;if(v===!0)return Er(E);if(O.isFunction(v))return v.call(this,E,_);if(O.isRegExp(v))return v.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(h,v){if(h=Gt(h),h){const _=O.findKey(this,h);return!!(_&&this[_]!==void 0&&(!v||On(this,this[_],_,v)))}return!1}delete(h,v){const _=this;let E=!1;function R(V){if(V=Gt(V),V){const H=O.findKey(_,V);H&&(!v||On(_,_[H],H,v))&&(delete _[H],E=!0)}}return O.isArray(h)?h.forEach(R):R(h),E}clear(h){const v=Object.keys(this);let _=v.length,E=!1;for(;_--;){const R=v[_];(!h||On(this,this[R],R,h,!0))&&(delete this[R],E=!0)}return E}normalize(h){const v=this,_={};return O.forEach(this,(E,R)=>{const V=O.findKey(_,R);if(V){v[V]=gn(E),delete v[R];return}const H=h?Br(R):String(R).trim();H!==R&&delete v[R],v[H]=gn(E),_[H]=!0}),this}concat(...h){return this.constructor.concat(this,...h)}toJSON(h){const v=Object.create(null);return O.forEach(this,(_,E)=>{_!=null&&_!==!1&&(v[E]=h&&O.isArray(_)?_.join(", "):_)}),v}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([h,v])=>h+": "+v).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(h){return h instanceof this?h:new this(h)}static concat(h,...v){const _=new this(h);return v.forEach(E=>_.set(E)),_}static accessor(h){const _=(this[Vs]=this[Vs]={accessors:{}}).accessors,E=this.prototype;function R(V){const H=Gt(V);_[H]||(js(E,V),_[H]=!0)}return O.isArray(h)?h.forEach(R):R(h),this}}yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),O.reduceDescriptors(yn.prototype,({value:f},h)=>{let v=h[0].toUpperCase()+h.slice(1);return{get:()=>f,set(_){this[v]=_}}}),O.freezeMethods(yn);var tt=yn;function Ln(f,h){const v=this||Nn,_=h||v,E=tt.from(_.headers);let R=_.data;return O.forEach(f,function(H){R=H.call(v,R,E.normalize(),h?h.status:void 0)}),E.normalize(),R}function Ds(f){return!!(f&&f.__CANCEL__)}function Lt(f,h,v){pe.call(this,f??"canceled",pe.ERR_CANCELED,h,v),this.name="CanceledError"}O.inherits(Lt,pe,{__CANCEL__:!0});function Ns(f,h,v){const _=v.config.validateStatus;!v.status||!_||_(v.status)?f(v):h(new pe("Request failed with status code "+v.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(v.status/100)-4],v.config,v.request,v))}function Rr(f){const h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return h&&h[1]||""}function k(f,h){f=f||10;const v=new Array(f),_=new Array(f);let E=0,R=0,V;return h=h!==void 0?h:1e3,function(de){const ee=Date.now(),te=_[R];V||(V=ee),v[E]=de,_[E]=ee;let fe=R,Pe=0;for(;fe!==E;)Pe+=v[fe++],fe=fe%f;if(E=(E+1)%f,E===R&&(R=(R+1)%f),ee-V<h)return;const Ue=te&&ee-te;return Ue?Math.round(Pe*1e3/Ue):void 0}}function l(f,h){let v=0,_=1e3/h,E,R;const V=(ee,te=Date.now())=>{v=te,E=null,R&&(clearTimeout(R),R=null),f.apply(null,ee)};return[(...ee)=>{const te=Date.now(),fe=te-v;fe>=_?V(ee,te):(E=ee,R||(R=setTimeout(()=>{R=null,V(E)},_-fe)))},()=>E&&V(E)]}const m=(f,h,v=3)=>{let _=0;const E=k(50,250);return l(R=>{const V=R.loaded,H=R.lengthComputable?R.total:void 0,de=V-_,ee=E(de),te=V<=H;_=V;const fe={loaded:V,total:H,progress:H?V/H:void 0,bytes:de,rate:ee||void 0,estimated:ee&&H&&te?(H-V)/ee:void 0,event:R,lengthComputable:H!=null,[h?"download":"upload"]:!0};f(fe)},v)},y=(f,h)=>{const v=f!=null;return[_=>h[0]({lengthComputable:v,total:f,loaded:_}),h[1]]},I=f=>(...h)=>O.asap(()=>f(...h));var S=Fe.hasStandardBrowserEnv?((f,h)=>v=>(v=new URL(v,Fe.origin),f.protocol===v.protocol&&f.host===v.host&&(h||f.port===v.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,X=Fe.hasStandardBrowserEnv?{write(f,h,v,_,E,R){const V=[f+"="+encodeURIComponent(h)];O.isNumber(v)&&V.push("expires="+new Date(v).toGMTString()),O.isString(_)&&V.push("path="+_),O.isString(E)&&V.push("domain="+E),R===!0&&V.push("secure"),document.cookie=V.join("; ")},read(f){const h=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove(f){this.write(f,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function le(f,h){return h?f.replace(/\/?\/$/,"")+"/"+h.replace(/^\/+/,""):f}function ue(f,h,v){let _=!z(h);return f&&(_||v==!1)?le(f,h):h}const ke=f=>f instanceof tt?{...f}:f;function Ne(f,h){h=h||{};const v={};function _(ee,te,fe,Pe){return O.isPlainObject(ee)&&O.isPlainObject(te)?O.merge.call({caseless:Pe},ee,te):O.isPlainObject(te)?O.merge({},te):O.isArray(te)?te.slice():te}function E(ee,te,fe,Pe){if(O.isUndefined(te)){if(!O.isUndefined(ee))return _(void 0,ee,fe,Pe)}else return _(ee,te,fe,Pe)}function R(ee,te){if(!O.isUndefined(te))return _(void 0,te)}function V(ee,te){if(O.isUndefined(te)){if(!O.isUndefined(ee))return _(void 0,ee)}else return _(void 0,te)}function H(ee,te,fe){if(fe in h)return _(ee,te);if(fe in f)return _(void 0,ee)}const de={url:R,method:R,data:R,baseURL:V,transformRequest:V,transformResponse:V,paramsSerializer:V,timeout:V,timeoutMessage:V,withCredentials:V,withXSRFToken:V,adapter:V,responseType:V,xsrfCookieName:V,xsrfHeaderName:V,onUploadProgress:V,onDownloadProgress:V,decompress:V,maxContentLength:V,maxBodyLength:V,beforeRedirect:V,transport:V,httpAgent:V,httpsAgent:V,cancelToken:V,socketPath:V,responseEncoding:V,validateStatus:H,headers:(ee,te,fe)=>E(ke(ee),ke(te),fe,!0)};return O.forEach(Object.keys(Object.assign({},f,h)),function(te){const fe=de[te]||E,Pe=fe(f[te],h[te],te);O.isUndefined(Pe)&&fe!==H||(v[te]=Pe)}),v}var Un=f=>{const h=Ne({},f);let{data:v,withXSRFToken:_,xsrfHeaderName:E,xsrfCookieName:R,headers:V,auth:H}=h;h.headers=V=tt.from(V),h.url=ge(ue(h.baseURL,h.url,h.allowAbsoluteUrls),f.params,f.paramsSerializer),H&&V.set("Authorization","Basic "+btoa((H.username||"")+":"+(H.password?unescape(encodeURIComponent(H.password)):"")));let de;if(O.isFormData(v)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)V.setContentType(void 0);else if((de=V.getContentType())!==!1){const[ee,...te]=de?de.split(";").map(fe=>fe.trim()).filter(Boolean):[];V.setContentType([ee||"multipart/form-data",...te].join("; "))}}if(Fe.hasStandardBrowserEnv&&(_&&O.isFunction(_)&&(_=_(h)),_||_!==!1&&S(h.url))){const ee=E&&R&&X.read(R);ee&&V.set(E,ee)}return h},td=typeof XMLHttpRequest<"u"&&function(f){return new Promise(function(v,_){const E=Un(f);let R=E.data;const V=tt.from(E.headers).normalize();let{responseType:H,onUploadProgress:de,onDownloadProgress:ee}=E,te,fe,Pe,Ue,he;function Te(){Ue&&Ue(),he&&he(),E.cancelToken&&E.cancelToken.unsubscribe(te),E.signal&&E.signal.removeEventListener("abort",te)}let me=new XMLHttpRequest;me.open(E.method.toUpperCase(),E.url,!0),me.timeout=E.timeout;function je(){if(!me)return;const qe=tt.from("getAllResponseHeaders"in me&&me.getAllResponseHeaders()),Je={data:!H||H==="text"||H==="json"?me.responseText:me.response,status:me.status,statusText:me.statusText,headers:qe,config:f,request:me};Ns(function(Yt){v(Yt),Te()},function(Yt){_(Yt),Te()},Je),me=null}"onloadend"in me?me.onloadend=je:me.onreadystatechange=function(){!me||me.readyState!==4||me.status===0&&!(me.responseURL&&me.responseURL.indexOf("file:")===0)||setTimeout(je)},me.onabort=function(){me&&(_(new pe("Request aborted",pe.ECONNABORTED,f,me)),me=null)},me.onerror=function(){_(new pe("Network Error",pe.ERR_NETWORK,f,me)),me=null},me.ontimeout=function(){let It=E.timeout?"timeout of "+E.timeout+"ms exceeded":"timeout exceeded";const Je=E.transitional||Mn;E.timeoutErrorMessage&&(It=E.timeoutErrorMessage),_(new pe(It,Je.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,f,me)),me=null},R===void 0&&V.setContentType(null),"setRequestHeader"in me&&O.forEach(V.toJSON(),function(It,Je){me.setRequestHeader(Je,It)}),O.isUndefined(E.withCredentials)||(me.withCredentials=!!E.withCredentials),H&&H!=="json"&&(me.responseType=E.responseType),ee&&([Pe,he]=m(ee,!0),me.addEventListener("progress",Pe)),de&&me.upload&&([fe,Ue]=m(de),me.upload.addEventListener("progress",fe),me.upload.addEventListener("loadend",Ue)),(E.cancelToken||E.signal)&&(te=qe=>{me&&(_(!qe||qe.type?new Lt(null,f,me):qe),me.abort(),me=null)},E.cancelToken&&E.cancelToken.subscribe(te),E.signal&&(E.signal.aborted?te():E.signal.addEventListener("abort",te)));const ze=Rr(E.url);if(ze&&Fe.protocols.indexOf(ze)===-1){_(new pe("Unsupported protocol "+ze+":",pe.ERR_BAD_REQUEST,f));return}me.send(R||null)})},nd=(f,h)=>{const{length:v}=f=f?f.filter(Boolean):[];if(h||v){let _=new AbortController,E;const R=function(ee){if(!E){E=!0,H();const te=ee instanceof Error?ee:this.reason;_.abort(te instanceof pe?te:new Lt(te instanceof Error?te.message:te))}};let V=h&&setTimeout(()=>{V=null,R(new pe(`timeout ${h} of ms exceeded`,pe.ETIMEDOUT))},h);const H=()=>{f&&(V&&clearTimeout(V),V=null,f.forEach(ee=>{ee.unsubscribe?ee.unsubscribe(R):ee.removeEventListener("abort",R)}),f=null)};f.forEach(ee=>ee.addEventListener("abort",R));const{signal:de}=_;return de.unsubscribe=()=>O.asap(H),de}};const sd=function*(f,h){let v=f.byteLength;if(v<h){yield f;return}let _=0,E;for(;_<v;)E=_+h,yield f.slice(_,E),_=E},rd=async function*(f,h){for await(const v of id(f))yield*sd(v,h)},id=async function*(f){if(f[Symbol.asyncIterator]){yield*f;return}const h=f.getReader();try{for(;;){const{done:v,value:_}=await h.read();if(v)break;yield _}}finally{await h.cancel()}},fa=(f,h,v,_)=>{const E=rd(f,h);let R=0,V,H=de=>{V||(V=!0,_&&_(de))};return new ReadableStream({async pull(de){try{const{done:ee,value:te}=await E.next();if(ee){H(),de.close();return}let fe=te.byteLength;if(v){let Pe=R+=fe;v(Pe)}de.enqueue(new Uint8Array(te))}catch(ee){throw H(ee),ee}},cancel(de){return H(de),E.return()}},{highWaterMark:2})},Ls=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ha=Ls&&typeof ReadableStream=="function",ad=Ls&&(typeof TextEncoder=="function"?(f=>h=>f.encode(h))(new TextEncoder):async f=>new Uint8Array(await new Response(f).arrayBuffer())),ma=(f,...h)=>{try{return!!f(...h)}catch{return!1}},od=ha&&ma(()=>{let f=!1;const h=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!h}),pa=64*1024,Mr=ha&&ma(()=>O.isReadableStream(new Response("").body)),Us={stream:Mr&&(f=>f.body)};Ls&&(f=>{["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!Us[h]&&(Us[h]=O.isFunction(f[h])?v=>v[h]():(v,_)=>{throw new pe(`Response type '${h}' is not supported`,pe.ERR_NOT_SUPPORT,_)})})})(new Response);const cd=async f=>{if(f==null)return 0;if(O.isBlob(f))return f.size;if(O.isSpecCompliantForm(f))return(await new Request(Fe.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(O.isArrayBufferView(f)||O.isArrayBuffer(f))return f.byteLength;if(O.isURLSearchParams(f)&&(f=f+""),O.isString(f))return(await ad(f)).byteLength},ld=async(f,h)=>{const v=O.toFiniteNumber(f.getContentLength());return v??cd(h)};var ud=Ls&&(async f=>{let{url:h,method:v,data:_,signal:E,cancelToken:R,timeout:V,onDownloadProgress:H,onUploadProgress:de,responseType:ee,headers:te,withCredentials:fe="same-origin",fetchOptions:Pe}=Un(f);ee=ee?(ee+"").toLowerCase():"text";let Ue=nd([E,R&&R.toAbortSignal()],V),he;const Te=Ue&&Ue.unsubscribe&&(()=>{Ue.unsubscribe()});let me;try{if(de&&od&&v!=="get"&&v!=="head"&&(me=await ld(te,_))!==0){let Je=new Request(h,{method:"POST",body:_,duplex:"half"}),Ut;if(O.isFormData(_)&&(Ut=Je.headers.get("content-type"))&&te.setContentType(Ut),Je.body){const[Yt,Zs]=y(me,m(I(de)));_=fa(Je.body,pa,Yt,Zs)}}O.isString(fe)||(fe=fe?"include":"omit");const je="credentials"in Request.prototype;he=new Request(h,{...Pe,signal:Ue,method:v.toUpperCase(),headers:te.normalize().toJSON(),body:_,duplex:"half",credentials:je?fe:void 0});let ze=await fetch(he);const qe=Mr&&(ee==="stream"||ee==="response");if(Mr&&(H||qe&&Te)){const Je={};["status","statusText","headers"].forEach(Ca=>{Je[Ca]=ze[Ca]});const Ut=O.toFiniteNumber(ze.headers.get("content-length")),[Yt,Zs]=H&&y(Ut,m(I(H),!0))||[];ze=new Response(fa(ze.body,pa,Yt,()=>{Zs&&Zs(),Te&&Te()}),Je)}ee=ee||"text";let It=await Us[O.findKey(Us,ee)||"text"](ze,f);return!qe&&Te&&Te(),await new Promise((Je,Ut)=>{Ns(Je,Ut,{data:It,headers:tt.from(ze.headers),status:ze.status,statusText:ze.statusText,config:f,request:he})})}catch(je){throw Te&&Te(),je&&je.name==="TypeError"&&/Load failed|fetch/i.test(je.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,f,he),{cause:je.cause||je}):pe.from(je,je&&je.code,f,he)}});const Vr={http:et,xhr:td,fetch:ud};O.forEach(Vr,(f,h)=>{if(f){try{Object.defineProperty(f,"name",{value:h})}catch{}Object.defineProperty(f,"adapterName",{value:h})}});const ga=f=>`- ${f}`,dd=f=>O.isFunction(f)||f===null||f===!1;var ya={getAdapter:f=>{f=O.isArray(f)?f:[f];const{length:h}=f;let v,_;const E={};for(let R=0;R<h;R++){v=f[R];let V;if(_=v,!dd(v)&&(_=Vr[(V=String(v)).toLowerCase()],_===void 0))throw new pe(`Unknown adapter '${V}'`);if(_)break;E[V||"#"+R]=_}if(!_){const R=Object.entries(E).map(([H,de])=>`adapter ${H} `+(de===!1?"is not supported by the environment":"is not available in the build"));let V=h?R.length>1?`since :
`+R.map(ga).join(`
`):" "+ga(R[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+V,"ERR_NOT_SUPPORT")}return _},adapters:Vr};function jr(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new Lt(null,f)}function ba(f){return jr(f),f.headers=tt.from(f.headers),f.data=Ln.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),ya.getAdapter(f.adapter||Nn.adapter)(f).then(function(_){return jr(f),_.data=Ln.call(f,f.transformResponse,_),_.headers=tt.from(_.headers),_},function(_){return Ds(_)||(jr(f),_&&_.response&&(_.response.data=Ln.call(f,f.transformResponse,_.response),_.response.headers=tt.from(_.response.headers))),Promise.reject(_)})}const va="1.9.0",zs={};["object","boolean","number","function","string","symbol"].forEach((f,h)=>{zs[f]=function(_){return typeof _===f||"a"+(h<1?"n ":" ")+f}});const wa={};zs.transitional=function(h,v,_){function E(R,V){return"[Axios v"+va+"] Transitional option '"+R+"'"+V+(_?". "+_:"")}return(R,V,H)=>{if(h===!1)throw new pe(E(V," has been removed"+(v?" in "+v:"")),pe.ERR_DEPRECATED);return v&&!wa[V]&&(wa[V]=!0,console.warn(E(V," has been deprecated since v"+v+" and will be removed in the near future"))),h?h(R,V,H):!0}},zs.spelling=function(h){return(v,_)=>(console.warn(`${_} is likely a misspelling of ${h}`),!0)};function fd(f,h,v){if(typeof f!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const _=Object.keys(f);let E=_.length;for(;E-- >0;){const R=_[E],V=h[R];if(V){const H=f[R],de=H===void 0||V(H,R,f);if(de!==!0)throw new pe("option "+R+" must be "+de,pe.ERR_BAD_OPTION_VALUE);continue}if(v!==!0)throw new pe("Unknown option "+R,pe.ERR_BAD_OPTION)}}var Fs={assertOptions:fd,validators:zs};const pt=Fs.validators;class qs{constructor(h){this.defaults=h||{},this.interceptors={request:new Rn,response:new Rn}}async request(h,v){try{return await this._request(h,v)}catch(_){if(_ instanceof Error){let E={};Error.captureStackTrace?Error.captureStackTrace(E):E=new Error;const R=E.stack?E.stack.replace(/^.+\n/,""):"";try{_.stack?R&&!String(_.stack).endsWith(R.replace(/^.+\n.+\n/,""))&&(_.stack+=`
`+R):_.stack=R}catch{}}throw _}}_request(h,v){typeof h=="string"?(v=v||{},v.url=h):v=h||{},v=Ne(this.defaults,v);const{transitional:_,paramsSerializer:E,headers:R}=v;_!==void 0&&Fs.assertOptions(_,{silentJSONParsing:pt.transitional(pt.boolean),forcedJSONParsing:pt.transitional(pt.boolean),clarifyTimeoutError:pt.transitional(pt.boolean)},!1),E!=null&&(O.isFunction(E)?v.paramsSerializer={serialize:E}:Fs.assertOptions(E,{encode:pt.function,serialize:pt.function},!0)),v.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?v.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:v.allowAbsoluteUrls=!0),Fs.assertOptions(v,{baseUrl:pt.spelling("baseURL"),withXsrfToken:pt.spelling("withXSRFToken")},!0),v.method=(v.method||this.defaults.method||"get").toLowerCase();let V=R&&O.merge(R.common,R[v.method]);R&&O.forEach(["delete","get","head","post","put","patch","common"],he=>{delete R[he]}),v.headers=tt.concat(V,R);const H=[];let de=!0;this.interceptors.request.forEach(function(Te){typeof Te.runWhen=="function"&&Te.runWhen(v)===!1||(de=de&&Te.synchronous,H.unshift(Te.fulfilled,Te.rejected))});const ee=[];this.interceptors.response.forEach(function(Te){ee.push(Te.fulfilled,Te.rejected)});let te,fe=0,Pe;if(!de){const he=[ba.bind(this),void 0];for(he.unshift.apply(he,H),he.push.apply(he,ee),Pe=he.length,te=Promise.resolve(v);fe<Pe;)te=te.then(he[fe++],he[fe++]);return te}Pe=H.length;let Ue=v;for(fe=0;fe<Pe;){const he=H[fe++],Te=H[fe++];try{Ue=he(Ue)}catch(me){Te.call(this,me);break}}try{te=ba.call(this,Ue)}catch(he){return Promise.reject(he)}for(fe=0,Pe=ee.length;fe<Pe;)te=te.then(ee[fe++],ee[fe++]);return te}getUri(h){h=Ne(this.defaults,h);const v=ue(h.baseURL,h.url,h.allowAbsoluteUrls);return ge(v,h.params,h.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(h){qs.prototype[h]=function(v,_){return this.request(Ne(_||{},{method:h,url:v,data:(_||{}).data}))}}),O.forEach(["post","put","patch"],function(h){function v(_){return function(R,V,H){return this.request(Ne(H||{},{method:h,headers:_?{"Content-Type":"multipart/form-data"}:{},url:R,data:V}))}}qs.prototype[h]=v(),qs.prototype[h+"Form"]=v(!0)});var Ws=qs;class Dr{constructor(h){if(typeof h!="function")throw new TypeError("executor must be a function.");let v;this.promise=new Promise(function(R){v=R});const _=this;this.promise.then(E=>{if(!_._listeners)return;let R=_._listeners.length;for(;R-- >0;)_._listeners[R](E);_._listeners=null}),this.promise.then=E=>{let R;const V=new Promise(H=>{_.subscribe(H),R=H}).then(E);return V.cancel=function(){_.unsubscribe(R)},V},h(function(R,V,H){_.reason||(_.reason=new Lt(R,V,H),v(_.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(h){if(this.reason){h(this.reason);return}this._listeners?this._listeners.push(h):this._listeners=[h]}unsubscribe(h){if(!this._listeners)return;const v=this._listeners.indexOf(h);v!==-1&&this._listeners.splice(v,1)}toAbortSignal(){const h=new AbortController,v=_=>{h.abort(_)};return this.subscribe(v),h.signal.unsubscribe=()=>this.unsubscribe(v),h.signal}static source(){let h;return{token:new Dr(function(E){h=E}),cancel:h}}}var hd=Dr;function md(f){return function(v){return f.apply(null,v)}}function pd(f){return O.isObject(f)&&f.isAxiosError===!0}const Nr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nr).forEach(([f,h])=>{Nr[h]=f});var gd=Nr;function _a(f){const h=new Ws(f),v=e(Ws.prototype.request,h);return O.extend(v,Ws.prototype,h,{allOwnKeys:!0}),O.extend(v,h,null,{allOwnKeys:!0}),v.create=function(E){return _a(Ne(f,E))},v}const Oe=_a(Nn);return Oe.Axios=Ws,Oe.CanceledError=Lt,Oe.CancelToken=hd,Oe.isCancel=Ds,Oe.VERSION=va,Oe.toFormData=Nt,Oe.AxiosError=pe,Oe.Cancel=Oe.CanceledError,Oe.all=function(h){return Promise.all(h)},Oe.spread=md,Oe.isAxiosError=pd,Oe.mergeConfig=Ne,Oe.AxiosHeaders=tt,Oe.formToJSON=f=>Ms(O.isHTMLForm(f)?new FormData(f):f),Oe.getAdapter=ya.getAdapter,Oe.HttpStatusCode=gd,Oe.default=Oe,ei=Oe,ei}var en={},tn={},Wn={},zo;function tb(){if(zo)return Wn;zo=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.InMemoryCache=void 0;class e{constructor(){this.cache=new Map,this.set=async(n,s,r)=>{r!==null?this.cache.set(n+"$$"+s,r):this.cache.delete(n+"$$"+s)},this.get=async(n,s)=>{let r=this.cache.get(n+"$$"+s);return r!==void 0?r:null}}}return Wn.InMemoryCache=e,Wn}var ti,Fo;function nb(){if(Fo)return ti;Fo=1;var e=function(){function C(b,A){if(typeof b!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+b+"."));this._batchLoadFn=b,this._maxBatchSize=c(A),this._batchScheduleFn=u(A),this._cacheKeyFn=d(A),this._cacheMap=o(A),this._batch=null,this.name=p(A)}var T=C.prototype;return T.load=function(A){if(A==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(A)+"."));var P=s(this),D=this._cacheMap,M;if(D){M=this._cacheKeyFn(A);var ne=D.get(M);if(ne){var Y=P.cacheHits||(P.cacheHits=[]);return new Promise(function(K){Y.push(function(){K(ne)})})}}P.keys.push(A);var q=new Promise(function(K,U){P.callbacks.push({resolve:K,reject:U})});return D&&D.set(M,q),q},T.loadMany=function(A){if(!w(A))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+A+"."));for(var P=[],D=0;D<A.length;D++)P.push(this.load(A[D]).catch(function(M){return M}));return Promise.all(P)},T.clear=function(A){var P=this._cacheMap;if(P){var D=this._cacheKeyFn(A);P.delete(D)}return this},T.clearAll=function(){var A=this._cacheMap;return A&&A.clear(),this},T.prime=function(A,P){var D=this._cacheMap;if(D){var M=this._cacheKeyFn(A);if(D.get(M)===void 0){var ne;P instanceof Error?(ne=Promise.reject(P),ne.catch(function(){})):ne=Promise.resolve(P),D.set(M,ne)}}return this},C}(),t=typeof process=="object"&&typeof process.nextTick=="function"?function(C){n||(n=Promise.resolve()),n.then(function(){process.nextTick(C)})}:typeof setImmediate=="function"?function(C){setImmediate(C)}:function(C){setTimeout(C)},n;function s(C){var T=C._batch;if(T!==null&&!T.hasDispatched&&T.keys.length<C._maxBatchSize)return T;var b={hasDispatched:!1,keys:[],callbacks:[]};return C._batch=b,C._batchScheduleFn(function(){r(C,b)}),b}function r(C,T){if(T.hasDispatched=!0,T.keys.length===0){a(T);return}var b;try{b=C._batchLoadFn(T.keys)}catch(A){return i(C,T,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(A)+".")))}if(!b||typeof b.then!="function")return i(C,T,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(b)+".")));b.then(function(A){if(!w(A))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(A)+"."));if(A.length!==T.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(T.keys))+(`

Values:
`+String(A)));a(T);for(var P=0;P<T.callbacks.length;P++){var D=A[P];D instanceof Error?T.callbacks[P].reject(D):T.callbacks[P].resolve(D)}}).catch(function(A){i(C,T,A)})}function i(C,T,b){a(T);for(var A=0;A<T.keys.length;A++)C.clear(T.keys[A]),T.callbacks[A].reject(b)}function a(C){if(C.cacheHits)for(var T=0;T<C.cacheHits.length;T++)C.cacheHits[T]()}function c(C){var T=!C||C.batch!==!1;if(!T)return 1;var b=C&&C.maxBatchSize;if(b===void 0)return 1/0;if(typeof b!="number"||b<1)throw new TypeError("maxBatchSize must be a positive number: "+b);return b}function u(C){var T=C&&C.batchScheduleFn;if(T===void 0)return t;if(typeof T!="function")throw new TypeError("batchScheduleFn must be a function: "+T);return T}function d(C){var T=C&&C.cacheKeyFn;if(T===void 0)return function(b){return b};if(typeof T!="function")throw new TypeError("cacheKeyFn must be a function: "+T);return T}function o(C){var T=!C||C.cache!==!1;if(!T)return null;var b=C&&C.cacheMap;if(b===void 0)return new Map;if(b!==null){var A=["get","set","delete","clear"],P=A.filter(function(D){return b&&typeof b[D]!="function"});if(P.length!==0)throw new TypeError("Custom cacheMap missing methods: "+P.join(", "))}return b}function p(C){return C&&C.name?C.name:null}function w(C){return typeof C=="object"&&C!==null&&typeof C.length=="number"&&(C.length===0||C.length>0&&Object.prototype.hasOwnProperty.call(C,C.length-1))}return ti=e,ti}var At={},ut={},nn={},St={},Ys={},Et={},ni={},qo;function mr(){return qo||(qo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0;var t;(function(r){r.assertEqual=u=>{};function i(u){}r.assertIs=i;function a(u){throw new Error}r.assertNever=a,r.arrayToEnum=u=>{const d={};for(const o of u)d[o]=o;return d},r.getValidEnumValues=u=>{const d=r.objectKeys(u).filter(p=>typeof u[u[p]]!="number"),o={};for(const p of d)o[p]=u[p];return r.objectValues(o)},r.objectValues=u=>r.objectKeys(u).map(function(d){return u[d]}),r.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const d=[];for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&d.push(o);return d},r.find=(u,d)=>{for(const o of u)if(d(o))return o},r.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&Number.isFinite(u)&&Math.floor(u)===u;function c(u,d=" | "){return u.map(o=>typeof o=="string"?`'${o}'`:o).join(d)}r.joinValues=c,r.jsonStringifyReplacer=(u,d)=>typeof d=="bigint"?d.toString():d})(t||(e.util=t={}));var n;(function(r){r.mergeShapes=(i,a)=>({...i,...a})})(n||(e.objectUtil=n={})),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const s=r=>{switch(typeof r){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return Number.isNaN(r)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(r)?e.ZodParsedType.array:r===null?e.ZodParsedType.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?e.ZodParsedType.promise:typeof Map<"u"&&r instanceof Map?e.ZodParsedType.map:typeof Set<"u"&&r instanceof Set?e.ZodParsedType.set:typeof Date<"u"&&r instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}};e.getParsedType=s}(ni)),ni}var Wo;function ua(){if(Wo)return Et;Wo=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.ZodError=Et.quotelessJson=Et.ZodIssueCode=void 0;const e=mr();Et.ZodIssueCode=e.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const t=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");Et.quotelessJson=t;let n=class Au extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=r}format(r){const i=r||function(u){return u.message},a={_errors:[]},c=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(c);else if(d.code==="invalid_return_type")c(d.returnTypeError);else if(d.code==="invalid_arguments")c(d.argumentsError);else if(d.path.length===0)a._errors.push(i(d));else{let o=a,p=0;for(;p<d.path.length;){const w=d.path[p];p===d.path.length-1?(o[w]=o[w]||{_errors:[]},o[w]._errors.push(i(d))):o[w]=o[w]||{_errors:[]},o=o[w],p++}}};return c(this),a}static assert(r){if(!(r instanceof Au))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,e.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=i=>i.message){const i={},a=[];for(const c of this.issues)c.path.length>0?(i[c.path[0]]=i[c.path[0]]||[],i[c.path[0]].push(r(c))):a.push(r(c));return{formErrors:a,fieldErrors:i}}get formErrors(){return this.flatten()}};return Et.ZodError=n,n.create=s=>new n(s),Et}var Zo;function Su(){if(Zo)return Ys;Zo=1,Object.defineProperty(Ys,"__esModule",{value:!0});const e=ua(),t=mr(),n=(s,r)=>{let i;switch(s.code){case e.ZodIssueCode.invalid_type:s.received===t.ZodParsedType.undefined?i="Required":i=`Expected ${s.expected}, received ${s.received}`;break;case e.ZodIssueCode.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(s.expected,t.util.jsonStringifyReplacer)}`;break;case e.ZodIssueCode.unrecognized_keys:i=`Unrecognized key(s) in object: ${t.util.joinValues(s.keys,", ")}`;break;case e.ZodIssueCode.invalid_union:i="Invalid input";break;case e.ZodIssueCode.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${t.util.joinValues(s.options)}`;break;case e.ZodIssueCode.invalid_enum_value:i=`Invalid enum value. Expected ${t.util.joinValues(s.options)}, received '${s.received}'`;break;case e.ZodIssueCode.invalid_arguments:i="Invalid function arguments";break;case e.ZodIssueCode.invalid_return_type:i="Invalid function return type";break;case e.ZodIssueCode.invalid_date:i="Invalid date";break;case e.ZodIssueCode.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(i=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?i=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?i=`Invalid input: must end with "${s.validation.endsWith}"`:t.util.assertNever(s.validation):s.validation!=="regex"?i=`Invalid ${s.validation}`:i="Invalid";break;case e.ZodIssueCode.too_small:s.type==="array"?i=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?i=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?i=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?i=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:i="Invalid input";break;case e.ZodIssueCode.too_big:s.type==="array"?i=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?i=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?i=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?i=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?i=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:i="Invalid input";break;case e.ZodIssueCode.custom:i="Invalid input";break;case e.ZodIssueCode.invalid_intersection_types:i="Intersection results could not be merged";break;case e.ZodIssueCode.not_multiple_of:i=`Number must be a multiple of ${s.multipleOf}`;break;case e.ZodIssueCode.not_finite:i="Number must be finite";break;default:i=r.defaultError,t.util.assertNever(s)}return{message:i}};return Ys.default=n,Ys}var $o;function da(){if($o)return St;$o=1;var e=St&&St.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(St,"__esModule",{value:!0}),St.defaultErrorMap=void 0,St.setErrorMap=s,St.getErrorMap=r;const t=e(Su());St.defaultErrorMap=t.default;let n=t.default;function s(i){n=i}function r(){return n}return St}var Zn={},Ho;function Eu(){return Ho||(Ho=1,function(e){var t=Zn&&Zn.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.EMPTY_PATH=e.makeIssue=void 0,e.addIssueToContext=i;const n=da(),s=t(Su()),r=C=>{const{data:T,path:b,errorMaps:A,issueData:P}=C,D=[...b,...P.path||[]],M={...P,path:D};if(P.message!==void 0)return{...P,path:D,message:P.message};let ne="";const Y=A.filter(q=>!!q).slice().reverse();for(const q of Y)ne=q(M,{data:T,defaultError:ne}).message;return{...P,path:D,message:ne}};e.makeIssue=r,e.EMPTY_PATH=[];function i(C,T){const b=(0,n.getErrorMap)(),A=(0,e.makeIssue)({issueData:T,data:C.data,path:C.path,errorMaps:[C.common.contextualErrorMap,C.schemaErrorMap,b,b===s.default?void 0:s.default].filter(P=>!!P)});C.common.issues.push(A)}class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(T,b){const A=[];for(const P of b){if(P.status==="aborted")return e.INVALID;P.status==="dirty"&&T.dirty(),A.push(P.value)}return{status:T.value,value:A}}static async mergeObjectAsync(T,b){const A=[];for(const P of b){const D=await P.key,M=await P.value;A.push({key:D,value:M})}return a.mergeObjectSync(T,A)}static mergeObjectSync(T,b){const A={};for(const P of b){const{key:D,value:M}=P;if(D.status==="aborted"||M.status==="aborted")return e.INVALID;D.status==="dirty"&&T.dirty(),M.status==="dirty"&&T.dirty(),D.value!=="__proto__"&&(typeof M.value<"u"||P.alwaysSet)&&(A[D.value]=M.value)}return{status:T.value,value:A}}}e.ParseStatus=a,e.INVALID=Object.freeze({status:"aborted"});const c=C=>({status:"dirty",value:C});e.DIRTY=c;const u=C=>({status:"valid",value:C});e.OK=u;const d=C=>C.status==="aborted";e.isAborted=d;const o=C=>C.status==="dirty";e.isDirty=o;const p=C=>C.status==="valid";e.isValid=p;const w=C=>typeof Promise<"u"&&C instanceof Promise;e.isAsync=w}(Zn)),Zn}var si={},Ko;function sb(){return Ko||(Ko=1,Object.defineProperty(si,"__esModule",{value:!0})),si}var B={},$n={},Go;function rb(){if(Go)return $n;Go=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.errorUtil=void 0;var e;return function(t){t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n?.message}(e||($n.errorUtil=e={})),$n}var Yo;function ib(){if(Yo)return B;Yo=1,Object.defineProperty(B,"__esModule",{value:!0}),B.discriminatedUnion=B.date=B.boolean=B.bigint=B.array=B.any=B.coerce=B.ZodFirstPartyTypeKind=B.late=B.ZodSchema=B.Schema=B.ZodReadonly=B.ZodPipeline=B.ZodBranded=B.BRAND=B.ZodNaN=B.ZodCatch=B.ZodDefault=B.ZodNullable=B.ZodOptional=B.ZodTransformer=B.ZodEffects=B.ZodPromise=B.ZodNativeEnum=B.ZodEnum=B.ZodLiteral=B.ZodLazy=B.ZodFunction=B.ZodSet=B.ZodMap=B.ZodRecord=B.ZodTuple=B.ZodIntersection=B.ZodDiscriminatedUnion=B.ZodUnion=B.ZodObject=B.ZodArray=B.ZodVoid=B.ZodNever=B.ZodUnknown=B.ZodAny=B.ZodNull=B.ZodUndefined=B.ZodSymbol=B.ZodDate=B.ZodBoolean=B.ZodBigInt=B.ZodNumber=B.ZodString=B.ZodType=void 0,B.NEVER=B.void=B.unknown=B.union=B.undefined=B.tuple=B.transformer=B.symbol=B.string=B.strictObject=B.set=B.record=B.promise=B.preprocess=B.pipeline=B.ostring=B.optional=B.onumber=B.oboolean=B.object=B.number=B.nullable=B.null=B.never=B.nativeEnum=B.nan=B.map=B.literal=B.lazy=B.intersection=B.instanceof=B.function=B.enum=B.effect=void 0,B.datetimeRegex=re,B.custom=Bs;const e=ua(),t=da(),n=rb(),s=Eu(),r=mr();class i{constructor(l,m,y,I){this._cachedPath=[],this.parent=l,this.data=m,this._path=y,this._key=I}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=(k,l)=>{if((0,s.isValid)(l))return{success:!0,data:l.value};if(!k.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const m=new e.ZodError(k.common.issues);return this._error=m,this._error}}};function c(k){if(!k)return{};const{errorMap:l,invalid_type_error:m,required_error:y,description:I}=k;if(l&&(m||y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return l?{errorMap:l,description:I}:{errorMap:(X,z)=>{const{message:le}=k;return X.code==="invalid_enum_value"?{message:le??z.defaultError}:typeof z.data>"u"?{message:le??y??z.defaultError}:X.code!=="invalid_type"?{message:z.defaultError}:{message:le??m??z.defaultError}},description:I}}class u{get description(){return this._def.description}_getType(l){return(0,r.getParsedType)(l.data)}_getOrReturnCtx(l,m){return m||{common:l.parent.common,data:l.data,parsedType:(0,r.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}_processInputParams(l){return{status:new s.ParseStatus,ctx:{common:l.parent.common,data:l.data,parsedType:(0,r.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}}_parseSync(l){const m=this._parse(l);if((0,s.isAsync)(m))throw new Error("Synchronous parse encountered promise.");return m}_parseAsync(l){const m=this._parse(l);return Promise.resolve(m)}parse(l,m){const y=this.safeParse(l,m);if(y.success)return y.data;throw y.error}safeParse(l,m){const y={common:{issues:[],async:m?.async??!1,contextualErrorMap:m?.errorMap},path:m?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,r.getParsedType)(l)},I=this._parseSync({data:l,path:y.path,parent:y});return a(y,I)}"~validate"(l){const m={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,r.getParsedType)(l)};if(!this["~standard"].async)try{const y=this._parseSync({data:l,path:[],parent:m});return(0,s.isValid)(y)?{value:y.value}:{issues:m.common.issues}}catch(y){y?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),m.common={issues:[],async:!0}}return this._parseAsync({data:l,path:[],parent:m}).then(y=>(0,s.isValid)(y)?{value:y.value}:{issues:m.common.issues})}async parseAsync(l,m){const y=await this.safeParseAsync(l,m);if(y.success)return y.data;throw y.error}async safeParseAsync(l,m){const y={common:{issues:[],contextualErrorMap:m?.errorMap,async:!0},path:m?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,r.getParsedType)(l)},I=this._parse({data:l,path:y.path,parent:y}),S=await((0,s.isAsync)(I)?I:Promise.resolve(I));return a(y,S)}refine(l,m){const y=I=>typeof m=="string"||typeof m>"u"?{message:m}:typeof m=="function"?m(I):m;return this._refinement((I,S)=>{const X=l(I),z=()=>S.addIssue({code:e.ZodIssueCode.custom,...y(I)});return typeof Promise<"u"&&X instanceof Promise?X.then(le=>le?!0:(z(),!1)):X?!0:(z(),!1)})}refinement(l,m){return this._refinement((y,I)=>l(y)?!0:(I.addIssue(typeof m=="function"?m(y,I):m),!1))}_refinement(l){return new et({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:l}})}superRefine(l){return this._refinement(l)}constructor(l){this.spa=this.safeParseAsync,this._def=l,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:m=>this["~validate"](m)}}optional(){return Xe.create(this,this._def)}nullable(){return ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ee.create(this)}promise(){return Tt.create(this,this._def)}or(l){return ht.create([this,l],this._def)}and(l){return mt.create(this,l,this._def)}transform(l){return new et({...c(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:l}})}default(l){const m=typeof l=="function"?l:()=>l;return new Dt({...c(this._def),innerType:this,defaultValue:m,typeName:ge.ZodDefault})}brand(){return new Nt({typeName:ge.ZodBranded,type:this,...c(this._def)})}catch(l){const m=typeof l=="function"?l:()=>l;return new Kt({...c(this._def),innerType:this,catchValue:m,typeName:ge.ZodCatch})}describe(l){const m=this.constructor;return new m({...this._def,description:l})}pipe(l){return Ot.create(this,l)}readonly(){return kt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}B.ZodType=u,B.Schema=u,B.ZodSchema=u;const d=/^c[^\s-]{8,}$/i,o=/^[0-9a-z]+$/,p=/^[0-9A-HJKMNP-TV-Z]{26}$/i,w=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,T=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let D;const M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Y=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,U=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,se="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ce=new RegExp(`^${se}$`);function be(k){let l="[0-5]\\d";k.precision?l=`${l}\\.\\d{${k.precision}}`:k.precision==null&&(l=`${l}(\\.\\d+)?`);const m=k.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${l})${m}`}function ve(k){return new RegExp(`^${be(k)}$`)}function re(k){let l=`${se}T${be(k)}`;const m=[];return m.push(k.local?"Z?":"Z"),k.offset&&m.push("([+-]\\d{2}:?\\d{2})"),l=`${l}(${m.join("|")})`,new RegExp(`^${l}$`)}function j(k,l){return!!((l==="v4"||!l)&&M.test(k)||(l==="v6"||!l)&&Y.test(k))}function Q(k,l){if(!T.test(k))return!1;try{const[m]=k.split("."),y=m.replace(/-/g,"+").replace(/_/g,"/").padEnd(m.length+(4-m.length%4)%4,"="),I=JSON.parse(atob(y));return!(typeof I!="object"||I===null||"typ"in I&&I?.typ!=="JWT"||!I.alg||l&&I.alg!==l)}catch{return!1}}function g(k,l){return!!((l==="v4"||!l)&&ne.test(k)||(l==="v6"||!l)&&q.test(k))}class N extends u{_parse(l){if(this._def.coerce&&(l.data=String(l.data)),this._getType(l)!==r.ZodParsedType.string){const S=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(S,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.string,received:S.parsedType}),s.INVALID}const y=new s.ParseStatus;let I;for(const S of this._def.checks)if(S.kind==="min")l.data.length<S.value&&(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_small,minimum:S.value,type:"string",inclusive:!0,exact:!1,message:S.message}),y.dirty());else if(S.kind==="max")l.data.length>S.value&&(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_big,maximum:S.value,type:"string",inclusive:!0,exact:!1,message:S.message}),y.dirty());else if(S.kind==="length"){const X=l.data.length>S.value,z=l.data.length<S.value;(X||z)&&(I=this._getOrReturnCtx(l,I),X?(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_big,maximum:S.value,type:"string",inclusive:!0,exact:!0,message:S.message}):z&&(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_small,minimum:S.value,type:"string",inclusive:!0,exact:!0,message:S.message}),y.dirty())}else if(S.kind==="email")A.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"email",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="emoji")D||(D=new RegExp(P,"u")),D.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"emoji",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="uuid")w.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"uuid",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="nanoid")C.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"nanoid",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="cuid")d.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"cuid",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="cuid2")o.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"cuid2",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="ulid")p.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"ulid",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty());else if(S.kind==="url")try{new URL(l.data)}catch{I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"url",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()}else S.kind==="regex"?(S.regex.lastIndex=0,S.regex.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"regex",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty())):S.kind==="trim"?l.data=l.data.trim():S.kind==="includes"?l.data.includes(S.value,S.position)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:{includes:S.value,position:S.position},message:S.message}),y.dirty()):S.kind==="toLowerCase"?l.data=l.data.toLowerCase():S.kind==="toUpperCase"?l.data=l.data.toUpperCase():S.kind==="startsWith"?l.data.startsWith(S.value)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:{startsWith:S.value},message:S.message}),y.dirty()):S.kind==="endsWith"?l.data.endsWith(S.value)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:{endsWith:S.value},message:S.message}),y.dirty()):S.kind==="datetime"?re(S).test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:"datetime",message:S.message}),y.dirty()):S.kind==="date"?ce.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:"date",message:S.message}),y.dirty()):S.kind==="time"?ve(S).test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.invalid_string,validation:"time",message:S.message}),y.dirty()):S.kind==="duration"?b.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"duration",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):S.kind==="ip"?j(l.data,S.version)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"ip",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):S.kind==="jwt"?Q(l.data,S.alg)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"jwt",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):S.kind==="cidr"?g(l.data,S.version)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"cidr",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):S.kind==="base64"?K.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"base64",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):S.kind==="base64url"?U.test(l.data)||(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{validation:"base64url",code:e.ZodIssueCode.invalid_string,message:S.message}),y.dirty()):r.util.assertNever(S);return{status:y.value,value:l.data}}_regex(l,m,y){return this.refinement(I=>l.test(I),{validation:m,code:e.ZodIssueCode.invalid_string,...n.errorUtil.errToObj(y)})}_addCheck(l){return new N({...this._def,checks:[...this._def.checks,l]})}email(l){return this._addCheck({kind:"email",...n.errorUtil.errToObj(l)})}url(l){return this._addCheck({kind:"url",...n.errorUtil.errToObj(l)})}emoji(l){return this._addCheck({kind:"emoji",...n.errorUtil.errToObj(l)})}uuid(l){return this._addCheck({kind:"uuid",...n.errorUtil.errToObj(l)})}nanoid(l){return this._addCheck({kind:"nanoid",...n.errorUtil.errToObj(l)})}cuid(l){return this._addCheck({kind:"cuid",...n.errorUtil.errToObj(l)})}cuid2(l){return this._addCheck({kind:"cuid2",...n.errorUtil.errToObj(l)})}ulid(l){return this._addCheck({kind:"ulid",...n.errorUtil.errToObj(l)})}base64(l){return this._addCheck({kind:"base64",...n.errorUtil.errToObj(l)})}base64url(l){return this._addCheck({kind:"base64url",...n.errorUtil.errToObj(l)})}jwt(l){return this._addCheck({kind:"jwt",...n.errorUtil.errToObj(l)})}ip(l){return this._addCheck({kind:"ip",...n.errorUtil.errToObj(l)})}cidr(l){return this._addCheck({kind:"cidr",...n.errorUtil.errToObj(l)})}datetime(l){return typeof l=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:l}):this._addCheck({kind:"datetime",precision:typeof l?.precision>"u"?null:l?.precision,offset:l?.offset??!1,local:l?.local??!1,...n.errorUtil.errToObj(l?.message)})}date(l){return this._addCheck({kind:"date",message:l})}time(l){return typeof l=="string"?this._addCheck({kind:"time",precision:null,message:l}):this._addCheck({kind:"time",precision:typeof l?.precision>"u"?null:l?.precision,...n.errorUtil.errToObj(l?.message)})}duration(l){return this._addCheck({kind:"duration",...n.errorUtil.errToObj(l)})}regex(l,m){return this._addCheck({kind:"regex",regex:l,...n.errorUtil.errToObj(m)})}includes(l,m){return this._addCheck({kind:"includes",value:l,position:m?.position,...n.errorUtil.errToObj(m?.message)})}startsWith(l,m){return this._addCheck({kind:"startsWith",value:l,...n.errorUtil.errToObj(m)})}endsWith(l,m){return this._addCheck({kind:"endsWith",value:l,...n.errorUtil.errToObj(m)})}min(l,m){return this._addCheck({kind:"min",value:l,...n.errorUtil.errToObj(m)})}max(l,m){return this._addCheck({kind:"max",value:l,...n.errorUtil.errToObj(m)})}length(l,m){return this._addCheck({kind:"length",value:l,...n.errorUtil.errToObj(m)})}nonempty(l){return this.min(1,n.errorUtil.errToObj(l))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(l=>l.kind==="datetime")}get isDate(){return!!this._def.checks.find(l=>l.kind==="date")}get isTime(){return!!this._def.checks.find(l=>l.kind==="time")}get isDuration(){return!!this._def.checks.find(l=>l.kind==="duration")}get isEmail(){return!!this._def.checks.find(l=>l.kind==="email")}get isURL(){return!!this._def.checks.find(l=>l.kind==="url")}get isEmoji(){return!!this._def.checks.find(l=>l.kind==="emoji")}get isUUID(){return!!this._def.checks.find(l=>l.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(l=>l.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(l=>l.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(l=>l.kind==="cuid2")}get isULID(){return!!this._def.checks.find(l=>l.kind==="ulid")}get isIP(){return!!this._def.checks.find(l=>l.kind==="ip")}get isCIDR(){return!!this._def.checks.find(l=>l.kind==="cidr")}get isBase64(){return!!this._def.checks.find(l=>l.kind==="base64")}get isBase64url(){return!!this._def.checks.find(l=>l.kind==="base64url")}get minLength(){let l=null;for(const m of this._def.checks)m.kind==="min"&&(l===null||m.value>l)&&(l=m.value);return l}get maxLength(){let l=null;for(const m of this._def.checks)m.kind==="max"&&(l===null||m.value<l)&&(l=m.value);return l}}B.ZodString=N,N.create=k=>new N({checks:[],typeName:ge.ZodString,coerce:k?.coerce??!1,...c(k)});function L(k,l){const m=(k.toString().split(".")[1]||"").length,y=(l.toString().split(".")[1]||"").length,I=m>y?m:y,S=Number.parseInt(k.toFixed(I).replace(".","")),X=Number.parseInt(l.toFixed(I).replace(".",""));return S%X/10**I}class G extends u{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(l){if(this._def.coerce&&(l.data=Number(l.data)),this._getType(l)!==r.ZodParsedType.number){const S=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(S,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.number,received:S.parsedType}),s.INVALID}let y;const I=new s.ParseStatus;for(const S of this._def.checks)S.kind==="int"?r.util.isInteger(l.data)||(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:S.message}),I.dirty()):S.kind==="min"?(S.inclusive?l.data<S.value:l.data<=S.value)&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_small,minimum:S.value,type:"number",inclusive:S.inclusive,exact:!1,message:S.message}),I.dirty()):S.kind==="max"?(S.inclusive?l.data>S.value:l.data>=S.value)&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_big,maximum:S.value,type:"number",inclusive:S.inclusive,exact:!1,message:S.message}),I.dirty()):S.kind==="multipleOf"?L(l.data,S.value)!==0&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.not_multiple_of,multipleOf:S.value,message:S.message}),I.dirty()):S.kind==="finite"?Number.isFinite(l.data)||(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.not_finite,message:S.message}),I.dirty()):r.util.assertNever(S);return{status:I.value,value:l.data}}gte(l,m){return this.setLimit("min",l,!0,n.errorUtil.toString(m))}gt(l,m){return this.setLimit("min",l,!1,n.errorUtil.toString(m))}lte(l,m){return this.setLimit("max",l,!0,n.errorUtil.toString(m))}lt(l,m){return this.setLimit("max",l,!1,n.errorUtil.toString(m))}setLimit(l,m,y,I){return new G({...this._def,checks:[...this._def.checks,{kind:l,value:m,inclusive:y,message:n.errorUtil.toString(I)}]})}_addCheck(l){return new G({...this._def,checks:[...this._def.checks,l]})}int(l){return this._addCheck({kind:"int",message:n.errorUtil.toString(l)})}positive(l){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.errorUtil.toString(l)})}multipleOf(l,m){return this._addCheck({kind:"multipleOf",value:l,message:n.errorUtil.toString(m)})}finite(l){return this._addCheck({kind:"finite",message:n.errorUtil.toString(l)})}safe(l){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.errorUtil.toString(l)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.errorUtil.toString(l)})}get minValue(){let l=null;for(const m of this._def.checks)m.kind==="min"&&(l===null||m.value>l)&&(l=m.value);return l}get maxValue(){let l=null;for(const m of this._def.checks)m.kind==="max"&&(l===null||m.value<l)&&(l=m.value);return l}get isInt(){return!!this._def.checks.find(l=>l.kind==="int"||l.kind==="multipleOf"&&r.util.isInteger(l.value))}get isFinite(){let l=null,m=null;for(const y of this._def.checks){if(y.kind==="finite"||y.kind==="int"||y.kind==="multipleOf")return!0;y.kind==="min"?(m===null||y.value>m)&&(m=y.value):y.kind==="max"&&(l===null||y.value<l)&&(l=y.value)}return Number.isFinite(m)&&Number.isFinite(l)}}B.ZodNumber=G,G.create=k=>new G({checks:[],typeName:ge.ZodNumber,coerce:k?.coerce||!1,...c(k)});class F extends u{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(l){if(this._def.coerce)try{l.data=BigInt(l.data)}catch{return this._getInvalidInput(l)}if(this._getType(l)!==r.ZodParsedType.bigint)return this._getInvalidInput(l);let y;const I=new s.ParseStatus;for(const S of this._def.checks)S.kind==="min"?(S.inclusive?l.data<S.value:l.data<=S.value)&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_small,type:"bigint",minimum:S.value,inclusive:S.inclusive,message:S.message}),I.dirty()):S.kind==="max"?(S.inclusive?l.data>S.value:l.data>=S.value)&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_big,type:"bigint",maximum:S.value,inclusive:S.inclusive,message:S.message}),I.dirty()):S.kind==="multipleOf"?l.data%S.value!==BigInt(0)&&(y=this._getOrReturnCtx(l,y),(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.not_multiple_of,multipleOf:S.value,message:S.message}),I.dirty()):r.util.assertNever(S);return{status:I.value,value:l.data}}_getInvalidInput(l){const m=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.bigint,received:m.parsedType}),s.INVALID}gte(l,m){return this.setLimit("min",l,!0,n.errorUtil.toString(m))}gt(l,m){return this.setLimit("min",l,!1,n.errorUtil.toString(m))}lte(l,m){return this.setLimit("max",l,!0,n.errorUtil.toString(m))}lt(l,m){return this.setLimit("max",l,!1,n.errorUtil.toString(m))}setLimit(l,m,y,I){return new F({...this._def,checks:[...this._def.checks,{kind:l,value:m,inclusive:y,message:n.errorUtil.toString(I)}]})}_addCheck(l){return new F({...this._def,checks:[...this._def.checks,l]})}positive(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(l)})}multipleOf(l,m){return this._addCheck({kind:"multipleOf",value:l,message:n.errorUtil.toString(m)})}get minValue(){let l=null;for(const m of this._def.checks)m.kind==="min"&&(l===null||m.value>l)&&(l=m.value);return l}get maxValue(){let l=null;for(const m of this._def.checks)m.kind==="max"&&(l===null||m.value<l)&&(l=m.value);return l}}B.ZodBigInt=F,F.create=k=>new F({checks:[],typeName:ge.ZodBigInt,coerce:k?.coerce??!1,...c(k)});class Z extends u{_parse(l){if(this._def.coerce&&(l.data=!!l.data),this._getType(l)!==r.ZodParsedType.boolean){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.boolean,received:y.parsedType}),s.INVALID}return(0,s.OK)(l.data)}}B.ZodBoolean=Z,Z.create=k=>new Z({typeName:ge.ZodBoolean,coerce:k?.coerce||!1,...c(k)});class $ extends u{_parse(l){if(this._def.coerce&&(l.data=new Date(l.data)),this._getType(l)!==r.ZodParsedType.date){const S=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(S,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.date,received:S.parsedType}),s.INVALID}if(Number.isNaN(l.data.getTime())){const S=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(S,{code:e.ZodIssueCode.invalid_date}),s.INVALID}const y=new s.ParseStatus;let I;for(const S of this._def.checks)S.kind==="min"?l.data.getTime()<S.value&&(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_small,message:S.message,inclusive:!0,exact:!1,minimum:S.value,type:"date"}),y.dirty()):S.kind==="max"?l.data.getTime()>S.value&&(I=this._getOrReturnCtx(l,I),(0,s.addIssueToContext)(I,{code:e.ZodIssueCode.too_big,message:S.message,inclusive:!0,exact:!1,maximum:S.value,type:"date"}),y.dirty()):r.util.assertNever(S);return{status:y.value,value:new Date(l.data.getTime())}}_addCheck(l){return new $({...this._def,checks:[...this._def.checks,l]})}min(l,m){return this._addCheck({kind:"min",value:l.getTime(),message:n.errorUtil.toString(m)})}max(l,m){return this._addCheck({kind:"max",value:l.getTime(),message:n.errorUtil.toString(m)})}get minDate(){let l=null;for(const m of this._def.checks)m.kind==="min"&&(l===null||m.value>l)&&(l=m.value);return l!=null?new Date(l):null}get maxDate(){let l=null;for(const m of this._def.checks)m.kind==="max"&&(l===null||m.value<l)&&(l=m.value);return l!=null?new Date(l):null}}B.ZodDate=$,$.create=k=>new $({checks:[],coerce:k?.coerce||!1,typeName:ge.ZodDate,...c(k)});class J extends u{_parse(l){if(this._getType(l)!==r.ZodParsedType.symbol){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.symbol,received:y.parsedType}),s.INVALID}return(0,s.OK)(l.data)}}B.ZodSymbol=J,J.create=k=>new J({typeName:ge.ZodSymbol,...c(k)});class oe extends u{_parse(l){if(this._getType(l)!==r.ZodParsedType.undefined){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.undefined,received:y.parsedType}),s.INVALID}return(0,s.OK)(l.data)}}B.ZodUndefined=oe,oe.create=k=>new oe({typeName:ge.ZodUndefined,...c(k)});class ie extends u{_parse(l){if(this._getType(l)!==r.ZodParsedType.null){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.null,received:y.parsedType}),s.INVALID}return(0,s.OK)(l.data)}}B.ZodNull=ie,ie.create=k=>new ie({typeName:ge.ZodNull,...c(k)});class xe extends u{constructor(){super(...arguments),this._any=!0}_parse(l){return(0,s.OK)(l.data)}}B.ZodAny=xe,xe.create=k=>new xe({typeName:ge.ZodAny,...c(k)});class we extends u{constructor(){super(...arguments),this._unknown=!0}_parse(l){return(0,s.OK)(l.data)}}B.ZodUnknown=we,we.create=k=>new we({typeName:ge.ZodUnknown,...c(k)});class _e extends u{_parse(l){const m=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.never,received:m.parsedType}),s.INVALID}}B.ZodNever=_e,_e.create=k=>new _e({typeName:ge.ZodNever,...c(k)});class Ie extends u{_parse(l){if(this._getType(l)!==r.ZodParsedType.undefined){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.void,received:y.parsedType}),s.INVALID}return(0,s.OK)(l.data)}}B.ZodVoid=Ie,Ie.create=k=>new Ie({typeName:ge.ZodVoid,...c(k)});class Ee extends u{_parse(l){const{ctx:m,status:y}=this._processInputParams(l),I=this._def;if(m.parsedType!==r.ZodParsedType.array)return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.array,received:m.parsedType}),s.INVALID;if(I.exactLength!==null){const X=m.data.length>I.exactLength.value,z=m.data.length<I.exactLength.value;(X||z)&&((0,s.addIssueToContext)(m,{code:X?e.ZodIssueCode.too_big:e.ZodIssueCode.too_small,minimum:z?I.exactLength.value:void 0,maximum:X?I.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:I.exactLength.message}),y.dirty())}if(I.minLength!==null&&m.data.length<I.minLength.value&&((0,s.addIssueToContext)(m,{code:e.ZodIssueCode.too_small,minimum:I.minLength.value,type:"array",inclusive:!0,exact:!1,message:I.minLength.message}),y.dirty()),I.maxLength!==null&&m.data.length>I.maxLength.value&&((0,s.addIssueToContext)(m,{code:e.ZodIssueCode.too_big,maximum:I.maxLength.value,type:"array",inclusive:!0,exact:!1,message:I.maxLength.message}),y.dirty()),m.common.async)return Promise.all([...m.data].map((X,z)=>I.type._parseAsync(new i(m,X,m.path,z)))).then(X=>s.ParseStatus.mergeArray(y,X));const S=[...m.data].map((X,z)=>I.type._parseSync(new i(m,X,m.path,z)));return s.ParseStatus.mergeArray(y,S)}get element(){return this._def.type}min(l,m){return new Ee({...this._def,minLength:{value:l,message:n.errorUtil.toString(m)}})}max(l,m){return new Ee({...this._def,maxLength:{value:l,message:n.errorUtil.toString(m)}})}length(l,m){return new Ee({...this._def,exactLength:{value:l,message:n.errorUtil.toString(m)}})}nonempty(l){return this.min(1,l)}}B.ZodArray=Ee,Ee.create=(k,l)=>new Ee({type:k,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...c(l)});function Ge(k){if(k instanceof Se){const l={};for(const m in k.shape){const y=k.shape[m];l[m]=Xe.create(Ge(y))}return new Se({...k._def,shape:()=>l})}else return k instanceof Ee?new Ee({...k._def,type:Ge(k.element)}):k instanceof Xe?Xe.create(Ge(k.unwrap())):k instanceof ct?ct.create(Ge(k.unwrap())):k instanceof Ye?Ye.create(k.items.map(l=>Ge(l))):k}class Se extends u{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const l=this._def.shape(),m=r.util.objectKeys(l);return this._cached={shape:l,keys:m},this._cached}_parse(l){if(this._getType(l)!==r.ZodParsedType.object){const ue=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(ue,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.object,received:ue.parsedType}),s.INVALID}const{status:y,ctx:I}=this._processInputParams(l),{shape:S,keys:X}=this._getCached(),z=[];if(!(this._def.catchall instanceof _e&&this._def.unknownKeys==="strip"))for(const ue in I.data)X.includes(ue)||z.push(ue);const le=[];for(const ue of X){const ke=S[ue],Ne=I.data[ue];le.push({key:{status:"valid",value:ue},value:ke._parse(new i(I,Ne,I.path,ue)),alwaysSet:ue in I.data})}if(this._def.catchall instanceof _e){const ue=this._def.unknownKeys;if(ue==="passthrough")for(const ke of z)le.push({key:{status:"valid",value:ke},value:{status:"valid",value:I.data[ke]}});else if(ue==="strict")z.length>0&&((0,s.addIssueToContext)(I,{code:e.ZodIssueCode.unrecognized_keys,keys:z}),y.dirty());else if(ue!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ue=this._def.catchall;for(const ke of z){const Ne=I.data[ke];le.push({key:{status:"valid",value:ke},value:ue._parse(new i(I,Ne,I.path,ke)),alwaysSet:ke in I.data})}}return I.common.async?Promise.resolve().then(async()=>{const ue=[];for(const ke of le){const Ne=await ke.key,Un=await ke.value;ue.push({key:Ne,value:Un,alwaysSet:ke.alwaysSet})}return ue}).then(ue=>s.ParseStatus.mergeObjectSync(y,ue)):s.ParseStatus.mergeObjectSync(y,le)}get shape(){return this._def.shape()}strict(l){return n.errorUtil.errToObj,new Se({...this._def,unknownKeys:"strict",...l!==void 0?{errorMap:(m,y)=>{const I=this._def.errorMap?.(m,y).message??y.defaultError;return m.code==="unrecognized_keys"?{message:n.errorUtil.errToObj(l).message??I}:{message:I}}}:{}})}strip(){return new Se({...this._def,unknownKeys:"strip"})}passthrough(){return new Se({...this._def,unknownKeys:"passthrough"})}extend(l){return new Se({...this._def,shape:()=>({...this._def.shape(),...l})})}merge(l){return new Se({unknownKeys:l._def.unknownKeys,catchall:l._def.catchall,shape:()=>({...this._def.shape(),...l._def.shape()}),typeName:ge.ZodObject})}setKey(l,m){return this.augment({[l]:m})}catchall(l){return new Se({...this._def,catchall:l})}pick(l){const m={};for(const y of r.util.objectKeys(l))l[y]&&this.shape[y]&&(m[y]=this.shape[y]);return new Se({...this._def,shape:()=>m})}omit(l){const m={};for(const y of r.util.objectKeys(this.shape))l[y]||(m[y]=this.shape[y]);return new Se({...this._def,shape:()=>m})}deepPartial(){return Ge(this)}partial(l){const m={};for(const y of r.util.objectKeys(this.shape)){const I=this.shape[y];l&&!l[y]?m[y]=I:m[y]=I.optional()}return new Se({...this._def,shape:()=>m})}required(l){const m={};for(const y of r.util.objectKeys(this.shape))if(l&&!l[y])m[y]=this.shape[y];else{let S=this.shape[y];for(;S instanceof Xe;)S=S._def.innerType;m[y]=S}return new Se({...this._def,shape:()=>m})}keyof(){return O(r.util.objectKeys(this.shape))}}B.ZodObject=Se,Se.create=(k,l)=>new Se({shape:()=>k,unknownKeys:"strip",catchall:_e.create(),typeName:ge.ZodObject,...c(l)}),Se.strictCreate=(k,l)=>new Se({shape:()=>k,unknownKeys:"strict",catchall:_e.create(),typeName:ge.ZodObject,...c(l)}),Se.lazycreate=(k,l)=>new Se({shape:k,unknownKeys:"strip",catchall:_e.create(),typeName:ge.ZodObject,...c(l)});class ht extends u{_parse(l){const{ctx:m}=this._processInputParams(l),y=this._def.options;function I(S){for(const z of S)if(z.result.status==="valid")return z.result;for(const z of S)if(z.result.status==="dirty")return m.common.issues.push(...z.ctx.common.issues),z.result;const X=S.map(z=>new e.ZodError(z.ctx.common.issues));return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_union,unionErrors:X}),s.INVALID}if(m.common.async)return Promise.all(y.map(async S=>{const X={...m,common:{...m.common,issues:[]},parent:null};return{result:await S._parseAsync({data:m.data,path:m.path,parent:X}),ctx:X}})).then(I);{let S;const X=[];for(const le of y){const ue={...m,common:{...m.common,issues:[]},parent:null},ke=le._parseSync({data:m.data,path:m.path,parent:ue});if(ke.status==="valid")return ke;ke.status==="dirty"&&!S&&(S={result:ke,ctx:ue}),ue.common.issues.length&&X.push(ue.common.issues)}if(S)return m.common.issues.push(...S.ctx.common.issues),S.result;const z=X.map(le=>new e.ZodError(le));return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_union,unionErrors:z}),s.INVALID}}get options(){return this._def.options}}B.ZodUnion=ht,ht.create=(k,l)=>new ht({options:k,typeName:ge.ZodUnion,...c(l)});const st=k=>k instanceof Ht?st(k.schema):k instanceof et?st(k.innerType()):k instanceof mn?[k.value]:k instanceof pe?k.options:k instanceof jt?r.util.objectValues(k.enum):k instanceof Dt?st(k._def.innerType):k instanceof oe?[void 0]:k instanceof ie?[null]:k instanceof Xe?[void 0,...st(k.unwrap())]:k instanceof ct?[null,...st(k.unwrap())]:k instanceof Nt||k instanceof kt?st(k.unwrap()):k instanceof Kt?st(k._def.innerType):[];class _t extends u{_parse(l){const{ctx:m}=this._processInputParams(l);if(m.parsedType!==r.ZodParsedType.object)return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.object,received:m.parsedType}),s.INVALID;const y=this.discriminator,I=m.data[y],S=this.optionsMap.get(I);return S?m.common.async?S._parseAsync({data:m.data,path:m.path,parent:m}):S._parseSync({data:m.data,path:m.path,parent:m}):((0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[y]}),s.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(l,m,y){const I=new Map;for(const S of m){const X=st(S.shape[l]);if(!X.length)throw new Error(`A discriminator value for key \`${l}\` could not be extracted from all schema options`);for(const z of X){if(I.has(z))throw new Error(`Discriminator property ${String(l)} has duplicate value ${String(z)}`);I.set(z,S)}}return new _t({typeName:ge.ZodDiscriminatedUnion,discriminator:l,options:m,optionsMap:I,...c(y)})}}B.ZodDiscriminatedUnion=_t;function Vt(k,l){const m=(0,r.getParsedType)(k),y=(0,r.getParsedType)(l);if(k===l)return{valid:!0,data:k};if(m===r.ZodParsedType.object&&y===r.ZodParsedType.object){const I=r.util.objectKeys(l),S=r.util.objectKeys(k).filter(z=>I.indexOf(z)!==-1),X={...k,...l};for(const z of S){const le=Vt(k[z],l[z]);if(!le.valid)return{valid:!1};X[z]=le.data}return{valid:!0,data:X}}else if(m===r.ZodParsedType.array&&y===r.ZodParsedType.array){if(k.length!==l.length)return{valid:!1};const I=[];for(let S=0;S<k.length;S++){const X=k[S],z=l[S],le=Vt(X,z);if(!le.valid)return{valid:!1};I.push(le.data)}return{valid:!0,data:I}}else return m===r.ZodParsedType.date&&y===r.ZodParsedType.date&&+k==+l?{valid:!0,data:k}:{valid:!1}}class mt extends u{_parse(l){const{status:m,ctx:y}=this._processInputParams(l),I=(S,X)=>{if((0,s.isAborted)(S)||(0,s.isAborted)(X))return s.INVALID;const z=Vt(S.value,X.value);return z.valid?(((0,s.isDirty)(S)||(0,s.isDirty)(X))&&m.dirty(),{status:m.value,value:z.data}):((0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_intersection_types}),s.INVALID)};return y.common.async?Promise.all([this._def.left._parseAsync({data:y.data,path:y.path,parent:y}),this._def.right._parseAsync({data:y.data,path:y.path,parent:y})]).then(([S,X])=>I(S,X)):I(this._def.left._parseSync({data:y.data,path:y.path,parent:y}),this._def.right._parseSync({data:y.data,path:y.path,parent:y}))}}B.ZodIntersection=mt,mt.create=(k,l,m)=>new mt({left:k,right:l,typeName:ge.ZodIntersection,...c(m)});class Ye extends u{_parse(l){const{status:m,ctx:y}=this._processInputParams(l);if(y.parsedType!==r.ZodParsedType.array)return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.array,received:y.parsedType}),s.INVALID;if(y.data.length<this._def.items.length)return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.INVALID;!this._def.rest&&y.data.length>this._def.items.length&&((0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m.dirty());const S=[...y.data].map((X,z)=>{const le=this._def.items[z]||this._def.rest;return le?le._parse(new i(y,X,y.path,z)):null}).filter(X=>!!X);return y.common.async?Promise.all(S).then(X=>s.ParseStatus.mergeArray(m,X)):s.ParseStatus.mergeArray(m,S)}get items(){return this._def.items}rest(l){return new Ye({...this._def,rest:l})}}B.ZodTuple=Ye,Ye.create=(k,l)=>{if(!Array.isArray(k))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ye({items:k,typeName:ge.ZodTuple,rest:null,...c(l)})};class $t extends u{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:m,ctx:y}=this._processInputParams(l);if(y.parsedType!==r.ZodParsedType.object)return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.object,received:y.parsedType}),s.INVALID;const I=[],S=this._def.keyType,X=this._def.valueType;for(const z in y.data)I.push({key:S._parse(new i(y,z,y.path,z)),value:X._parse(new i(y,y.data[z],y.path,z)),alwaysSet:z in y.data});return y.common.async?s.ParseStatus.mergeObjectAsync(m,I):s.ParseStatus.mergeObjectSync(m,I)}get element(){return this._def.valueType}static create(l,m,y){return m instanceof u?new $t({keyType:l,valueType:m,typeName:ge.ZodRecord,...c(y)}):new $t({keyType:N.create(),valueType:l,typeName:ge.ZodRecord,...c(m)})}}B.ZodRecord=$t;class hn extends u{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:m,ctx:y}=this._processInputParams(l);if(y.parsedType!==r.ZodParsedType.map)return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.map,received:y.parsedType}),s.INVALID;const I=this._def.keyType,S=this._def.valueType,X=[...y.data.entries()].map(([z,le],ue)=>({key:I._parse(new i(y,z,y.path,[ue,"key"])),value:S._parse(new i(y,le,y.path,[ue,"value"]))}));if(y.common.async){const z=new Map;return Promise.resolve().then(async()=>{for(const le of X){const ue=await le.key,ke=await le.value;if(ue.status==="aborted"||ke.status==="aborted")return s.INVALID;(ue.status==="dirty"||ke.status==="dirty")&&m.dirty(),z.set(ue.value,ke.value)}return{status:m.value,value:z}})}else{const z=new Map;for(const le of X){const ue=le.key,ke=le.value;if(ue.status==="aborted"||ke.status==="aborted")return s.INVALID;(ue.status==="dirty"||ke.status==="dirty")&&m.dirty(),z.set(ue.value,ke.value)}return{status:m.value,value:z}}}}B.ZodMap=hn,hn.create=(k,l,m)=>new hn({valueType:l,keyType:k,typeName:ge.ZodMap,...c(m)});class Ct extends u{_parse(l){const{status:m,ctx:y}=this._processInputParams(l);if(y.parsedType!==r.ZodParsedType.set)return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.set,received:y.parsedType}),s.INVALID;const I=this._def;I.minSize!==null&&y.data.size<I.minSize.value&&((0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_small,minimum:I.minSize.value,type:"set",inclusive:!0,exact:!1,message:I.minSize.message}),m.dirty()),I.maxSize!==null&&y.data.size>I.maxSize.value&&((0,s.addIssueToContext)(y,{code:e.ZodIssueCode.too_big,maximum:I.maxSize.value,type:"set",inclusive:!0,exact:!1,message:I.maxSize.message}),m.dirty());const S=this._def.valueType;function X(le){const ue=new Set;for(const ke of le){if(ke.status==="aborted")return s.INVALID;ke.status==="dirty"&&m.dirty(),ue.add(ke.value)}return{status:m.value,value:ue}}const z=[...y.data.values()].map((le,ue)=>S._parse(new i(y,le,y.path,ue)));return y.common.async?Promise.all(z).then(le=>X(le)):X(z)}min(l,m){return new Ct({...this._def,minSize:{value:l,message:n.errorUtil.toString(m)}})}max(l,m){return new Ct({...this._def,maxSize:{value:l,message:n.errorUtil.toString(m)}})}size(l,m){return this.min(l,m).max(l,m)}nonempty(l){return this.min(1,l)}}B.ZodSet=Ct,Ct.create=(k,l)=>new Ct({valueType:k,minSize:null,maxSize:null,typeName:ge.ZodSet,...c(l)});class xt extends u{constructor(){super(...arguments),this.validate=this.implement}_parse(l){const{ctx:m}=this._processInputParams(l);if(m.parsedType!==r.ZodParsedType.function)return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.function,received:m.parsedType}),s.INVALID;function y(z,le){return(0,s.makeIssue)({data:z,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(ue=>!!ue),issueData:{code:e.ZodIssueCode.invalid_arguments,argumentsError:le}})}function I(z,le){return(0,s.makeIssue)({data:z,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(ue=>!!ue),issueData:{code:e.ZodIssueCode.invalid_return_type,returnTypeError:le}})}const S={errorMap:m.common.contextualErrorMap},X=m.data;if(this._def.returns instanceof Tt){const z=this;return(0,s.OK)(async function(...le){const ue=new e.ZodError([]),ke=await z._def.args.parseAsync(le,S).catch(Os=>{throw ue.addIssue(y(le,Os)),ue}),Ne=await Reflect.apply(X,this,ke);return await z._def.returns._def.type.parseAsync(Ne,S).catch(Os=>{throw ue.addIssue(I(Ne,Os)),ue})})}else{const z=this;return(0,s.OK)(function(...le){const ue=z._def.args.safeParse(le,S);if(!ue.success)throw new e.ZodError([y(le,ue.error)]);const ke=Reflect.apply(X,this,ue.data),Ne=z._def.returns.safeParse(ke,S);if(!Ne.success)throw new e.ZodError([I(ke,Ne.error)]);return Ne.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...l){return new xt({...this._def,args:Ye.create(l).rest(we.create())})}returns(l){return new xt({...this._def,returns:l})}implement(l){return this.parse(l)}strictImplement(l){return this.parse(l)}static create(l,m,y){return new xt({args:l||Ye.create([]).rest(we.create()),returns:m||we.create(),typeName:ge.ZodFunction,...c(y)})}}B.ZodFunction=xt;class Ht extends u{get schema(){return this._def.getter()}_parse(l){const{ctx:m}=this._processInputParams(l);return this._def.getter()._parse({data:m.data,path:m.path,parent:m})}}B.ZodLazy=Ht,Ht.create=(k,l)=>new Ht({getter:k,typeName:ge.ZodLazy,...c(l)});class mn extends u{_parse(l){if(l.data!==this._def.value){const m=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(m,{received:m.data,code:e.ZodIssueCode.invalid_literal,expected:this._def.value}),s.INVALID}return{status:"valid",value:l.data}}get value(){return this._def.value}}B.ZodLiteral=mn,mn.create=(k,l)=>new mn({value:k,typeName:ge.ZodLiteral,...c(l)});function O(k,l){return new pe({values:k,typeName:ge.ZodEnum,...c(l)})}class pe extends u{_parse(l){if(typeof l.data!="string"){const m=this._getOrReturnCtx(l),y=this._def.values;return(0,s.addIssueToContext)(m,{expected:r.util.joinValues(y),received:m.parsedType,code:e.ZodIssueCode.invalid_type}),s.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(l.data)){const m=this._getOrReturnCtx(l),y=this._def.values;return(0,s.addIssueToContext)(m,{received:m.data,code:e.ZodIssueCode.invalid_enum_value,options:y}),s.INVALID}return(0,s.OK)(l.data)}get options(){return this._def.values}get enum(){const l={};for(const m of this._def.values)l[m]=m;return l}get Values(){const l={};for(const m of this._def.values)l[m]=m;return l}get Enum(){const l={};for(const m of this._def.values)l[m]=m;return l}extract(l,m=this._def){return pe.create(l,{...this._def,...m})}exclude(l,m=this._def){return pe.create(this.options.filter(y=>!l.includes(y)),{...this._def,...m})}}B.ZodEnum=pe,pe.create=O;class jt extends u{_parse(l){const m=r.util.getValidEnumValues(this._def.values),y=this._getOrReturnCtx(l);if(y.parsedType!==r.ZodParsedType.string&&y.parsedType!==r.ZodParsedType.number){const I=r.util.objectValues(m);return(0,s.addIssueToContext)(y,{expected:r.util.joinValues(I),received:y.parsedType,code:e.ZodIssueCode.invalid_type}),s.INVALID}if(this._cache||(this._cache=new Set(r.util.getValidEnumValues(this._def.values))),!this._cache.has(l.data)){const I=r.util.objectValues(m);return(0,s.addIssueToContext)(y,{received:y.data,code:e.ZodIssueCode.invalid_enum_value,options:I}),s.INVALID}return(0,s.OK)(l.data)}get enum(){return this._def.values}}B.ZodNativeEnum=jt,jt.create=(k,l)=>new jt({values:k,typeName:ge.ZodNativeEnum,...c(l)});class Tt extends u{unwrap(){return this._def.type}_parse(l){const{ctx:m}=this._processInputParams(l);if(m.parsedType!==r.ZodParsedType.promise&&m.common.async===!1)return(0,s.addIssueToContext)(m,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.promise,received:m.parsedType}),s.INVALID;const y=m.parsedType===r.ZodParsedType.promise?m.data:Promise.resolve(m.data);return(0,s.OK)(y.then(I=>this._def.type.parseAsync(I,{path:m.path,errorMap:m.common.contextualErrorMap})))}}B.ZodPromise=Tt,Tt.create=(k,l)=>new Tt({type:k,typeName:ge.ZodPromise,...c(l)});class et extends u{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(l){const{status:m,ctx:y}=this._processInputParams(l),I=this._def.effect||null,S={addIssue:X=>{(0,s.addIssueToContext)(y,X),X.fatal?m.abort():m.dirty()},get path(){return y.path}};if(S.addIssue=S.addIssue.bind(S),I.type==="preprocess"){const X=I.transform(y.data,S);if(y.common.async)return Promise.resolve(X).then(async z=>{if(m.value==="aborted")return s.INVALID;const le=await this._def.schema._parseAsync({data:z,path:y.path,parent:y});return le.status==="aborted"?s.INVALID:le.status==="dirty"||m.value==="dirty"?(0,s.DIRTY)(le.value):le});{if(m.value==="aborted")return s.INVALID;const z=this._def.schema._parseSync({data:X,path:y.path,parent:y});return z.status==="aborted"?s.INVALID:z.status==="dirty"||m.value==="dirty"?(0,s.DIRTY)(z.value):z}}if(I.type==="refinement"){const X=z=>{const le=I.refinement(z,S);if(y.common.async)return Promise.resolve(le);if(le instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return z};if(y.common.async===!1){const z=this._def.schema._parseSync({data:y.data,path:y.path,parent:y});return z.status==="aborted"?s.INVALID:(z.status==="dirty"&&m.dirty(),X(z.value),{status:m.value,value:z.value})}else return this._def.schema._parseAsync({data:y.data,path:y.path,parent:y}).then(z=>z.status==="aborted"?s.INVALID:(z.status==="dirty"&&m.dirty(),X(z.value).then(()=>({status:m.value,value:z.value}))))}if(I.type==="transform")if(y.common.async===!1){const X=this._def.schema._parseSync({data:y.data,path:y.path,parent:y});if(!(0,s.isValid)(X))return s.INVALID;const z=I.transform(X.value,S);if(z instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:m.value,value:z}}else return this._def.schema._parseAsync({data:y.data,path:y.path,parent:y}).then(X=>(0,s.isValid)(X)?Promise.resolve(I.transform(X.value,S)).then(z=>({status:m.value,value:z})):s.INVALID);r.util.assertNever(I)}}B.ZodEffects=et,B.ZodTransformer=et,et.create=(k,l,m)=>new et({schema:k,typeName:ge.ZodEffects,effect:l,...c(m)}),et.createWithPreprocess=(k,l,m)=>new et({schema:l,effect:{type:"preprocess",transform:k},typeName:ge.ZodEffects,...c(m)});class Xe extends u{_parse(l){return this._getType(l)===r.ZodParsedType.undefined?(0,s.OK)(void 0):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}B.ZodOptional=Xe,Xe.create=(k,l)=>new Xe({innerType:k,typeName:ge.ZodOptional,...c(l)});class ct extends u{_parse(l){return this._getType(l)===r.ZodParsedType.null?(0,s.OK)(null):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}B.ZodNullable=ct,ct.create=(k,l)=>new ct({innerType:k,typeName:ge.ZodNullable,...c(l)});class Dt extends u{_parse(l){const{ctx:m}=this._processInputParams(l);let y=m.data;return m.parsedType===r.ZodParsedType.undefined&&(y=this._def.defaultValue()),this._def.innerType._parse({data:y,path:m.path,parent:m})}removeDefault(){return this._def.innerType}}B.ZodDefault=Dt,Dt.create=(k,l)=>new Dt({innerType:k,typeName:ge.ZodDefault,defaultValue:typeof l.default=="function"?l.default:()=>l.default,...c(l)});class Kt extends u{_parse(l){const{ctx:m}=this._processInputParams(l),y={...m,common:{...m.common,issues:[]}},I=this._def.innerType._parse({data:y.data,path:y.path,parent:{...y}});return(0,s.isAsync)(I)?I.then(S=>({status:"valid",value:S.status==="valid"?S.value:this._def.catchValue({get error(){return new e.ZodError(y.common.issues)},input:y.data})})):{status:"valid",value:I.status==="valid"?I.value:this._def.catchValue({get error(){return new e.ZodError(y.common.issues)},input:y.data})}}removeCatch(){return this._def.innerType}}B.ZodCatch=Kt,Kt.create=(k,l)=>new Kt({innerType:k,typeName:ge.ZodCatch,catchValue:typeof l.catch=="function"?l.catch:()=>l.catch,...c(l)});class pn extends u{_parse(l){if(this._getType(l)!==r.ZodParsedType.nan){const y=this._getOrReturnCtx(l);return(0,s.addIssueToContext)(y,{code:e.ZodIssueCode.invalid_type,expected:r.ZodParsedType.nan,received:y.parsedType}),s.INVALID}return{status:"valid",value:l.data}}}B.ZodNaN=pn,pn.create=k=>new pn({typeName:ge.ZodNaN,...c(k)}),B.BRAND=Symbol("zod_brand");class Nt extends u{_parse(l){const{ctx:m}=this._processInputParams(l),y=m.data;return this._def.type._parse({data:y,path:m.path,parent:m})}unwrap(){return this._def.type}}B.ZodBranded=Nt;class Ot extends u{_parse(l){const{status:m,ctx:y}=this._processInputParams(l);if(y.common.async)return(async()=>{const S=await this._def.in._parseAsync({data:y.data,path:y.path,parent:y});return S.status==="aborted"?s.INVALID:S.status==="dirty"?(m.dirty(),(0,s.DIRTY)(S.value)):this._def.out._parseAsync({data:S.value,path:y.path,parent:y})})();{const I=this._def.in._parseSync({data:y.data,path:y.path,parent:y});return I.status==="aborted"?s.INVALID:I.status==="dirty"?(m.dirty(),{status:"dirty",value:I.value}):this._def.out._parseSync({data:I.value,path:y.path,parent:y})}}static create(l,m){return new Ot({in:l,out:m,typeName:ge.ZodPipeline})}}B.ZodPipeline=Ot;class kt extends u{_parse(l){const m=this._def.innerType._parse(l),y=I=>((0,s.isValid)(I)&&(I.value=Object.freeze(I.value)),I);return(0,s.isAsync)(m)?m.then(I=>y(I)):y(m)}unwrap(){return this._def.innerType}}B.ZodReadonly=kt,kt.create=(k,l)=>new kt({innerType:k,typeName:ge.ZodReadonly,...c(l)});function Bn(k,l){const m=typeof k=="function"?k(l):typeof k=="string"?{message:k}:k;return typeof m=="string"?{message:m}:m}function Bs(k,l={},m){return k?xe.create().superRefine((y,I)=>{const S=k(y);if(S instanceof Promise)return S.then(X=>{if(!X){const z=Bn(l,y),le=z.fatal??m??!0;I.addIssue({code:"custom",...z,fatal:le})}});if(!S){const X=Bn(l,y),z=X.fatal??m??!0;I.addIssue({code:"custom",...X,fatal:z})}}):xe.create()}B.late={object:Se.lazycreate};var ge;(function(k){k.ZodString="ZodString",k.ZodNumber="ZodNumber",k.ZodNaN="ZodNaN",k.ZodBigInt="ZodBigInt",k.ZodBoolean="ZodBoolean",k.ZodDate="ZodDate",k.ZodSymbol="ZodSymbol",k.ZodUndefined="ZodUndefined",k.ZodNull="ZodNull",k.ZodAny="ZodAny",k.ZodUnknown="ZodUnknown",k.ZodNever="ZodNever",k.ZodVoid="ZodVoid",k.ZodArray="ZodArray",k.ZodObject="ZodObject",k.ZodUnion="ZodUnion",k.ZodDiscriminatedUnion="ZodDiscriminatedUnion",k.ZodIntersection="ZodIntersection",k.ZodTuple="ZodTuple",k.ZodRecord="ZodRecord",k.ZodMap="ZodMap",k.ZodSet="ZodSet",k.ZodFunction="ZodFunction",k.ZodLazy="ZodLazy",k.ZodLiteral="ZodLiteral",k.ZodEnum="ZodEnum",k.ZodEffects="ZodEffects",k.ZodNativeEnum="ZodNativeEnum",k.ZodOptional="ZodOptional",k.ZodNullable="ZodNullable",k.ZodDefault="ZodDefault",k.ZodCatch="ZodCatch",k.ZodPromise="ZodPromise",k.ZodBranded="ZodBranded",k.ZodPipeline="ZodPipeline",k.ZodReadonly="ZodReadonly"})(ge||(B.ZodFirstPartyTypeKind=ge={}));const pr=(k,l={message:`Input not instance of ${k.name}`})=>Bs(m=>m instanceof k,l);B.instanceof=pr;const Rn=N.create;B.string=Rn;const Mn=G.create;B.number=Mn;const gr=pn.create;B.nan=gr;const yr=F.create;B.bigint=yr;const Rs=Z.create;B.boolean=Rs;const br=$.create;B.date=br;const Vn=J.create;B.symbol=Vn;const jn=oe.create;B.undefined=jn;const vr=ie.create;B.null=vr;const wr=xe.create;B.any=wr;const _r=we.create;B.unknown=_r;const Cr=_e.create;B.never=Cr;const Fe=Ie.create;B.void=Fe;const xr=Ee.create;B.array=xr;const Tr=Se.create;B.object=Tr;const kr=Se.strictCreate;B.strictObject=kr;const Ms=ht.create;B.union=Ms;const Ir=_t.create;B.discriminatedUnion=Ir;const Dn=mt.create;B.intersection=Dn;const Nn=Ye.create;B.tuple=Nn;const Ar=$t.create;B.record=Ar;const Sr=hn.create;B.map=Sr;const Vs=Ct.create;B.set=Vs;const Gt=xt.create;B.function=Gt;const gn=Ht.create;B.lazy=gn;const Er=mn.create;B.literal=Er;const Pr=pe.create;B.enum=Pr;const On=jt.create;B.nativeEnum=On;const Br=Tt.create;B.promise=Br;const js=et.create;B.effect=js,B.transformer=js;const yn=Xe.create;B.optional=yn;const tt=ct.create;B.nullable=tt;const Ln=et.createWithPreprocess;B.preprocess=Ln;const Ds=Ot.create;B.pipeline=Ds;const Lt=()=>Rn().optional();B.ostring=Lt;const Ns=()=>Mn().optional();B.onumber=Ns;const Rr=()=>Rs().optional();return B.oboolean=Rr,B.coerce={string:k=>N.create({...k,coerce:!0}),number:k=>G.create({...k,coerce:!0}),boolean:k=>Z.create({...k,coerce:!0}),bigint:k=>F.create({...k,coerce:!0}),date:k=>$.create({...k,coerce:!0})},B.NEVER=s.INVALID,B}var Xo;function Jo(){return Xo||(Xo=1,function(e){var t=nn&&nn.__createBinding||(Object.create?function(s,r,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(r,i);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(s,a,c)}:function(s,r,i,a){a===void 0&&(a=i),s[a]=r[i]}),n=nn&&nn.__exportStar||function(s,r){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(da(),e),n(Eu(),e),n(sb(),e),n(mr(),e),n(ib(),e),n(ua(),e)}(nn)),nn}var Qo;function ec(){return Qo||(Qo=1,function(e){var t=ut&&ut.__createBinding||(Object.create?function(a,c,u,d){d===void 0&&(d=u);var o=Object.getOwnPropertyDescriptor(c,u);(!o||("get"in o?!c.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(a,d,o)}:function(a,c,u,d){d===void 0&&(d=u),a[d]=c[u]}),n=ut&&ut.__setModuleDefault||(Object.create?function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}:function(a,c){a.default=c}),s=ut&&ut.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&t(c,a,u);return n(c,a),c},r=ut&&ut.__exportStar||function(a,c){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,a,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const i=s(Jo());e.z=i,r(Jo(),e),e.default=i}(ut)),ut}var tc;function Pu(){return tc||(tc=1,function(e){var t=At&&At.__createBinding||(Object.create?function(i,a,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(a,c);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,u,d)}:function(i,a,c,u){u===void 0&&(u=c),i[u]=a[c]}),n=At&&At.__exportStar||function(i,a){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,i,c)},s=At&&At.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(ec());n(ec(),e),e.default=r.default}(At)),At}const ab="15.2.1",ob={version:ab};var nc;function Bu(){if(nc)return tn;nc=1;var e=tn&&tn.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.HttpApi=void 0;const t=tb(),n=e(nb()),s=e(la()),r=Pu(),i=ob.version,a=r.z.object({"@type":r.z.literal("ton.blockIdExt"),workchain:r.z.number(),shard:r.z.string(),seqno:r.z.number(),root_hash:r.z.string(),file_hash:r.z.string()}),c=r.z.object({balance:r.z.union([r.z.number(),r.z.string()]),extra_currencies:r.z.optional(r.z.array(r.z.object({"@type":r.z.literal("extraCurrency"),id:r.z.number(),amount:r.z.string()}))),state:r.z.union([r.z.literal("active"),r.z.literal("uninitialized"),r.z.literal("frozen")]),data:r.z.string(),code:r.z.string(),last_transaction_id:r.z.object({"@type":r.z.literal("internal.transactionId"),lt:r.z.string(),hash:r.z.string()}),block_id:a,sync_utime:r.z.number()}),u=r.z.object({"@type":r.z.literal("ok")}),d=r.z.object({"@type":r.z.literal("query.fees"),source_fees:r.z.object({"@type":r.z.literal("fees"),in_fwd_fee:r.z.number(),storage_fee:r.z.number(),gas_fee:r.z.number(),fwd_fee:r.z.number()})}),o=r.z.object({gas_used:r.z.number(),exit_code:r.z.number(),stack:r.z.array(r.z.unknown())}),p=r.z.union([r.z.object({"@type":r.z.literal("msg.dataRaw"),body:r.z.string()}),r.z.object({"@type":r.z.literal("msg.dataText"),text:r.z.string()}),r.z.object({"@type":r.z.literal("msg.dataDecryptedText"),text:r.z.string()}),r.z.object({"@type":r.z.literal("msg.dataEncryptedText"),text:r.z.string()})]),w=r.z.object({source:r.z.string(),destination:r.z.string(),value:r.z.string(),fwd_fee:r.z.string(),ihr_fee:r.z.string(),created_lt:r.z.string(),body_hash:r.z.string(),msg_data:p,message:r.z.string().optional()}),C=r.z.object({data:r.z.string(),utime:r.z.number(),transaction_id:r.z.object({lt:r.z.string(),hash:r.z.string()}),fee:r.z.string(),storage_fee:r.z.string(),other_fee:r.z.string(),in_msg:r.z.union([r.z.undefined(),w]),out_msgs:r.z.array(w)}),T=r.z.array(C),b=r.z.object({state_root_hash:r.z.string(),last:a,init:a}),A=r.z.object({shards:r.z.array(a)}),P=r.z.object({"@type":r.z.literal("blocks.shortTxId"),mode:r.z.number(),account:r.z.string(),lt:r.z.string(),hash:r.z.string()}),D=r.z.object({id:a,req_count:r.z.number(),incomplete:r.z.boolean(),transactions:r.z.array(P)});class M{constructor(K,U,se,ce){this.namespace=K,this.cache=U,this.codec=se,this.keyEncoder=ce}async get(K){let U=await this.cache.get(this.namespace,this.keyEncoder(K));if(U){let se=this.codec.safeParse(JSON.parse(U));if(se.success)return se.data}return null}async set(K,U){U!==null?await this.cache.set(this.namespace,this.keyEncoder(K),JSON.stringify(U)):await this.cache.set(this.namespace,this.keyEncoder(K),null)}}let ne=class{constructor(K,U){this.endpoint=K,this.cache=new t.InMemoryCache,this.parameters={timeout:U?.timeout||3e4,apiKey:U?.apiKey,adapter:U?.adapter},this.shardCache=new M("ton-shard",this.cache,r.z.array(a),se=>se+""),this.shardLoader=new n.default(async se=>await Promise.all(se.map(async ce=>{const be=await this.shardCache.get(ce);if(be)return be;let ve=(await this.doCall("shards",{seqno:ce},A)).shards;return await this.shardCache.set(ce,ve),ve}))),this.shardTransactionsCache=new M("ton-shard-tx",this.cache,D,se=>se.workchain+":"+se.shard+":"+se.seqno),this.shardTransactionsLoader=new n.default(async se=>await Promise.all(se.map(async ce=>{const be=await this.shardTransactionsCache.get(ce);if(be)return be;let ve=await this.doCall("getBlockTransactions",{workchain:ce.workchain,seqno:ce.seqno,shard:ce.shard},D);return await this.shardTransactionsCache.set(ce,ve),ve})),{cacheKeyFn:se=>se.workchain+":"+se.shard+":"+se.seqno})}getAddressInformation(K){return this.doCall("getAddressInformation",{address:K.toString()},c)}async getTransactions(K,U){const se=U.inclusive;delete U.inclusive;let ce;U.hash&&(ce=Buffer.from(U.hash,"base64").toString("hex"));let be=U.limit;U.hash&&U.lt&&se!==!0&&be++;let ve=await this.doCall("getTransactions",{address:K.toString(),...U,limit:be,hash:ce},T);return ve.length>be&&(ve=ve.slice(0,be)),U.hash&&U.lt&&se!==!0&&ve.shift(),ve}async getMasterchainInfo(){return await this.doCall("getMasterchainInfo",{},b)}async getShards(K){return await this.shardLoader.load(K)}async getBlockTransactions(K,U,se){return await this.shardTransactionsLoader.load({workchain:K,seqno:U,shard:se})}async getTransaction(K,U,se){let ce=Buffer.from(se,"base64").toString("hex"),ve=(await this.doCall("getTransactions",{address:K.toString(),lt:U,hash:ce,limit:1},T)).find(re=>re.transaction_id.lt===U&&re.transaction_id.hash===se);return ve||null}async callGetMethod(K,U,se){return await this.doCall("runGetMethod",{address:K.toString(),method:U,stack:Y(se)},o)}async sendBoc(K){await this.doCall("sendBoc",{boc:K.toString("base64")},u)}async estimateFee(K,U){return await this.doCall("estimateFee",{address:K.toString(),body:U.body.toBoc().toString("base64"),init_data:U.initData?U.initData.toBoc().toString("base64"):"",init_code:U.initCode?U.initCode.toBoc().toString("base64"):"",ignore_chksig:U.ignoreSignature},d)}async tryLocateResultTx(K,U,se){return await this.doCall("tryLocateResultTx",{source:K.toString(),destination:U.toString(),created_lt:se},C)}async tryLocateSourceTx(K,U,se){return await this.doCall("tryLocateSourceTx",{source:K.toString(),destination:U.toString(),created_lt:se},C)}async doCall(K,U,se){let ce={"Content-Type":"application/json","X-Ton-Client-Version":i};this.parameters.apiKey&&(ce["X-API-Key"]=this.parameters.apiKey);let be=await s.default.post(this.endpoint,JSON.stringify({id:"1",jsonrpc:"2.0",method:K,params:U}),{headers:ce,timeout:this.parameters.timeout,adapter:this.parameters.adapter});if(be.status!==200||!be.data.ok)throw Error("Received error: "+JSON.stringify(be.data));let ve=se.safeParse(be.data.result);if(ve.success)return ve.data;throw Error("Malformed response: "+ve.error.format()._errors.join(", "))}};tn.HttpApi=ne;function Y(q){let K=[];for(let U of q)if(U.type==="int")K.push(["num",U.value.toString()]);else if(U.type==="cell")K.push(["tvm.Cell",U.cell.toBoc().toString("base64")]);else if(U.type==="slice")K.push(["tvm.Slice",U.cell.toBoc().toString("base64")]);else if(U.type==="builder")K.push(["tvm.Builder",U.cell.toBoc().toString("base64")]);else throw Error("Unsupported stack item type: "+U.type);return K}return tn}var Hn={},sc;function cb(){if(sc)return Hn;sc=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.TonClient=void 0;const e=Bu(),t=Be();let n=class{constructor(u){this.parameters={endpoint:u.endpoint},this.api=new e.HttpApi(this.parameters.endpoint,{timeout:u.timeout,apiKey:u.apiKey,adapter:u.httpAdapter})}async getBalance(u){return(await this.getContractState(u)).balance}async runMethod(u,d,o=[]){let p=await this.api.callGetMethod(u,d,o);if(p.exit_code!==0)throw Error("Unable to execute get method. Got exit_code: "+p.exit_code);return{gas_used:p.gas_used,stack:i(p.stack)}}async callGetMethod(u,d,o=[]){return this.runMethod(u,d,o)}async runMethodWithError(u,d,o=[]){let p=await this.api.callGetMethod(u,d,o);return{gas_used:p.gas_used,stack:i(p.stack),exit_code:p.exit_code}}async callGetMethodWithError(u,d,o=[]){return this.runMethodWithError(u,d,o)}async getTransactions(u,d){let o=await this.api.getTransactions(u,d),p=[];for(let w of o)p.push((0,t.loadTransaction)(t.Cell.fromBoc(Buffer.from(w.data,"base64"))[0].beginParse()));return p}async getTransaction(u,d,o){let p=await this.api.getTransaction(u,d,o);return p?(0,t.loadTransaction)(t.Cell.fromBoc(Buffer.from(p.data,"base64"))[0].beginParse()):null}async tryLocateResultTx(u,d,o){let p=await this.api.tryLocateResultTx(u,d,o);return(0,t.loadTransaction)(t.Cell.fromBase64(p.data).beginParse())}async tryLocateSourceTx(u,d,o){let p=await this.api.tryLocateSourceTx(u,d,o);return(0,t.loadTransaction)(t.Cell.fromBase64(p.data).beginParse())}async getMasterchainInfo(){let u=await this.api.getMasterchainInfo();return{workchain:u.init.workchain,shard:u.last.shard,initSeqno:u.init.seqno,latestSeqno:u.last.seqno}}async getWorkchainShards(u){return(await this.api.getShards(u)).map(o=>({workchain:o.workchain,shard:o.shard,seqno:o.seqno}))}async getShardTransactions(u,d,o){let p=await this.api.getBlockTransactions(u,d,o);if(p.incomplete)throw Error("Unsupported");return p.transactions.map(w=>({account:t.Address.parseRaw(w.account),lt:w.lt,hash:w.hash}))}async sendMessage(u){const d=(0,t.beginCell)().store((0,t.storeMessage)(u)).endCell().toBoc();await this.api.sendBoc(d)}async sendFile(u){await this.api.sendBoc(u)}async estimateExternalMessageFee(u,d){return await this.api.estimateFee(u,{body:d.body,initCode:d.initCode,initData:d.initData,ignoreSignature:d.ignoreSignature})}async sendExternalMessage(u,d){if(await this.isContractDeployed(u.address)||!u.init){const o=(0,t.external)({to:u.address,body:d});await this.sendMessage(o)}else{const o=(0,t.external)({to:u.address,init:u.init,body:d});await this.sendMessage(o)}}async isContractDeployed(u){return(await this.getContractState(u)).state==="active"}async getContractState(u){let d=await this.api.getAddressInformation(u),o=BigInt(d.balance),p=d.state;return{balance:o,extra_currencies:d.extra_currencies,state:p,code:d.code!==""?Buffer.from(d.code,"base64"):null,data:d.data!==""?Buffer.from(d.data,"base64"):null,lastTransaction:d.last_transaction_id.lt!=="0"?{lt:d.last_transaction_id.lt,hash:d.last_transaction_id.hash}:null,blockId:{workchain:d.block_id.workchain,shard:d.block_id.shard,seqno:d.block_id.seqno},timestampt:d.sync_utime}}open(u){return(0,t.openContract)(u,d=>a(this,d.address,d.init))}provider(u,d){return a(this,u,d??null)}};Hn.TonClient=n;function s(c){const u=c["@type"];switch(u){case"tvm.list":case"tvm.tuple":return c.elements.map(s);case"tvm.cell":return t.Cell.fromBoc(Buffer.from(c.bytes,"base64"))[0];case"tvm.slice":return t.Cell.fromBoc(Buffer.from(c.bytes,"base64"))[0];case"tvm.stackEntryCell":return s(c.cell);case"tvm.stackEntrySlice":return s(c.slice);case"tvm.stackEntryTuple":return s(c.tuple);case"tvm.stackEntryList":return s(c.list);case"tvm.stackEntryNumber":return s(c.number);case"tvm.numberDecimal":return BigInt(c.number);default:throw Error("Unsupported item type: "+u)}}function r(c){if(c[0]==="num"){let u=c[1];return u.startsWith("-")?{type:"int",value:-BigInt(u.slice(1))}:{type:"int",value:BigInt(u)}}else{if(c[0]==="null")return{type:"null"};if(c[0]==="cell")return{type:"cell",cell:t.Cell.fromBoc(Buffer.from(c[1].bytes,"base64"))[0]};if(c[0]==="slice")return{type:"slice",cell:t.Cell.fromBoc(Buffer.from(c[1].bytes,"base64"))[0]};if(c[0]==="builder")return{type:"builder",cell:t.Cell.fromBoc(Buffer.from(c[1].bytes,"base64"))[0]};if(c[0]==="tuple"||c[0]==="list")return c[1].elements.length===0?{type:"null"}:{type:"tuple",items:c[1].elements.map(s)};throw Error("Unsupported stack item type: "+c[0])}}function i(c){let u=[];for(let d of c)u.push(r(d));return new t.TupleReader(u)}function a(c,u,d){return{async getState(){let o=await c.getContractState(u),p=o.balance,w=o.lastTransaction?{lt:BigInt(o.lastTransaction.lt),hash:Buffer.from(o.lastTransaction.hash,"base64")}:null,C=null,T;if(o.state==="active")T={type:"active",code:o.code?o.code:null,data:o.data?o.data:null};else if(o.state==="uninitialized")T={type:"uninit"};else if(o.state==="frozen")T={type:"frozen",stateHash:Buffer.alloc(0)};else throw Error("Unsupported state");if(o.extra_currencies&&o.extra_currencies.length>0){C={};for(let b of o.extra_currencies)C[b.id]=BigInt(b.amount)}return{balance:p,extracurrency:C,last:w,state:T}},async get(o,p){if(typeof o!="string")throw new Error("Method name must be a string for TonClient provider");return{stack:(await c.runMethod(u,o,p)).stack}},async external(o){let p=null;d&&!await c.isContractDeployed(u)&&(p=d);const w=(0,t.external)({to:u,init:p,body:o});let C=(0,t.beginCell)().store((0,t.storeMessage)(w)).endCell().toBoc();await c.sendFile(C)},async internal(o,p){let w=null;d&&!await c.isContractDeployed(u)&&(w=d);let C=!0;p.bounce!==null&&p.bounce!==void 0&&(C=p.bounce);let T;typeof p.value=="string"?T=(0,t.toNano)(p.value):T=p.value;let b=null;typeof p.body=="string"?b=(0,t.comment)(p.body):p.body&&(b=p.body),await o.send({to:u,value:T,bounce:C,sendMode:p.sendMode,extracurrency:p.extracurrency,init:w,body:b})},open(o){return(0,t.openContract)(o,p=>a(c,p.address,p.init??null))},getTransactions(o,p,w,C){return c.getTransactions(o,{limit:C??100,lt:p.toString(),hash:w.toString("base64"),inclusive:!0})}}}return Hn}var dt={},Xs={},rc;function lb(){if(rc)return Xs;rc=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.toUrlSafe=e;function e(t){for(;t.indexOf("/")>=0;)t=t.replace("/","_");for(;t.indexOf("+")>=0;)t=t.replace("+","-");for(;t.indexOf("=")>=0;)t=t.replace("=","");return t}return Xs}var ic;function ub(){if(ic)return dt;ic=1;var e=dt&&dt.__classPrivateFieldSet||function(F,Z,$,J,oe){if(J==="m")throw new TypeError("Private method is not writable");if(J==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?F!==Z||!oe:!Z.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return J==="a"?oe.call(F,$):oe?oe.value=$:Z.set(F,$),$},t=dt&&dt.__classPrivateFieldGet||function(F,Z,$,J){if($==="a"&&!J)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?F!==Z||!J:!Z.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?J:$==="a"?J.call(F):J?J.value:Z.get(F)},n=dt&&dt.__importDefault||function(F){return F&&F.__esModule?F:{default:F}},s,r,i,a;Object.defineProperty(dt,"__esModule",{value:!0}),dt.TonClient4=void 0;const c=n(la()),u=Be(),d=lb(),o=Pu();let p=class{constructor(Z){s.set(this,void 0),r.set(this,void 0),i.set(this,void 0),a.set(this,void 0),e(this,a,c.default.create(),"f"),e(this,s,Z.endpoint,"f"),e(this,r,Z.timeout||5e3,"f"),e(this,i,Z.httpAdapter,"f"),Z.requestInterceptor&&t(this,a,"f").interceptors.request.use(Z.requestInterceptor)}async getLastBlock(){let Z=await t(this,a,"f").get(t(this,s,"f")+"/block/latest",{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),$=C.safeParse(Z.data);if(!$.success)throw Error("Mailformed response: "+$.error.format()._errors.join(", "));return $.data}async getBlock(Z){let $=await t(this,a,"f").get(t(this,s,"f")+"/block/"+Z,{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),J=T.safeParse($.data);if(!J.success)throw Error("Mailformed response");if(!J.data.exist)throw Error("Block is out of scope");return J.data.block}async getBlockByUtime(Z){let $=await t(this,a,"f").get(t(this,s,"f")+"/block/utime/"+Z,{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),J=T.safeParse($.data);if(!J.success)throw Error("Mailformed response");if(!J.data.exist)throw Error("Block is out of scope");return J.data.block}async getAccount(Z,$){let J=await t(this,a,"f").get(t(this,s,"f")+"/block/"+Z+"/"+$.toString({urlSafe:!0}),{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),oe=A.safeParse(J.data);if(!oe.success)throw Error("Mailformed response");return oe.data}async getAccountLite(Z,$){let J=await t(this,a,"f").get(t(this,s,"f")+"/block/"+Z+"/"+$.toString({urlSafe:!0})+"/lite",{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),oe=P.safeParse(J.data);if(!oe.success)throw Error("Mailformed response");return oe.data}async isContractDeployed(Z,$){return(await this.getAccountLite(Z,$)).account.state.type==="active"}async isAccountChanged(Z,$,J){let oe=await t(this,a,"f").get(t(this,s,"f")+"/block/"+Z+"/"+$.toString({urlSafe:!0})+"/changed/"+J.toString(10),{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),ie=D.safeParse(oe.data);if(!ie.success)throw Error("Mailformed response");return ie.data}async getAccountTransactions(Z,$,J){let oe=await t(this,a,"f").get(t(this,s,"f")+"/account/"+Z.toString({urlSafe:!0})+"/tx/"+$.toString(10)+"/"+(0,d.toUrlSafe)(J.toString("base64")),{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),ie=K.safeParse(oe.data);if(!ie.success)throw Error("Mailformed response");let xe=ie.data,we=[],_e=u.Cell.fromBoc(Buffer.from(xe.boc,"base64"));for(let Ie=0;Ie<xe.blocks.length;Ie++)we.push({block:xe.blocks[Ie],tx:(0,u.loadTransaction)(_e[Ie].beginParse())});return we}async getAccountTransactionsParsed(Z,$,J,oe=20){let ie=await t(this,a,"f").get(t(this,s,"f")+"/account/"+Z.toString({urlSafe:!0})+"/tx/parsed/"+$.toString(10)+"/"+(0,d.toUrlSafe)(J.toString("base64")),{adapter:t(this,i,"f"),timeout:t(this,r,"f"),params:{count:oe}}),xe=G.safeParse(ie.data);if(!xe.success)throw Error("Mailformed response");return xe.data}async getConfig(Z,$){let J="";$&&$.length>0&&(J="/"+[...$].sort().join(","));let oe=await t(this,a,"f").get(t(this,s,"f")+"/block/"+Z+"/config"+J,{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),ie=ne.safeParse(oe.data);if(!ie.success)throw Error("Mailformed response");return ie.data}async runMethod(Z,$,J,oe){let ie=oe&&oe.length>0?"/"+(0,d.toUrlSafe)((0,u.serializeTuple)(oe).toBoc({idx:!1,crc32:!1}).toString("base64")):"",xe=t(this,s,"f")+"/block/"+Z+"/"+$.toString({urlSafe:!0})+"/run/"+encodeURIComponent(J)+ie,we=await t(this,a,"f").get(xe,{adapter:t(this,i,"f"),timeout:t(this,r,"f")}),_e=M.safeParse(we.data);if(!_e.success)throw Error("Mailformed response");let Ie=_e.data.resultRaw?(0,u.parseTuple)(u.Cell.fromBoc(Buffer.from(_e.data.resultRaw,"base64"))[0]):[];return{exitCode:_e.data.exitCode,result:Ie,resultRaw:_e.data.resultRaw,block:_e.data.block,shardBlock:_e.data.shardBlock,reader:new u.TupleReader(Ie)}}async sendMessage(Z){let $=await t(this,a,"f").post(t(this,s,"f")+"/send",{boc:Z.toString("base64")},{adapter:t(this,i,"f"),timeout:t(this,r,"f")});if(!Y.safeParse($.data).success)throw Error("Mailformed response");return{status:$.data.status}}open(Z){return(0,u.openContract)(Z,$=>w(this,null,$.address,$.init))}openAt(Z,$){return(0,u.openContract)($,J=>w(this,Z,J.address,J.init))}provider(Z,$){return w(this,null,Z,$??null)}providerAt(Z,$,J){return w(this,Z,$,J??null)}};dt.TonClient4=p,s=new WeakMap,r=new WeakMap,i=new WeakMap,a=new WeakMap;function w(F,Z,$,J){return{async getState(){let oe=Z;oe===null&&(oe=(await F.getLastBlock()).last.seqno);let ie=await F.getAccount(oe,$),xe=ie.account.last?{lt:BigInt(ie.account.last.lt),hash:Buffer.from(ie.account.last.hash,"base64")}:null,we;if(ie.account.state.type==="active")we={type:"active",code:ie.account.state.code?Buffer.from(ie.account.state.code,"base64"):null,data:ie.account.state.data?Buffer.from(ie.account.state.data,"base64"):null};else if(ie.account.state.type==="uninit")we={type:"uninit"};else if(ie.account.state.type==="frozen")we={type:"frozen",stateHash:Buffer.from(ie.account.state.stateHash,"base64")};else throw Error("Unsupported state");let _e=null;if(ie.account.balance.currencies){_e={};let Ie=ie.account.balance.currencies;for(let[Ee,Ge]of Object.entries(Ie))_e[Number(Ee)]=BigInt(Ge)}return{balance:BigInt(ie.account.balance.coins),extracurrency:_e,last:xe,state:we}},async get(oe,ie){if(typeof oe!="string")throw new Error("Method name must be a string for TonClient4 provider");let xe=Z;xe===null&&(xe=(await F.getLastBlock()).last.seqno);let we=await F.runMethod(xe,$,oe,ie);if(we.exitCode!==0&&we.exitCode!==1)throw Error("Exit code: "+we.exitCode);return{stack:new u.TupleReader(we.result)}},async external(oe){let ie=await F.getLastBlock(),xe=null;J&&(await F.getAccountLite(ie.last.seqno,$)).account.state.type!=="active"&&(xe=J);const we=(0,u.external)({to:$,init:xe,body:oe});let _e=(0,u.beginCell)().store((0,u.storeMessage)(we)).endCell().toBoc();await F.sendMessage(_e)},async internal(oe,ie){let xe=await F.getLastBlock(),we=null;J&&(await F.getAccountLite(xe.last.seqno,$)).account.state.type!=="active"&&(we=J);let _e=!0;ie.bounce!==null&&ie.bounce!==void 0&&(_e=ie.bounce);let Ie;typeof ie.value=="string"?Ie=(0,u.toNano)(ie.value):Ie=ie.value;let Ee=null;typeof ie.body=="string"?Ee=(0,u.comment)(ie.body):ie.body&&(Ee=ie.body),await oe.send({to:$,value:Ie,extracurrency:ie.extracurrency,bounce:_e,sendMode:ie.sendMode,init:we,body:Ee})},open(oe){return(0,u.openContract)(oe,ie=>w(F,Z,ie.address,ie.init??null))},async getTransactions(oe,ie,xe,we){const _e=typeof we=="number";if(_e&&we<=0)return[];let Ie=[];do{const Ee=await F.getAccountTransactions(oe,ie,xe),Ge=Ee[0].tx,[Se,ht]=[Ge.lt,Ge.hash()];if(Ie.length>0&&Se===ie&&ht.equals(xe)&&Ee.shift(),Ee.length===0)break;const _t=Ee[Ee.length-1].tx,[Vt,mt]=[_t.lt,_t.hash()];if(Vt===ie&&mt.equals(xe))break;Ie.push(...Ee.map(Ye=>Ye.tx)),ie=Vt,xe=mt}while(_e&&Ie.length<we);return _e&&(Ie=Ie.slice(0,we)),Ie}}}const C=o.z.object({last:o.z.object({seqno:o.z.number(),shard:o.z.string(),workchain:o.z.number(),fileHash:o.z.string(),rootHash:o.z.string()}),init:o.z.object({fileHash:o.z.string(),rootHash:o.z.string()}),stateRootHash:o.z.string(),now:o.z.number()}),T=o.z.union([o.z.object({exist:o.z.literal(!1)}),o.z.object({exist:o.z.literal(!0),block:o.z.object({shards:o.z.array(o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string(),transactions:o.z.array(o.z.object({account:o.z.string(),hash:o.z.string(),lt:o.z.string()}))}))})})]),b=o.z.object({lastPaid:o.z.number(),duePayment:o.z.union([o.z.null(),o.z.string()]),used:o.z.object({bits:o.z.number(),cells:o.z.number(),publicCells:o.z.number()})}),A=o.z.object({account:o.z.object({state:o.z.union([o.z.object({type:o.z.literal("uninit")}),o.z.object({type:o.z.literal("active"),code:o.z.union([o.z.string(),o.z.null()]),data:o.z.union([o.z.string(),o.z.null()])}),o.z.object({type:o.z.literal("frozen"),stateHash:o.z.string()})]),balance:o.z.object({coins:o.z.string(),currencies:o.z.record(o.z.string(),o.z.string())}),last:o.z.union([o.z.null(),o.z.object({lt:o.z.string(),hash:o.z.string()})]),storageStat:o.z.union([o.z.null(),b])}),block:o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string()})}),P=o.z.object({account:o.z.object({state:o.z.union([o.z.object({type:o.z.literal("uninit")}),o.z.object({type:o.z.literal("active"),codeHash:o.z.string(),dataHash:o.z.string()}),o.z.object({type:o.z.literal("frozen"),stateHash:o.z.string()})]),balance:o.z.object({coins:o.z.string(),currencies:o.z.record(o.z.string(),o.z.string())}),last:o.z.union([o.z.null(),o.z.object({lt:o.z.string(),hash:o.z.string()})]),storageStat:o.z.union([o.z.null(),b])})}),D=o.z.object({changed:o.z.boolean(),block:o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string()})}),M=o.z.object({exitCode:o.z.number(),resultRaw:o.z.union([o.z.string(),o.z.null()]),block:o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string()}),shardBlock:o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string()})}),ne=o.z.object({config:o.z.object({cell:o.z.string(),address:o.z.string(),globalBalance:o.z.object({coins:o.z.string()})})}),Y=o.z.object({status:o.z.number()}),q=o.z.array(o.z.object({workchain:o.z.number(),seqno:o.z.number(),shard:o.z.string(),rootHash:o.z.string(),fileHash:o.z.string()})),K=o.z.object({blocks:q,boc:o.z.string()}),U=o.z.object({bits:o.z.number(),data:o.z.string()}),se=o.z.union([o.z.object({type:o.z.literal("internal"),value:o.z.string(),dest:o.z.string(),src:o.z.string(),bounced:o.z.boolean(),bounce:o.z.boolean(),ihrDisabled:o.z.boolean(),createdAt:o.z.number(),createdLt:o.z.string(),fwdFee:o.z.string(),ihrFee:o.z.string()}),o.z.object({type:o.z.literal("external-in"),dest:o.z.string(),src:o.z.union([U,o.z.null()]),importFee:o.z.string()}),o.z.object({type:o.z.literal("external-out"),dest:o.z.union([U,o.z.null()])})]),ce=o.z.object({splitDepth:o.z.union([o.z.number(),o.z.null()]),code:o.z.union([o.z.string(),o.z.null()]),data:o.z.union([o.z.string(),o.z.null()]),special:o.z.union([o.z.object({tick:o.z.boolean(),tock:o.z.boolean()}),o.z.null()])}),be=o.z.object({body:o.z.string(),info:se,init:o.z.union([ce,o.z.null()])}),ve=o.z.union([o.z.literal("uninitialized"),o.z.literal("frozen"),o.z.literal("active"),o.z.literal("non-existing")]),re=o.z.union([o.z.object({type:o.z.literal("comment"),comment:o.z.string()}),o.z.object({type:o.z.literal("payload"),cell:o.z.string()})]),j=o.z.union([o.z.object({kind:o.z.literal("ton"),amount:o.z.string()}),o.z.object({kind:o.z.literal("token"),amount:o.z.string()})]),Q=o.z.union([o.z.literal("jetton::excesses"),o.z.literal("jetton::transfer"),o.z.literal("jetton::transfer_notification"),o.z.literal("deposit"),o.z.literal("deposit::ok"),o.z.literal("withdraw"),o.z.literal("withdraw::all"),o.z.literal("withdraw::delayed"),o.z.literal("withdraw::ok"),o.z.literal("airdrop")]),g=o.z.object({type:Q,options:o.z.optional(o.z.record(o.z.string()))}),N=o.z.object({address:o.z.string(),comment:o.z.optional(o.z.string()),items:o.z.array(j),op:o.z.optional(g)}),L=o.z.object({address:o.z.string(),lt:o.z.string(),hash:o.z.string(),prevTransaction:o.z.object({lt:o.z.string(),hash:o.z.string()}),time:o.z.number(),outMessagesCount:o.z.number(),oldStatus:ve,newStatus:ve,fees:o.z.string(),update:o.z.object({oldHash:o.z.string(),newHash:o.z.string()}),inMessage:o.z.union([be,o.z.null()]),outMessages:o.z.array(be),parsed:o.z.object({seqno:o.z.union([o.z.number(),o.z.null()]),body:o.z.union([re,o.z.null()]),status:o.z.union([o.z.literal("success"),o.z.literal("failed"),o.z.literal("pending")]),dest:o.z.union([o.z.string(),o.z.null()]),kind:o.z.union([o.z.literal("out"),o.z.literal("in")]),amount:o.z.string(),resolvedAddress:o.z.string(),bounced:o.z.boolean(),mentioned:o.z.array(o.z.string())}),operation:N}),G=o.z.object({blocks:q,transactions:o.z.array(L)});return dt}var Kn={},Pt={},Gn={},Yn={},ac;function Ru(){if(ac)return Yn;ac=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.loadWalletIdV5Beta=n,Yn.storeWalletIdV5Beta=s;const e=Be(),t={v5:0};function n(r){const i=new e.BitReader(new e.BitString(typeof r=="bigint"?Buffer.from(r.toString(16),"hex"):r instanceof e.Slice?r.loadBuffer(10):r,0,80)),a=i.loadInt(32),c=i.loadInt(8),u=i.loadUint(8),d=i.loadUint(32),o=Object.entries(t).find(([p,w])=>w===u)?.[0];if(o===void 0)throw new Error(`Can't deserialize walletId: unknown wallet version ${u}`);return{networkGlobalId:a,workchain:c,walletVersion:o,subwalletNumber:d}}function s(r){return i=>{i.storeInt(r.networkGlobalId,32),i.storeInt(r.workchain,8),i.storeUint(t[r.walletVersion],8),i.storeUint(r.subwalletNumber,32)}}return Yn}var oc;function Mu(){if(oc)return Gn;oc=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.WalletContractV5Beta=void 0;const e=Be(),t=wt(),n=Ru();class s{static create(i){const a={networkGlobalId:i.walletId?.networkGlobalId??-239,workchain:i?.walletId?.workchain??0,subwalletNumber:i?.walletId?.subwalletNumber??0,walletVersion:i?.walletId?.walletVersion??"v5"};return new s(a,i.publicKey)}constructor(i,a){this.walletId=i,this.publicKey=a,this.walletId=i;let c=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAIwAIQgLkzzsvTG1qYeoPK1RH0mZ4WyavNjfbLe7mvNGqgm80Eg3NjhE=","base64"))[0],u=(0,e.beginCell)().storeInt(0,33).store((0,n.storeWalletIdV5Beta)(this.walletId)).storeBuffer(this.publicKey,32).storeBit(0).endCell();this.init={code:c,data:u},this.address=(0,e.contractAddress)(this.walletId.workchain,{code:c,data:u})}async getBalance(i){return(await i.getState()).balance}async getSeqno(i){return(await i.getState()).state.type==="active"?(await i.get("seqno",[])).stack.readNumber():0}async getExtensions(i){return(await i.getState()).state.type==="active"?(await i.get("get_extensions",[])).stack.readCellOpt():null}async getExtensionsArray(i){const a=await this.getExtensions(i);if(!a)return[];const c=e.Dictionary.loadDirect(e.Dictionary.Keys.BigUint(256),e.Dictionary.Values.BigInt(8),a);return c.keys().map(u=>{const d=c.get(u),o=u^d+1n;return e.Address.parseRaw(`${d}:${o.toString(16).padStart(64,"0")}`)})}async getIsSecretKeyAuthEnabled(i){return(await i.get("get_is_signature_auth_allowed",[])).stack.readNumber()!==0}async send(i,a){await i.external(a)}async sendTransfer(i,a){const c=await this.createTransfer(a);await this.send(i,c)}async sendAddExtension(i,a){const c=await this.createAddExtension(a);await this.send(i,c)}async sendRemoveExtension(i,a){const c=await this.createRemoveExtension(a);await this.send(i,c)}async sendActionsBatch(i,a){const c=await this.createRequest(a);await this.send(i,c)}createActions(i){return i.messages.map(c=>({type:"sendMsg",mode:i.sendMode,outMsg:c}))}createTransfer(i){return this.createRequest({...i,actions:this.createActions({messages:i.messages,sendMode:i.sendMode})})}createAddExtension(i){return this.createRequest({...i,actions:[{type:"addExtension",address:i.extensionAddress}]})}createRemoveExtension(i){return this.createRequest({...i,actions:[{type:"removeExtension",address:i.extensionAddress}]})}createRequest(i){return i.authType==="extension"?(0,t.createWalletTransferV5Beta)(i):(0,t.createWalletTransferV5Beta)({...i,walletId:(0,n.storeWalletIdV5Beta)(this.walletId)})}sender(i,a){return{send:async c=>{let u=await this.getSeqno(i),d=this.createTransfer({seqno:u,secretKey:a,sendMode:c.sendMode??e.SendMode.PAY_GAS_SEPARATELY+e.SendMode.IGNORE_ERRORS,messages:[(0,e.internal)({to:c.to,value:c.value,extracurrency:c.extracurrency,init:c.init,body:c.body,bounce:c.bounce})]});await this.send(i,d)}}}}return Gn.WalletContractV5Beta=s,s.OpCodes={auth_extension:1702392942,auth_signed_external:1936287598,auth_signed_internal:1936289396},Gn}var sn={},Xn={},cc;function Vu(){if(cc)return Xn;cc=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.isOutActionExtended=e,Xn.isOutActionBasic=t;function e(n){return n.type==="setIsPublicKeyEnabled"||n.type==="addExtension"||n.type==="removeExtension"}function t(n){return!e(n)}return Xn}var lc;function ju(){if(lc)return sn;lc=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.storeOutActionExtendedV5Beta=u,sn.loadOutActionV5BetaExtended=d,sn.storeOutListExtendedV5Beta=o,sn.loadOutListExtendedV5Beta=p;const e=Be(),t=Vu(),n=550222170;function s(w){return C=>{C.storeUint(n,32).storeUint(w.isEnabled?1:0,1)}}const r=474012575;function i(w){return C=>{C.storeUint(r,32).storeAddress(w.address)}}const a=1588524196;function c(w){return C=>{C.storeUint(a,32).storeAddress(w.address)}}function u(w){switch(w.type){case"setIsPublicKeyEnabled":return s(w);case"addExtension":return i(w);case"removeExtension":return c(w);default:throw new Error("Unknown action type"+w?.type)}}function d(w){const C=w.loadUint(32);switch(C){case n:return{type:"setIsPublicKeyEnabled",isEnabled:!!w.loadUint(1)};case r:return{type:"addExtension",address:w.loadAddress()};case a:return{type:"removeExtension",address:w.loadAddress()};default:throw new Error(`Unknown extended out action tag 0x${C.toString(16)}`)}}function o(w){const[C,...T]=w;if(!C||!(0,t.isOutActionExtended)(C)){if(w.some(t.isOutActionExtended))throw new Error("Can't serialize actions list: all extended actions must be placed before out actions");return b=>{b.storeUint(0,1).storeRef((0,e.beginCell)().store((0,e.storeOutList)(w)).endCell())}}return b=>{b.storeUint(1,1).store(u(C)).storeRef((0,e.beginCell)().store(o(T)).endCell())}}function p(w){const C=[];for(;w.loadUint(1);){const b=d(w);C.push(b),w=w.loadRef().beginParse()}const T=(0,e.loadOutList)(w.loadRef().beginParse());if(T.some(b=>b.type==="setCode"))throw new Error("Can't deserialize actions list: only sendMsg actions are allowed for wallet v5");return C.concat(T)}return sn}var Js={},uc;function db(){if(uc)return Js;uc=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.signPayload=t;const e=lr();function t(n,s,r){return"secretKey"in n?r((0,e.sign)(s.endCell().hash(),n.secretKey),s):n.signer(s.endCell()).then(i=>r(i,s))}return Js}var Jn={},vn={},dc;function Du(){if(dc)return vn;dc=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.isWalletIdV5R1ClientContext=t,vn.loadWalletIdV5R1=s,vn.storeWalletIdV5R1=r;const e=Be();function t(i){return typeof i!="number"}const n={v5r1:0};function s(i,a){const c=new e.BitReader(new e.BitString(typeof i=="bigint"?Buffer.from(i.toString(16),"hex"):i instanceof e.Slice?i.loadBuffer(4):i,0,32)).loadInt(32),u=BigInt(c)^BigInt(a),d=(0,e.beginCell)().storeInt(u,32).endCell().beginParse();if(d.loadUint(1)){const p=d.loadInt(8),w=d.loadUint(8),C=d.loadUint(15),T=Object.entries(n).find(([b,A])=>A===w)?.[0];if(T===void 0)throw new Error(`Can't deserialize walletId: unknown wallet version ${w}`);return{networkGlobalId:a,context:{walletVersion:T,workchain:p,subwalletNumber:C}}}else{const p=d.loadUint(31);return{networkGlobalId:a,context:p}}}function r(i){return a=>{let c;return t(i.context)?c=(0,e.beginCell)().storeUint(1,1).storeInt(i.context.workchain,8).storeUint(n[i.context.walletVersion],8).storeUint(i.context.subwalletNumber,15).endCell().beginParse().loadInt(32):c=(0,e.beginCell)().storeUint(0,1).storeUint(i.context,31).endCell().beginParse().loadInt(32),a.storeInt(BigInt(i.networkGlobalId)^BigInt(c),32)}}return vn}var fc;function Nu(){if(fc)return Jn;fc=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.WalletContractV5R1=void 0;const e=Be(),t=wt(),n=Du();class s{static create(i){let a=0;return"workchain"in i&&i.workchain!=null&&(a=i.workchain),i.walletId?.context&&(0,n.isWalletIdV5R1ClientContext)(i.walletId.context)&&i.walletId.context.workchain!=null&&(a=i.walletId.context.workchain),new s(a,i.publicKey,{networkGlobalId:i.walletId?.networkGlobalId??-239,context:i.walletId?.context??{workchain:0,walletVersion:"v5r1",subwalletNumber:0}})}constructor(i,a,c){this.publicKey=a,this.walletId=c,this.walletId=c;let u=e.Cell.fromBoc(Buffer.from("b5ee9c7241021401000281000114ff00f4a413f4bcf2c80b01020120020d020148030402dcd020d749c120915b8f6320d70b1f2082106578746ebd21821073696e74bdb0925f03e082106578746eba8eb48020d72101d074d721fa4030fa44f828fa443058bd915be0ed44d0810141d721f4058307f40e6fa1319130e18040d721707fdb3ce03120d749810280b99130e070e2100f020120050c020120060902016e07080019adce76a2684020eb90eb85ffc00019af1df6a2684010eb90eb858fc00201480a0b0017b325fb51341c75c875c2c7e00011b262fb513435c280200019be5f0f6a2684080a0eb90fa02c0102f20e011e20d70b1f82107369676ebaf2e08a7f0f01e68ef0eda2edfb218308d722028308d723208020d721d31fd31fd31fed44d0d200d31f20d31fd3ffd70a000af90140ccf9109a28945f0adb31e1f2c087df02b35007b0f2d0845125baf2e0855036baf2e086f823bbf2d0882292f800de01a47fc8ca00cb1f01cf16c9ed542092f80fde70db3cd81003f6eda2edfb02f404216e926c218e4c0221d73930709421c700b38e2d01d72820761e436c20d749c008f2e09320d74ac002f2e09320d71d06c712c2005230b0f2d089d74cd7393001a4e86c128407bbf2e093d74ac000f2e093ed55e2d20001c000915be0ebd72c08142091709601d72c081c12e25210b1e30f20d74a111213009601fa4001fa44f828fa443058baf2e091ed44d0810141d718f405049d7fc8ca0040048307f453f2e08b8e14038307f45bf2e08c22d70a00216e01b3b0f2d090e2c85003cf1612f400c9ed54007230d72c08248e2d21f2e092d200ed44d0d2005113baf2d08f54503091319c01810140d721d70a00f2e08ee2c8ca0058cf16c9ed5493f2c08de20010935bdb31e1d74cd0b4d6c35e","hex"))[0],d=(0,e.beginCell)().storeUint(1,1).storeUint(0,32).store((0,n.storeWalletIdV5R1)(this.walletId)).storeBuffer(this.publicKey,32).storeBit(0).endCell();this.init={code:u,data:d},this.address=(0,e.contractAddress)(i,{code:u,data:d})}async getBalance(i){return(await i.getState()).balance}async getSeqno(i){return(await i.getState()).state.type==="active"?(await i.get("seqno",[])).stack.readNumber():0}async getExtensions(i){return(await i.getState()).state.type==="active"?(await i.get("get_extensions",[])).stack.readCellOpt():null}async getExtensionsArray(i){const a=await this.getExtensions(i);return a?e.Dictionary.loadDirect(e.Dictionary.Keys.BigUint(256),e.Dictionary.Values.BigInt(1),a).keys().map(u=>{const d=this.address.workChain;return e.Address.parseRaw(`${d}:${u.toString(16).padStart(64,"0")}`)}):[]}async getIsSecretKeyAuthEnabled(i){return(await i.get("is_signature_allowed",[])).stack.readBoolean()}async send(i,a){await i.external(a)}async sendTransfer(i,a){const c=await this.createTransfer(a);await this.send(i,c)}async sendAddExtension(i,a){const c=await this.createAddExtension(a);await this.send(i,c)}async sendRemoveExtension(i,a){const c=await this.createRemoveExtension(a);await this.send(i,c)}createActions(i){return i.messages.map(c=>({type:"sendMsg",mode:i.sendMode,outMsg:c}))}createTransfer(i){return this.createRequest({actions:this.createActions({messages:i.messages,sendMode:i.sendMode}),...i})}createAddExtension(i){return this.createRequest({actions:[{type:"addExtension",address:i.extensionAddress}],...i})}createRemoveExtension(i){return this.createRequest({actions:[{type:"removeExtension",address:i.extensionAddress}],...i})}createRequest(i){return i.authType==="extension"?(0,t.createWalletTransferV5R1)(i):(0,t.createWalletTransferV5R1)({...i,walletId:(0,n.storeWalletIdV5R1)(this.walletId)})}sender(i,a){return{send:async c=>{let u=await this.getSeqno(i),d=this.createTransfer({seqno:u,secretKey:a,sendMode:c.sendMode??e.SendMode.PAY_GAS_SEPARATELY+e.SendMode.IGNORE_ERRORS,messages:[(0,e.internal)({to:c.to,value:c.value,extracurrency:c.extracurrency,init:c.init,body:c.body,bounce:c.bounce})]});await this.send(i,d)}}}}return Jn.WalletContractV5R1=s,s.OpCodes={auth_extension:1702392942,auth_signed_external:1936287598,auth_signed_internal:1936289396},Jn}var Bt={},hc;function Ou(){if(hc)return Bt;hc=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.storeOutActionExtendedV5R1=u,Bt.loadOutActionExtendedV5R1=d,Bt.storeOutListExtendedV5R1=o,Bt.loadOutListExtendedV5R1=w,Bt.toSafeV5R1SendMode=C,Bt.patchV5R1ActionsSendMode=T;const e=Be(),t=Vu(),n=4;function s(b){return A=>{A.storeUint(n,8).storeUint(b.isEnabled?1:0,1)}}const r=2;function i(b){return A=>{A.storeUint(r,8).storeAddress(b.address)}}const a=3;function c(b){return A=>{A.storeUint(a,8).storeAddress(b.address)}}function u(b){switch(b.type){case"setIsPublicKeyEnabled":return s(b);case"addExtension":return i(b);case"removeExtension":return c(b);default:throw new Error("Unknown action type"+b?.type)}}function d(b){const A=b.loadUint(8);switch(A){case n:return{type:"setIsPublicKeyEnabled",isEnabled:!!b.loadUint(1)};case r:return{type:"addExtension",address:b.loadAddress()};case a:return{type:"removeExtension",address:b.loadAddress()};default:throw new Error(`Unknown extended out action tag 0x${A.toString(16)}`)}}function o(b){const A=b.filter(t.isOutActionExtended),P=b.filter(t.isOutActionBasic);return D=>{const M=P.length?(0,e.beginCell)().store((0,e.storeOutList)(P.slice().reverse())):null;if(D.storeMaybeRef(M),A.length===0)D.storeUint(0,1);else{const[ne,...Y]=A;D.storeUint(1,1).store(u(ne)),Y.length>0&&D.storeRef(p(Y))}}}function p(b){const[A,...P]=b;let D=(0,e.beginCell)().store(u(A));return P.length>0&&(D=D.storeRef(p(P))),D.endCell()}function w(b){const A=[],P=b.loadMaybeRef();if(P){const D=(0,e.loadOutList)(P.beginParse());if(D.some(M=>M.type!=="sendMsg"))throw new Error("Can't deserialize actions list: only sendMsg actions are allowed for wallet v5r1");A.push(...D)}if(b.loadBoolean()){const D=d(b);A.push(D)}for(;b.remainingRefs>0;){b=b.loadRef().beginParse();const D=d(b);A.push(D)}return A}function C(b,A){return A==="internal"||A==="extension"?b:b|e.SendMode.IGNORE_ERRORS}function T(b,A){return b.map(P=>P.type==="sendMsg"?{...P,mode:C(P.mode,A)}:P)}return Bt}var mc;function wt(){if(mc)return Pt;mc=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.createWalletTransferV1=d,Pt.createWalletTransferV2=o,Pt.createWalletTransferV3=p,Pt.createWalletTransferV4=w,Pt.createWalletTransferV5Beta=C,Pt.createWalletTransferV5R1=T;const e=Be(),t=lr(),n=Mu(),s=ju(),r=db(),i=Nu(),a=Ou();function c(b,A){return(0,e.beginCell)().storeBuffer(b).storeBuilder(A).endCell()}function u(b,A){return(0,e.beginCell)().storeBuilder(A).storeBuffer(b).endCell()}function d(b){let A=(0,e.beginCell)().storeUint(b.seqno,32);b.message&&(A.storeUint(b.sendMode,8),A.storeRef((0,e.beginCell)().store((0,e.storeMessageRelaxed)(b.message))));let P=(0,t.sign)(A.endCell().hash(),b.secretKey);return(0,e.beginCell)().storeBuffer(P).storeBuilder(A).endCell()}function o(b){if(b.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let A=(0,e.beginCell)().storeUint(b.seqno,32);if(b.seqno===0)for(let M=0;M<32;M++)A.storeBit(1);else A.storeUint(b.timeout||Math.floor(Date.now()/1e3)+60,32);for(let M of b.messages)A.storeUint(b.sendMode,8),A.storeRef((0,e.beginCell)().store((0,e.storeMessageRelaxed)(M)));let P=(0,t.sign)(A.endCell().hash(),b.secretKey);return(0,e.beginCell)().storeBuffer(P).storeBuilder(A).endCell()}function p(b){if(b.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let A=(0,e.beginCell)().storeUint(b.walletId,32);if(b.seqno===0)for(let P=0;P<32;P++)A.storeBit(1);else A.storeUint(b.timeout||Math.floor(Date.now()/1e3)+60,32);A.storeUint(b.seqno,32);for(let P of b.messages)A.storeUint(b.sendMode,8),A.storeRef((0,e.beginCell)().store((0,e.storeMessageRelaxed)(P)));return(0,r.signPayload)(b,A,c)}function w(b){if(b.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let A=(0,e.beginCell)().storeUint(b.walletId,32);if(b.seqno===0)for(let P=0;P<32;P++)A.storeBit(1);else A.storeUint(b.timeout||Math.floor(Date.now()/1e3)+60,32);A.storeUint(b.seqno,32),A.storeUint(0,8);for(let P of b.messages)A.storeUint(b.sendMode,8),A.storeRef((0,e.beginCell)().store((0,e.storeMessageRelaxed)(P)));return(0,r.signPayload)(b,A,c)}function C(b){if(b.actions.length>255)throw Error("Maximum number of OutActions in a single request is 255");if(b.authType==="extension")return(0,e.beginCell)().storeUint(n.WalletContractV5Beta.OpCodes.auth_extension,32).store((0,s.storeOutListExtendedV5Beta)(b.actions)).endCell();const A=(0,e.beginCell)().storeUint(b.authType==="internal"?n.WalletContractV5Beta.OpCodes.auth_signed_internal:n.WalletContractV5Beta.OpCodes.auth_signed_external,32).store(b.walletId);if(b.seqno===0)for(let P=0;P<32;P++)A.storeBit(1);else A.storeUint(b.timeout||Math.floor(Date.now()/1e3)+60,32);return A.storeUint(b.seqno,32).store((0,s.storeOutListExtendedV5Beta)(b.actions)),(0,r.signPayload)(b,A,u)}function T(b){if(b.actions.length>255)throw Error("Maximum number of OutActions in a single request is 255");if(b={...b},b.authType==="extension")return(0,e.beginCell)().storeUint(i.WalletContractV5R1.OpCodes.auth_extension,32).storeUint(b.queryId??0,64).store((0,a.storeOutListExtendedV5R1)(b.actions)).endCell();b.actions=(0,a.patchV5R1ActionsSendMode)(b.actions,b.authType);const A=(0,e.beginCell)().storeUint(b.authType==="internal"?i.WalletContractV5R1.OpCodes.auth_signed_internal:i.WalletContractV5R1.OpCodes.auth_signed_external,32).store(b.walletId);if(b.seqno===0)for(let P=0;P<32;P++)A.storeBit(1);else A.storeUint(b.timeout||Math.floor(Date.now()/1e3)+60,32);return A.storeUint(b.seqno,32).store((0,a.storeOutListExtendedV5R1)(b.actions)),(0,r.signPayload)(b,A,u)}return Pt}var pc;function fb(){if(pc)return Kn;pc=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.WalletContractV1R1=void 0;const e=Be(),t=wt();let n=class Lu{static create(r){return new Lu(r.workchain,r.publicKey)}constructor(r,i){this.workchain=r,this.publicKey=i;let a=e.Cell.fromBoc(Buffer.from("te6cckEBAQEARAAAhP8AIN2k8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVEH98Ik=","base64"))[0],c=(0,e.beginCell)().storeUint(0,32).storeBuffer(i).endCell();this.init={code:a,data:c},this.address=(0,e.contractAddress)(r,{code:a,data:c})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){let i=await r.getState();return i.state.type==="active"?e.Cell.fromBoc(i.state.data)[0].beginParse().loadUint(32):0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){let i=e.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(i=r.sendMode),(0,t.createWalletTransferV1)({seqno:r.seqno,sendMode:i,secretKey:r.secretKey,message:r.message})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,message:(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})});await this.send(r,u)}}}};return Kn.WalletContractV1R1=n,Kn}var Qn={},gc;function hb(){if(gc)return Qn;gc=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.WalletContractV1R2=void 0;const e=Be(),t=wt();let n=class Uu{static create(r){return new Uu(r.workchain,r.publicKey)}constructor(r,i){this.workchain=r,this.publicKey=i;let a=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAUwAAov8AIN0gggFMl7qXMO1E0NcLH+Ck8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVNDieG8=","base64"))[0],c=(0,e.beginCell)().storeUint(0,32).storeBuffer(i).endCell();this.init={code:a,data:c},this.address=(0,e.contractAddress)(r,{code:a,data:c})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){let i=e.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(i=r.sendMode),(0,t.createWalletTransferV1)({seqno:r.seqno,sendMode:i,secretKey:r.secretKey,message:r.message})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,message:(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})});await this.send(r,u)}}}};return Qn.WalletContractV1R2=n,Qn}var es={},yc;function mb(){if(yc)return es;yc=1,Object.defineProperty(es,"__esModule",{value:!0}),es.WalletContractV1R3=void 0;const e=Be(),t=wt();let n=class zu{static create(r){return new zu(r.workchain,r.publicKey)}constructor(r,i){this.workchain=r,this.publicKey=i;let a=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAXwAAuv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVLW4bkI=","base64"))[0],c=(0,e.beginCell)().storeUint(0,32).storeBuffer(i).endCell();this.init={code:a,data:c},this.address=(0,e.contractAddress)(r,{code:a,data:c})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){let i=e.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(i=r.sendMode),(0,t.createWalletTransferV1)({seqno:r.seqno,sendMode:i,secretKey:r.secretKey,message:r.message})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,message:(0,e.internal)({to:a.to,value:a.value,init:a.init,body:a.body,bounce:a.bounce})});await this.send(r,u)}}}};return es.WalletContractV1R3=n,es}var ts={},bc;function pb(){if(bc)return ts;bc=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.WalletContractV2R1=void 0;const e=Be(),t=wt();let n=class Fu{static create(r){return new Fu(r.workchain,r.publicKey)}constructor(r,i){this.workchain=r,this.publicKey=i;let a=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAVwAAqv8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VShNwu2","base64"))[0],c=(0,e.beginCell)().storeUint(0,32).storeBuffer(i).endCell();this.init={code:a,data:c},this.address=(0,e.contractAddress)(r,{code:a,data:c})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){let i=e.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(i=r.sendMode),(0,t.createWalletTransferV2)({seqno:r.seqno,sendMode:i,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,messages:[(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})]});await this.send(r,u)}}}};return ts.WalletContractV2R1=n,ts}var ns={},vc;function gb(){if(vc)return ns;vc=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.WalletContractV2R2=void 0;const e=Be(),t=wt();let n=class qu{static create(r){return new qu(r.workchain,r.publicKey)}constructor(r,i){this.workchain=r,this.publicKey=i;let a=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAYwAAwv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VQETNeh","base64"))[0],c=(0,e.beginCell)().storeUint(0,32).storeBuffer(i).endCell();this.init={code:a,data:c},this.address=(0,e.contractAddress)(r,{code:a,data:c})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){let i=e.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(i=r.sendMode),(0,t.createWalletTransferV2)({seqno:r.seqno,sendMode:i,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,messages:[(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})]});await this.send(r,u)}}}};return ns.WalletContractV2R2=n,ns}var ss={},wc;function yb(){if(wc)return ss;wc=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.WalletContractV3R1=void 0;const e=Be(),t=wt();let n=class Wu{static create(r){return new Wu(r.workchain,r.publicKey,r.walletId)}constructor(r,i,a){this.workchain=r,this.publicKey=i,a!=null?this.walletId=a:this.walletId=698983191+r;let c=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAYgAAwP8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVD++buA=","base64"))[0],u=(0,e.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(i).endCell();this.init={code:c,data:u},this.address=(0,e.contractAddress)(r,{code:c,data:u})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){return(0,t.createWalletTransferV3)({...r,sendMode:r.sendMode??e.SendMode.PAY_GAS_SEPARATELY,walletId:this.walletId})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,messages:[(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})]});await this.send(r,u)}}}};return ss.WalletContractV3R1=n,ss}var rs={},_c;function bb(){if(_c)return rs;_c=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.WalletContractV3R2=void 0;const e=Be(),t=wt();let n=class Zu{static create(r){return new Zu(r.workchain,r.publicKey,r.walletId)}constructor(r,i,a){this.workchain=r,this.publicKey=i,a!=null?this.walletId=a:this.walletId=698983191+r;let c=e.Cell.fromBoc(Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],u=(0,e.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(i).endCell();this.init={code:c,data:u},this.address=(0,e.contractAddress)(r,{code:c,data:u})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){return(0,t.createWalletTransferV3)({...r,sendMode:r.sendMode??e.SendMode.PAY_GAS_SEPARATELY,walletId:this.walletId})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,messages:[(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})]});await this.send(r,u)}}}};return rs.WalletContractV3R2=n,rs}var is={},Cc;function vb(){if(Cc)return is;Cc=1,Object.defineProperty(is,"__esModule",{value:!0}),is.WalletContractV4=void 0;const e=Be(),t=wt();let n=class $u{static create(r){return new $u(r.workchain,r.publicKey,r.walletId)}constructor(r,i,a){this.workchain=r,this.publicKey=i,a!=null?this.walletId=a:this.walletId=698983191+r;let c=e.Cell.fromBoc(Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],u=(0,e.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:c,data:u},this.address=(0,e.contractAddress)(r,{code:c,data:u})}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,i){await r.external(i)}async sendTransfer(r,i){let a=this.createTransfer(i);await this.send(r,a)}createTransfer(r){return(0,t.createWalletTransferV4)({...r,sendMode:r.sendMode??e.SendMode.PAY_GAS_SEPARATELY,walletId:this.walletId})}sender(r,i){return{send:async a=>{let c=await this.getSeqno(r),u=this.createTransfer({seqno:c,secretKey:i,sendMode:a.sendMode,messages:[(0,e.internal)({to:a.to,value:a.value,extracurrency:a.extracurrency,init:a.init,body:a.body,bounce:a.bounce})]});await this.send(r,u)}}}};return is.WalletContractV4=n,is}var rn={},xc;function wb(){return xc||(xc=1,function(e){var t=rn&&rn.__createBinding||(Object.create?function(s,r,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(r,i);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(s,a,c)}:function(s,r,i,a){a===void 0&&(a=i),s[a]=r[i]}),n=rn&&rn.__exportStar||function(s,r){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Mu(),e),n(ju(),e),n(Ru(),e)}(rn)),rn}var an={},Tc;function _b(){return Tc||(Tc=1,function(e){var t=an&&an.__createBinding||(Object.create?function(s,r,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(r,i);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(s,a,c)}:function(s,r,i,a){a===void 0&&(a=i),s[a]=r[i]}),n=an&&an.__exportStar||function(s,r){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Nu(),e),n(Ou(),e),n(Du(),e)}(an)),an}var as={},kc;function Cb(){if(kc)return as;kc=1,Object.defineProperty(as,"__esModule",{value:!0}),as.JettonMaster=void 0;const e=Be();let t=class Hu{static create(s){return new Hu(s)}constructor(s){this.address=s}async getWalletAddress(s,r){return(await s.get("get_wallet_address",[{type:"slice",cell:(0,e.beginCell)().storeAddress(r).endCell()}])).stack.readAddress()}async getJettonData(s){let r=await s.get("get_jetton_data",[]),i=r.stack.readBigNumber(),a=r.stack.readBoolean(),c=r.stack.readAddress(),u=r.stack.readCell(),d=r.stack.readCell();return{totalSupply:i,mintable:a,adminAddress:c,content:u,walletCode:d}}};return as.JettonMaster=t,as}var os={},Ic;function xb(){if(Ic)return os;Ic=1,Object.defineProperty(os,"__esModule",{value:!0}),os.JettonWallet=void 0;let e=class Ku{static create(n){return new Ku(n)}constructor(n){this.address=n}async getBalance(n){return(await n.getState()).state.type!=="active"?0n:(await n.get("get_wallet_data",[])).stack.readBigNumber()}};return os.JettonWallet=e,os}var cs={},Ac;function Gu(){if(Ac)return cs;Ac=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.MultisigOrder=void 0;const e=lr(),t=Be();let n=class Ai{constructor(r){this.signatures={},this.payload=r}static fromCell(r){let i=r.beginParse(),a=i.loadMaybeRef()?.beginParse();const c=i.asCell();let u=new Ai(c);if(a){for(;a.remainingBits>0;){const d=a.loadBuffer(64),o=a.loadUint(8);u.signatures[o]=d,a.remainingRefs>0?a=a.loadRef().asSlice():a.skip(1)}a.endParse()}return u}static fromPayload(r){return new Ai(r)}addSignature(r,i,a){const c=this.payload.hash();if(!(0,e.signVerify)(c,i,a.owners.get(r).slice(0,-1)))throw Error("invalid signature");this.signatures[r]=i}sign(r,i){const a=this.payload.hash();return this.signatures[r]=(0,e.sign)(a,i),a}unionSignatures(r){this.signatures=Object.assign({},this.signatures,r.signatures)}clearSignatures(){this.signatures={}}toCell(r){let i=(0,t.beginCell)().storeBit(0);for(const a in this.signatures){const c=this.signatures[a];i=(0,t.beginCell)().storeBit(1).storeRef((0,t.beginCell)().storeBuffer(c).storeUint(parseInt(a),8).storeBuilder(i).endCell())}return(0,t.beginCell)().storeUint(r,8).storeBuilder(i).storeBuilder(this.payload.asBuilder()).endCell()}};return cs.MultisigOrder=n,cs}var ls={},Sc;function Tb(){if(Sc)return ls;Sc=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.MultisigOrderBuilder=void 0;const e=Be(),t=Gu();let n=class{constructor(r,i){this.messages=(0,e.beginCell)(),this.queryId=0n,this.walletId=r,this.queryOffset=i||7200}addMessage(r,i){if(this.messages.refs>=4)throw Error("only 4 refs are allowed");this.updateQueryId(),this.messages.storeUint(i,8),this.messages.storeRef((0,e.beginCell)().store((0,e.storeMessageRelaxed)(r)).endCell())}clearMessages(){this.messages=(0,e.beginCell)()}build(){return t.MultisigOrder.fromPayload((0,e.beginCell)().storeUint(this.walletId,32).storeUint(this.queryId,64).storeBuilder(this.messages).endCell())}updateQueryId(){const r=BigInt(Math.floor(Date.now()/1e3+this.queryOffset));this.queryId=r<<32n}};return ls.MultisigOrderBuilder=n,ls}var us={},Ec;function kb(){if(Ec)return us;Ec=1,Object.defineProperty(us,"__esModule",{value:!0}),us.MultisigWallet=void 0;const e=lr(),t=Be(),n=t.Cell.fromBase64("te6ccgECKwEABBgAART/APSkE/S88sgLAQIBIAIDAgFIBAUE2vIgxwCOgzDbPOCDCNcYIPkBAdMH2zwiwAAToVNxePQOb6Hyn9s8VBq6+RDyoAb0BCD5AQHTH1EYuvKq0z9wUwHwCgHCCAGDCryx8mhTFYBA9A5voSCYDqQgwgryZw7f+COqH1NAufJhVCOjU04gIyEiAgLMBgcCASAMDQIBIAgJAgFmCgsAA9GEAiPymAvHoHN9CYbZ5S7Z4BPHohwhJQAtAKkItdJEqCTItdKlwLUAdAT8ArobBKAATwhbpEx4CBukTDgAdAg10rDAJrUAvALyFjPFszJ4HHXI8gBzxb0AMmACASAODwIBIBQVARW77ZbVA0cFUg2zyCoCAUgQEQIBIBITAXOxHXQgwjXGCD5AQHTB4IB1MTtQ9hTIHj0Dm+h8p/XC/9eMfkQ8qCuAfQEIW6TW3Ey4PkBWNs8AaQBgJwA9rtqA6ADoAPoCAXoCEfyAgPyA3XlP+AXkegAA54tkwAAXrhlXP8EA1WZ2oexAAgEgFhcCASAYGQFRtyVbZ4YmRmpGEAgegc30McJNhFpAADMaYeYuAFrgJhwLb+4cC3d0bhAjAYm1WZtnhqvgb+2xxsoicAgej430pBHEoFpAADHDhBACGuQkuuBk9kUWE5kAOeLKhACQCB6IYFImHFImHFImXEA2YlzNijAjAgEgGhsAF7UGtc4QQDVZnah7EAIBIBwdAgOZOB4fARGsGm2eL4G2CUAjABWt+UEAzJV2oewYQAENqTbPBVfBYCMAFa3f3CCAarM7UPYgAiDbPALyZfgAUENxQxPbPO1UIyoACtP/0wcwBKDbPC+uUyCw8mISsQKkJbNTHLmwJYEA4aojoCi8sPJpggGGoPgBBZcCERACPj4wjo0REB/bPEDXePRDEL0F4lQWW1Rz51YQU9zbPFRxClR6vCQlKCYAIO1E0NMf0wfTB9M/9AT0BNEAXgGOGjDSAAHyo9MH0wdQA9cBIPkBBfkBFbrypFAD4GwhIddKqgIi10m68qtwVCATAAwByMv/ywcE1ts87VT4D3AlblOJvrGYEG4QLVDHXwePGzBUJANQTds8UFWgRlAQSRA6SwlTuds8UFQWf+L4AAeDJaGOLCaAQPSWb6UglDBTA7neII4WODk5CNIAAZfTBzAW8AcFkTDifwgHBZJsMeKz5jAGKicoKQBgcI4pA9CDCNcY0wf0BDBTFnj0Dm+h8qXXC/9URUT5EPKmrlIgsVIDvRShI27mbCIyAH5SML6OIF8D+ACTItdKmALTB9QC+wAC6DJwyMoAQBSAQPRDAvAHjhdxyMsAFMsHEssHWM8BWM8WQBOAQPRDAeIBII6KEEUQNEMA2zztVJJfBuIqABzIyx/LB8sHyz/0APQAyQ==");let s=class Yu{constructor(i,a,c,u,d){this.provider=null,this.owners=t.Dictionary.empty(),this.workchain=a,this.walletId=c,this.k=u;for(let o=0;o<i.length;o+=1)this.owners.set(o,Buffer.concat([i[o],Buffer.alloc(1)]));this.init={code:n,data:(0,t.beginCell)().storeUint(this.walletId,32).storeUint(this.owners.size,8).storeUint(this.k,8).storeUint(0,64).storeDict(this.owners,t.Dictionary.Keys.Uint(8),t.Dictionary.Values.Buffer(33)).storeBit(0).endCell()},this.address=d?.address||(0,t.contractAddress)(a,this.init),d?.provider?this.provider=d.provider:d?.client&&(this.provider=d.client.provider(this.address,{code:this.init.code,data:this.init.data}))}static async fromAddress(i,a){let c;if(a.provider)c=a.provider;else{if(!a.client)throw Error("Either provider or client must be specified");c=a.client.provider(i,{code:null,data:null})}const u=(await c.getState()).state;if(u.type!=="active")throw Error("Contract must be active");const d=t.Cell.fromBoc(u.data)[0].beginParse(),o=d.loadUint(32);d.skip(8);const p=d.loadUint(8);d.skip(64);const w=d.loadDict(t.Dictionary.Keys.Uint(8),t.Dictionary.Values.Buffer(33));let C=[];for(const[T,b]of w){const A=b.subarray(0,32);C.push(A)}return new Yu(C,i.workChain,o,p,{address:i,provider:c,client:a.client})}async deployExternal(i){if(!i&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");i||(i=this.provider),await i.external(t.Cell.EMPTY)}async deployInternal(i,a=1000000000n){await i.send({sendMode:t.SendMode.PAY_GAS_SEPARATELY+t.SendMode.IGNORE_ERRORS,to:this.address,value:a,init:this.init,body:t.Cell.EMPTY,bounce:!0})}async sendOrder(i,a,c){if(!c&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");c||(c=this.provider);let u=(0,e.keyPairFromSecretKey)(a).publicKey,d=this.getOwnerIdByPubkey(u),o=i.toCell(d),p=(0,e.sign)(o.hash(),a);o=(0,t.beginCell)().storeBuffer(p).storeSlice(o.asSlice()).endCell(),await c.external(o)}async sendOrderWithoutSecretKey(i,a,c,u){if(!u&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");u||(u=this.provider);let d=i.toCell(c);d=(0,t.beginCell)().storeBuffer(a).storeSlice(d.asSlice()).endCell(),await u.external(d)}getOwnerIdByPubkey(i){for(const[a,c]of this.owners)if(c.subarray(0,32).equals(i))return a;throw Error("public key is not an owner")}};return us.MultisigWallet=s,us}var ds={},Pc;function Ib(){if(Pc)return ds;Pc=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.ElectorContract=void 0;const e=Be(),t={serialize(r,i){throw Error("not implemented")},parse(r){const i=new e.Address(-1,r.loadBuffer(32)),a=r.loadUintBig(64),c=r.loadCoins();return{address:i,weight:a,stake:c}}},n={serialize(r,i){throw Error("not implemented")},parse(r){const i=r.loadCoins();r.skip(64);const a=new e.Address(-1,r.loadBuffer(32)),c=r.loadBuffer(32);return{stake:i,address:a,adnl:c}}};let s=class Xu{static create(){return new Xu}constructor(){this.address=e.Address.parseRaw("-1:3333333333333333333333333333333333333333333333333333333333333333")}async getReturnedStake(i,a){if(a.workChain!==-1)throw Error("Only masterchain addresses could have stake");return(await i.get("compute_returned_stake",[{type:"int",value:BigInt("0x"+a.hash.toString("hex"))}])).stack.readBigNumber()}async getPastElectionsList(i){const a=await i.get("past_elections_list",[]),c=new e.TupleReader(a.stack.readLispList()),u=[];for(;c.remaining>0;){const d=c.readTuple(),o=d.readNumber(),p=d.readNumber();d.pop();const w=d.readNumber();u.push({id:o,unfreezeAt:p,stakeHeld:w})}return u}async getPastElections(i){const a=await i.get("past_elections",[]),c=new e.TupleReader(a.stack.readLispList()),u=[];for(;c.remaining>0;){const d=c.readTuple(),o=d.readNumber(),p=d.readNumber(),w=d.readNumber();d.pop();const C=d.readCell(),T=d.readBigNumber(),b=d.readBigNumber();let A=new Map;const P=C.beginParse().loadDictDirect(e.Dictionary.Keys.Buffer(32),t);for(const[D,M]of P)A.set(BigInt("0x"+D.toString("hex")).toString(10),{address:M.address,weight:M.weight,stake:M.stake});u.push({id:o,unfreezeAt:p,stakeHeld:w,totalStake:T,bonuses:b,frozen:A})}return u}async getElectionEntities(i){const a=await i.getState();if(a.state.type!=="active")throw Error("Unexpected error");const u=e.Cell.fromBoc(a.state.data)[0].beginParse();if(!u.loadBit())return null;const d=u.loadRef().beginParse(),o=d.loadUint(32),p=d.loadUint(32),w=d.loadCoins(),C=d.loadCoins(),T=d.loadDict(e.Dictionary.Keys.Buffer(32),n);let b=[];if(T)for(const[A,P]of T)b.push({pubkey:A,stake:P.stake,address:P.address,adnl:P.adnl});return{minStake:w,allStakes:C,endElectionsTime:p,startWorkTime:o,entities:b}}async getActiveElectionId(i){const c=(await i.get("active_election_id",[])).stack.readNumber();return c>0?c:null}async getComplaints(i,a){const c=new e.TupleBuilder;c.writeNumber(a);const u=await i.get("list_complaints",c.build());if(u.stack.peek().type==="null")return[];const d=new e.TupleReader(u.stack.readLispList()),o=[];for(;d.remaining>0;){const p=d.readTuple(),w=p.readBigNumber(),C=p.readTuple(),T=C.readTuple(),b=Buffer.from(T.readBigNumber().toString(16),"hex");T.readCell();const A=T.readNumber(),P=T.readNumber(),D=new e.Address(-1,Buffer.from(T.readBigNumber().toString(16),"hex")),M=T.readBigNumber(),ne=T.readBigNumber(),Y=T.readBigNumber(),q=[],K=new e.TupleReader(C.readLispList());for(;K.remaining>0;)q.push(K.readNumber());const U=C.readBigNumber(),se=C.readBigNumber();o.push({id:w,publicKey:b,createdAt:A,severity:P,paid:M,suggestedFine:ne,suggestedFinePart:Y,rewardAddress:D,votes:q,remainingWeight:se,vsetId:U})}return o}};return ds.ElectorContract=s,ds}var Ae={},Bc;function Ab(){if(Bc)return Ae;Bc=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.configParseMasterAddress=t,Ae.parseValidatorSet=r,Ae.parseBridge=i,Ae.configParseMasterAddressRequired=a,Ae.configParse5=c,Ae.configParse13=u,Ae.configParse15=d,Ae.configParse16=o,Ae.configParse17=p,Ae.configParse18=C,Ae.configParse8=T,Ae.configParse40=b,Ae.configParseWorkchainDescriptor=A,Ae.configParse12=D,Ae.configParseValidatorSet=M,Ae.configParseBridge=ne,Ae.configParseGasLimitsPrices=q,Ae.configParseMsgPrices=K,Ae.configParse28=U,Ae.configParse29=se,Ae.parseProposalSetup=ce,Ae.parseVotingSetup=be,Ae.loadConfigParamById=re,Ae.loadConfigParamsAsSlice=j,Ae.parseFullConfig=Q;const e=Be();function t(g){return g?new e.Address(-1,g.loadBuffer(32)):null}function n(g){if(g.loadUint(32)!==2390828938)throw Error("Invalid config");return g.loadBuffer(32)}const s={serialize(g,N){throw Error("not implemented")},parse(g){const N=g.loadUint(8);if(N===83)return{publicKey:n(g),weight:g.loadUintBig(64),adnlAddress:null};if(N===115)return{publicKey:n(g),weight:g.loadUintBig(64),adnlAddress:g.loadBuffer(32)};throw Error("Invalid config")}};function r(g){const N=g.loadUint(8);if(N===17){const L=g.loadUint(32),G=g.loadUint(32),F=g.loadUint(16),Z=g.loadUint(16),$=g.loadDictDirect(e.Dictionary.Keys.Uint(16),s);return{timeSince:L,timeUntil:G,total:F,main:Z,totalWeight:null,list:$}}else if(N===18){const L=g.loadUint(32),G=g.loadUint(32),F=g.loadUint(16),Z=g.loadUint(16),$=g.loadUintBig(64),J=g.loadDict(e.Dictionary.Keys.Uint(16),s);return{timeSince:L,timeUntil:G,total:F,main:Z,totalWeight:$,list:J}}}function i(g){const N=new e.Address(-1,g.loadBuffer(32)),L=new e.Address(-1,g.loadBuffer(32)),G=g.loadDict(e.Dictionary.Keys.Buffer(32),e.Dictionary.Values.Buffer(32)),F=new Map;for(const[$,J]of G)F.set(new e.Address(-1,$).toString(),J);const Z=g.loadBuffer(32);return{bridgeAddress:N,oracleMultisigAddress:L,oracles:F,externalChainAddress:Z}}function a(g){if(!g)throw Error("Invalid config");return t(g)}function c(g){if(!g)throw Error("Invalid config");if(g.loadUint(8)===1){const L=g.loadBit()?new e.Address(-1,g.loadBuffer(32)):null,G=g.loadUint(32),F=g.loadUint(32);return{blackholeAddr:L,feeBurnNominator:G,feeBurnDenominator:F}}throw new Error("Invalid config")}function u(g){if(!g)throw Error("Invalid config");if(g.loadUint(8)===26){const L=g.loadCoins(),G=g.loadCoins(),F=g.loadCoins();return{deposit:L,bitPrice:G,cellPrice:F}}throw new Error("Invalid config")}function d(g){if(!g)throw Error("Invalid config");const N=g.loadUint(32),L=g.loadUint(32),G=g.loadUint(32),F=g.loadUint(32);return{validatorsElectedFor:N,electorsStartBefore:L,electorsEndBefore:G,stakeHeldFor:F}}function o(g){if(!g)throw Error("Invalid config");const N=g.loadUint(16),L=g.loadUint(16),G=g.loadUint(16);return{maxValidators:N,maxMainValidators:L,minValidators:G}}function p(g){if(!g)throw Error("Invalid config");const N=g.loadCoins(),L=g.loadCoins(),G=g.loadCoins(),F=g.loadUint(32);return{minStake:N,maxStake:L,minTotalStake:G,maxStakeFactor:F}}const w={serialize(g,N){throw Error("not implemented")},parse(g){if(g.loadUint(8)!==204)throw Error("Invalid config");const L=g.loadUint(32),G=g.loadUintBig(64),F=g.loadUintBig(64),Z=g.loadUintBig(64),$=g.loadUintBig(64);return{utime_since:L,bit_price_ps:G,cell_price_ps:F,mc_bit_price_ps:Z,mc_cell_price_ps:$}}};function C(g){if(!g)throw Error("Invalid config");return g.loadDictDirect(e.Dictionary.Keys.Buffer(4),w).values()}function T(g){if(!g)return{version:0,capabilities:0n};const N=g.loadUint(32),L=g.loadUintBig(64);return{version:N,capabilities:L}}function b(g){if(!g)return null;if(g.loadUint(8)!==1)throw Error("Invalid config");const L=g.loadCoins(),G=g.loadCoins(),F=g.loadUint(16),Z=g.loadUint(16),$=g.loadUint(16),J=g.loadUint(16),oe=g.loadUint(16),ie=g.loadUint(16),xe=g.loadUint(16),we=g.loadUint(16),_e=g.loadUint(16);return{defaultFlatFine:L,defaultProportionaFine:G,severityFlatMult:F,severityProportionalMult:Z,unfunishableInterval:$,longInterval:J,longFlatMult:oe,longProportionalMult:ie,mediumInterval:xe,mediumFlatMult:we,mediumProportionalMult:_e}}function A(g){if(g.loadUint(8)!==166)throw Error("Invalid config");const N=g.loadUint(32),L=g.loadUint(8),G=g.loadUint(8),F=g.loadUint(8),Z=g.loadBit(),$=g.loadBit(),J=g.loadBit(),oe=g.loadUint(13),ie=g.loadBuffer(32),xe=g.loadBuffer(32),we=g.loadUint(32);if(g.loadBit())throw Error("Invalid config");const _e=g.loadUint(32),Ie=g.loadUintBig(64);return{enabledSince:N,actialMinSplit:L,min_split:G,max_split:F,basic:Z,active:$,accept_msgs:J,flags:oe,zerostateRootHash:ie,zerostateFileHash:xe,version:we,format:{vmVersion:_e,vmMode:Ie}}}const P={serialize(g,N){throw Error("not implemented")},parse(g){if(g.loadUint(8)!==166)throw Error("Invalid config");const N=g.loadUint(32),L=g.loadUint(8),G=g.loadUint(8),F=g.loadUint(8),Z=g.loadBit(),$=g.loadBit(),J=g.loadBit(),oe=g.loadUint(13),ie=g.loadBuffer(32),xe=g.loadBuffer(32),we=g.loadUint(32);if(g.loadBit())throw Error("Invalid config");const _e=g.loadUint(32),Ie=g.loadUintBig(64);return{enabledSince:N,actialMinSplit:L,min_split:G,max_split:F,basic:Z,active:$,accept_msgs:J,flags:oe,zerostateRootHash:ie,zerostateFileHash:xe,version:we,format:{vmVersion:_e,vmMode:Ie}}}};function D(g){if(!g)throw Error("Invalid config");const N=g.loadDict(e.Dictionary.Keys.Uint(32),P);if(N)return N;throw Error("No workchains exist")}function M(g){return g?r(g):null}function ne(g){return g?i(g):null}function Y(g){const N=g.loadUint(8);if(N===222){const L=g.loadUintBig(64),G=g.loadUintBig(64),F=g.loadUintBig(64),Z=g.loadUintBig(64),$=g.loadUintBig(64),J=g.loadUintBig(64),oe=g.loadUintBig(64);return{gasPrice:L,gasLimit:G,specialGasLimit:F,gasCredit:Z,blockGasLimit:$,freezeDueLimit:J,deleteDueLimit:oe}}else if(N===221){const L=g.loadUintBig(64),G=g.loadUintBig(64),F=g.loadUintBig(64),Z=g.loadUintBig(64),$=g.loadUintBig(64),J=g.loadUintBig(64);return{gasPrice:L,gasLimit:G,gasCredit:F,blockGasLimit:Z,freezeDueLimit:$,deleteDueLimit:J}}else throw Error("Invalid config")}function q(g){if(!g)throw Error("Invalid config");if(g.loadUint(8)===209){const L=g.loadUintBig(64),G=g.loadUintBig(64),F=Y(g);return{flatLimit:L,flatGasPrice:G,other:F}}else throw Error("Invalid config")}function K(g){if(!g)throw new Error("Invalid config");if(g.loadUint(8)!==234)throw new Error("Invalid msg prices param");return{lumpPrice:g.loadUintBig(64),bitPrice:g.loadUintBig(64),cellPrice:g.loadUintBig(64),ihrPriceFactor:g.loadUint(32),firstFrac:g.loadUint(16),nextFrac:g.loadUint(16)}}function U(g){if(!g)throw new Error("Invalid config");const N=g.loadUint(8);if(N===193){const L=g.loadUint(32),G=g.loadUint(32),F=g.loadUint(32),Z=g.loadUint(32);return{masterCatchainLifetime:L,shardCatchainLifetime:G,shardValidatorsLifetime:F,shardValidatorsCount:Z}}if(N===194){const L=g.loadUint(7),G=g.loadBit(),F=g.loadUint(32),Z=g.loadUint(32),$=g.loadUint(32),J=g.loadUint(32);return{flags:L,suffleMasterValidators:G,masterCatchainLifetime:F,shardCatchainLifetime:Z,shardValidatorsLifetime:$,shardValidatorsCount:J}}throw new Error("Invalid config")}function se(g){if(!g)throw new Error("Invalid config");const N=g.loadUint(8);if(N===214){const L=g.loadUint(32),G=g.loadUint(32),F=g.loadUint(32),Z=g.loadUint(32),$=g.loadUint(32),J=g.loadUint(32),oe=g.loadUint(32),ie=g.loadUint(32);return{roundCandidates:L,nextCandidateDelay:G,consensusTimeout:F,fastAttempts:Z,attemptDuration:$,catchainMaxDeps:J,maxBlockBytes:oe,maxColaltedBytes:ie}}else if(N===215){const L=g.loadUint(7),G=g.loadBit(),F=g.loadUint(8),Z=g.loadUint(32),$=g.loadUint(32),J=g.loadUint(32),oe=g.loadUint(32),ie=g.loadUint(32),xe=g.loadUint(32),we=g.loadUint(32);return{flags:L,newCatchainIds:G,roundCandidates:F,nextCandidateDelay:Z,consensusTimeout:$,fastAttempts:J,attemptDuration:oe,catchainMaxDeps:ie,maxBlockBytes:xe,maxColaltedBytes:we}}else if(N===216){const L=g.loadUint(7),G=g.loadBit(),F=g.loadUint(8),Z=g.loadUint(32),$=g.loadUint(32),J=g.loadUint(32),oe=g.loadUint(32),ie=g.loadUint(32),xe=g.loadUint(32),we=g.loadUint(32),_e=g.loadUint(16);return{flags:L,newCatchainIds:G,roundCandidates:F,nextCandidateDelay:Z,consensusTimeout:$,fastAttempts:J,attemptDuration:oe,catchainMaxDeps:ie,maxBlockBytes:xe,maxColaltedBytes:we,protoVersion:_e}}else if(N===217){const L=g.loadUint(7),G=g.loadBit(),F=g.loadUint(8),Z=g.loadUint(32),$=g.loadUint(32),J=g.loadUint(32),oe=g.loadUint(32),ie=g.loadUint(32),xe=g.loadUint(32),we=g.loadUint(32),_e=g.loadUint(16),Ie=g.loadUint(32);return{flags:L,newCatchainIds:G,roundCandidates:F,nextCandidateDelay:Z,consensusTimeout:$,fastAttempts:J,attemptDuration:oe,catchainMaxDeps:ie,maxBlockBytes:xe,maxColaltedBytes:we,protoVersion:_e,catchainMaxBlocksCoeff:Ie}}throw new Error("Invalid config")}function ce(g){if(g.loadUint(8)!==54)throw new Error("Invalid config");const L=g.loadUint(8),G=g.loadUint(8),F=g.loadUint(8),Z=g.loadUint(8),$=g.loadUint(32),J=g.loadUint(32),oe=g.loadUint(32),ie=g.loadUint(32);return{minTotalRounds:L,maxTotalRounds:G,minWins:F,maxLoses:Z,minStoreSec:$,maxStoreSec:J,bitPrice:oe,cellPrice:ie}}function be(g){if(!g)throw new Error("Invalid config");if(g.loadUint(8)!==145)throw new Error("Invalid config");const L=ce(g.loadRef().beginParse()),G=ce(g.loadRef().beginParse());return{normalParams:L,criticalParams:G}}function ve(g){return e.Cell.fromBase64(g).beginParse().loadDictDirect(e.Dictionary.Keys.Int(32),e.Dictionary.Values.Cell())}function re(g,N){return ve(g).get(N)}function j(g){const N=ve(g),L=new Map;for(const[G,F]of N)L.set(G,F.beginParse());return L}function Q(g){return{configAddress:a(g.get(0)),electorAddress:a(g.get(1)),minterAddress:t(g.get(2)),feeCollectorAddress:t(g.get(3)),dnsRootAddress:t(g.get(4)),burningConfig:c(g.get(5)),globalVersion:T(g.get(8)),workchains:D(g.get(12)),voting:be(g.get(11)),validators:{...d(g.get(15)),...o(g.get(16)),...p(g.get(17))},storagePrices:C(g.get(18)),gasPrices:{masterchain:q(g.get(20)),workchain:q(g.get(21))},msgPrices:{masterchain:K(g.get(24)),workchain:K(g.get(25))},validatorSets:{prevValidators:M(g.get(32)),prevTempValidators:M(g.get(33)),currentValidators:M(g.get(34)),currentTempValidators:M(g.get(35)),nextValidators:M(g.get(36)),nextTempValidators:M(g.get(37))},validatorsPunish:b(g.get(40)),bridges:{ethereum:ne(g.get(71)),binance:ne(g.get(72)),polygon:ne(g.get(73))},catchain:U(g.get(28)),consensus:se(g.get(29))}}return Ae}var zt={},Rc;function Sb(){if(Rc)return zt;Rc=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.computeStorageFees=t,zt.computeFwdFees=n,zt.computeGasPrices=s,zt.computeExternalMessageFees=r,zt.computeMessageForwardFees=i;const e=Be();function t(u){const{lastPaid:d,now:o,storagePrices:p,storageStat:w,special:C,masterchain:T}=u;if(o<=d||p.length===0||o<p[0].utime_since||C)return BigInt(0);let b=Math.max(d,p[0].utime_since),A=BigInt(0);for(let P=0;P<p.length&&b<o;P++){let D=P<p.length-1?Math.min(o,p[P+1].utime_since):o,M=BigInt(0);if(b<D){let ne=D-b;M+=BigInt(w.cells)*(T?p[P].mc_cell_price_ps:p[P].cell_price_ps),M+=BigInt(w.bits)*(T?p[P].mc_bit_price_ps:p[P].bit_price_ps),M=M*BigInt(ne)}b=D,A+=M}return c(A)}function n(u,d,o){return u.lumpPrice+c(u.bitPrice*o+u.cellPrice*d)}function s(u,d){return u<=d.flatLimit?d.flatPrice:d.flatPrice+(d.price*(u-d.flatLimit)>>16n)}function r(u,d){let o=a(d);return o.bits-=d.bits.length,o.cells-=1,n(u,BigInt(o.cells),BigInt(o.bits))}function i(u,d){let o=(0,e.loadMessageRelaxed)(d.beginParse()),p={bits:0,cells:0};if(o.init){const A=new e.Cell().asBuilder();(0,e.storeStateInit)(o.init)(A);const P=A.endCell();let D=a(P);D.bits-=P.bits.length,D.cells-=1,p.bits+=D.bits,p.cells+=D.cells}let w=a(o.body);w.bits-=o.body.bits.length,w.cells-=1,p.bits+=w.bits,p.cells+=w.cells;let C=n(u,BigInt(p.cells),BigInt(p.bits)),T=C*BigInt(u.firstFrac)>>16n,b=C-T;return{fees:T,remaining:b}}function a(u){let d=u.bits.length,o=1;for(let p of u.refs){let w=a(p);o+=w.cells,d+=w.bits}return{bits:d,cells:o}}function c(u){let d=u%65536n,o=u>>16n;return d!==0n&&(o+=1n),o}return zt}var Mc;function Eb(){return Mc||(Mc=1,function(e){var t=en&&en.__createBinding||(Object.create?function(U,se,ce,be){be===void 0&&(be=ce);var ve=Object.getOwnPropertyDescriptor(se,ce);(!ve||("get"in ve?!se.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return se[ce]}}),Object.defineProperty(U,be,ve)}:function(U,se,ce,be){be===void 0&&(be=ce),U[be]=se[ce]}),n=en&&en.__exportStar||function(U,se){for(var ce in U)ce!=="default"&&!Object.prototype.hasOwnProperty.call(se,ce)&&t(se,U,ce)};Object.defineProperty(e,"__esModule",{value:!0}),e.computeStorageFees=e.computeMessageForwardFees=e.computeGasPrices=e.computeFwdFees=e.computeExternalMessageFees=e.loadConfigParamsAsSlice=e.loadConfigParamById=e.parseFullConfig=e.parseVotingSetup=e.parseValidatorSet=e.parseProposalSetup=e.parseBridge=e.configParseWorkchainDescriptor=e.configParseValidatorSet=e.configParseMsgPrices=e.configParseMasterAddressRequired=e.configParseMasterAddress=e.configParseGasLimitsPrices=e.configParseBridge=e.configParse40=e.configParse29=e.configParse28=e.configParse18=e.configParse17=e.configParse16=e.configParse15=e.configParse13=e.configParse12=e.configParse8=e.configParse5=e.ElectorContract=e.MultisigWallet=e.MultisigOrderBuilder=e.MultisigOrder=e.JettonWallet=e.JettonMaster=e.WalletContractV5R1=e.WalletContractV5Beta=e.WalletContractV4=e.WalletContractV3R2=e.WalletContractV3R1=e.WalletContractV2R2=e.WalletContractV2R1=e.WalletContractV1R3=e.WalletContractV1R2=e.WalletContractV1R1=e.TonClient4=e.TonClient=e.HttpApi=void 0,n(Be(),e);var s=Bu();Object.defineProperty(e,"HttpApi",{enumerable:!0,get:function(){return s.HttpApi}});var r=cb();Object.defineProperty(e,"TonClient",{enumerable:!0,get:function(){return r.TonClient}});var i=ub();Object.defineProperty(e,"TonClient4",{enumerable:!0,get:function(){return i.TonClient4}});var a=fb();Object.defineProperty(e,"WalletContractV1R1",{enumerable:!0,get:function(){return a.WalletContractV1R1}});var c=hb();Object.defineProperty(e,"WalletContractV1R2",{enumerable:!0,get:function(){return c.WalletContractV1R2}});var u=mb();Object.defineProperty(e,"WalletContractV1R3",{enumerable:!0,get:function(){return u.WalletContractV1R3}});var d=pb();Object.defineProperty(e,"WalletContractV2R1",{enumerable:!0,get:function(){return d.WalletContractV2R1}});var o=gb();Object.defineProperty(e,"WalletContractV2R2",{enumerable:!0,get:function(){return o.WalletContractV2R2}});var p=yb();Object.defineProperty(e,"WalletContractV3R1",{enumerable:!0,get:function(){return p.WalletContractV3R1}});var w=bb();Object.defineProperty(e,"WalletContractV3R2",{enumerable:!0,get:function(){return w.WalletContractV3R2}});var C=vb();Object.defineProperty(e,"WalletContractV4",{enumerable:!0,get:function(){return C.WalletContractV4}});var T=wb();Object.defineProperty(e,"WalletContractV5Beta",{enumerable:!0,get:function(){return T.WalletContractV5Beta}});var b=_b();Object.defineProperty(e,"WalletContractV5R1",{enumerable:!0,get:function(){return b.WalletContractV5R1}});var A=Cb();Object.defineProperty(e,"JettonMaster",{enumerable:!0,get:function(){return A.JettonMaster}});var P=xb();Object.defineProperty(e,"JettonWallet",{enumerable:!0,get:function(){return P.JettonWallet}});var D=Gu();Object.defineProperty(e,"MultisigOrder",{enumerable:!0,get:function(){return D.MultisigOrder}});var M=Tb();Object.defineProperty(e,"MultisigOrderBuilder",{enumerable:!0,get:function(){return M.MultisigOrderBuilder}});var ne=kb();Object.defineProperty(e,"MultisigWallet",{enumerable:!0,get:function(){return ne.MultisigWallet}});var Y=Ib();Object.defineProperty(e,"ElectorContract",{enumerable:!0,get:function(){return Y.ElectorContract}});var q=Ab();Object.defineProperty(e,"configParse5",{enumerable:!0,get:function(){return q.configParse5}}),Object.defineProperty(e,"configParse8",{enumerable:!0,get:function(){return q.configParse8}}),Object.defineProperty(e,"configParse12",{enumerable:!0,get:function(){return q.configParse12}}),Object.defineProperty(e,"configParse13",{enumerable:!0,get:function(){return q.configParse13}}),Object.defineProperty(e,"configParse15",{enumerable:!0,get:function(){return q.configParse15}}),Object.defineProperty(e,"configParse16",{enumerable:!0,get:function(){return q.configParse16}}),Object.defineProperty(e,"configParse17",{enumerable:!0,get:function(){return q.configParse17}}),Object.defineProperty(e,"configParse18",{enumerable:!0,get:function(){return q.configParse18}}),Object.defineProperty(e,"configParse28",{enumerable:!0,get:function(){return q.configParse28}}),Object.defineProperty(e,"configParse29",{enumerable:!0,get:function(){return q.configParse29}}),Object.defineProperty(e,"configParse40",{enumerable:!0,get:function(){return q.configParse40}}),Object.defineProperty(e,"configParseBridge",{enumerable:!0,get:function(){return q.configParseBridge}}),Object.defineProperty(e,"configParseGasLimitsPrices",{enumerable:!0,get:function(){return q.configParseGasLimitsPrices}}),Object.defineProperty(e,"configParseMasterAddress",{enumerable:!0,get:function(){return q.configParseMasterAddress}}),Object.defineProperty(e,"configParseMasterAddressRequired",{enumerable:!0,get:function(){return q.configParseMasterAddressRequired}}),Object.defineProperty(e,"configParseMsgPrices",{enumerable:!0,get:function(){return q.configParseMsgPrices}}),Object.defineProperty(e,"configParseValidatorSet",{enumerable:!0,get:function(){return q.configParseValidatorSet}}),Object.defineProperty(e,"configParseWorkchainDescriptor",{enumerable:!0,get:function(){return q.configParseWorkchainDescriptor}}),Object.defineProperty(e,"parseBridge",{enumerable:!0,get:function(){return q.parseBridge}}),Object.defineProperty(e,"parseProposalSetup",{enumerable:!0,get:function(){return q.parseProposalSetup}}),Object.defineProperty(e,"parseValidatorSet",{enumerable:!0,get:function(){return q.parseValidatorSet}}),Object.defineProperty(e,"parseVotingSetup",{enumerable:!0,get:function(){return q.parseVotingSetup}}),Object.defineProperty(e,"parseFullConfig",{enumerable:!0,get:function(){return q.parseFullConfig}}),Object.defineProperty(e,"loadConfigParamById",{enumerable:!0,get:function(){return q.loadConfigParamById}}),Object.defineProperty(e,"loadConfigParamsAsSlice",{enumerable:!0,get:function(){return q.loadConfigParamsAsSlice}});var K=Sb();Object.defineProperty(e,"computeExternalMessageFees",{enumerable:!0,get:function(){return K.computeExternalMessageFees}}),Object.defineProperty(e,"computeFwdFees",{enumerable:!0,get:function(){return K.computeFwdFees}}),Object.defineProperty(e,"computeGasPrices",{enumerable:!0,get:function(){return K.computeGasPrices}}),Object.defineProperty(e,"computeMessageForwardFees",{enumerable:!0,get:function(){return K.computeMessageForwardFees}}),Object.defineProperty(e,"computeStorageFees",{enumerable:!0,get:function(){return K.computeStorageFees}})}(en)),en}var fs={},Vc;function Ju(){if(Vc)return fs;Vc=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.wait=t,fs.base64ToBigint=n;const e=Hc();async function t(s){return new Promise(r=>setTimeout(r,s))}function n(s){return BigInt("0x"+e.Buffer.from(s,"base64").toString("hex"))}return fs}var jc;function Qu(){return jc||(jc=1,function(e){var t={},n=qn&&qn.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.shardAccountToBase64=e.calculateSentTotal=e.findFinalActions=e.computeFinalData=e.prepareEmulator=e.emulatePreviousTransactions=e.collectUsedLibraries=e.getLibraryByHash=e.computeMinLt=e.getBlockAccount=e.getBlockConfig=e.findAllTransactionsBetween=e.findFullBlockForSeqno=e.findShardBlockForTx=e.findRawTxByHash=e.findBaseTxByHash=void 0,e.createShardAccountFromAPI=Y,e.normalizeStateFromAPI=q;const s=Be(),r=n(la()),i=Eb(),a=Rd(),c=Ju(),u=t.TONCENTER_API_KEY??"49efa980ccdcd018fd09d387e63537afd9db4dbb8509d69e7bc2303ca2b2c860",d=t.DTON_API_KEY??"fpYxhGTWfIe3ZEf2s6vvgAGmps_qnNmD",o=2e4,p=async(j,Q)=>{const L=(await r.default.get(`https://${j?"testnet.":""}toncenter.com/api/v3/transactions`,{params:{hash:Q,limit:1},headers:{"X-API-Key":u}})).data.transactions.at(0);if(L===void 0)return;const G=BigInt(L.lt),F=Buffer.from(L.hash,"base64"),Z=s.Address.parseRaw(L.account);return{lt:G,hash:F,address:Z}};e.findBaseTxByHash=p;const w=async(j,Q)=>{const{lt:g,hash:N,address:L}=Q;return re(j).getAccountTransactions(L,g,N)};e.findRawTxByHash=w;const C=async(j,Q)=>{const g=Q.block,N=BigInt(g.shard),L=N<0?N+BigInt("0x10000000000000000"):N;return(await r.default.get(`https://${j?"testnet.":""}toncenter.com/api/v3/blocks`,{params:{workchain:g.workchain,shard:"0x"+L.toString(16),seqno:g.seqno}})).data.blocks[0]};e.findShardBlockForTx=C;const T=async(j,Q)=>re(j).getBlock(Q);e.findFullBlockForSeqno=T;const b=async(j,Q,g)=>new i.TonClient({endpoint:`https://${j?"testnet.":""}toncenter.com/api/v2/jsonRPC`,timeout:o}).getTransactions(Q.address,{inclusive:!0,lt:Q.lt.toString(),to_lt:(g-1n).toString(),hash:Q.hash.toString("base64"),archival:!0,limit:1e3});e.findAllTransactionsBetween=b;const A=async(j,Q)=>{const g=re(j),N=Q.shards[0].seqno;return(await g.getConfig(N)).config.cell};e.getBlockConfig=A;const P=async(j,Q,g)=>{const N=re(j),L=g.shards[0].seqno,G=await N.getAccount(L-1,Q);return Y(G.account,Q)};e.getBlockAccount=P;const D=(j,Q,g)=>{let N=j.lt;const L=Q.toString();for(const G of g.shards)for(const F of G.transactions)F.account===L&&BigInt(F.lt)<N&&(N=BigInt(F.lt));return N};e.computeMinLt=D;const M=async(j,Q)=>{await(0,c.wait)(1e3);const g=`https://${j?"testnet.":""}dton.io/${d}/graphql`,N={query:`query fetchAuthor { get_lib(lib_hash: "${Q}") }`,variables:{}};try{const L=await r.default.post(g,N,{headers:{"Content-Type":"application/json"}});return s.Cell.fromBase64(L.data.data.get_lib)}catch(L){throw console.error("Error fetching library from dton:",L),L instanceof Error?new Error("Get library on dton's graphql: "+L.message):L}};e.getLibraryByHash=M;const ne=async(j,Q,g)=>{const N=s.Dictionary.empty(s.Dictionary.Keys.BigUint(256),s.Dictionary.Values.Cell()),L=async $=>{if($===void 0||$.bits.length!==264)return;const oe=$.beginParse(!0);if(oe.loadUint(8)!==2)return;const we=oe.loadBuffer(32).toString("hex").toUpperCase(),_e=await(0,e.getLibraryByHash)(j,we);return N.set(BigInt(`0x${we}`),_e),_e};let G;const F=Q.account?.storage.state;F?.type==="active"&&(G=await L(F.state.code??void 0));const Z=g.inMessage?.init;return Z&&(G??(G=await L(Z.code??void 0))),N.size===0?[void 0,G]:[(0,s.beginCell)().storeDictDirect(N).endCell(),G]};e.collectUsedLibraries=ne;function Y(j,Q){const g=N=>N===void 0?0n:BigInt(N);return{account:{addr:Q,storage:{lastTransLt:BigInt(j.last?.lt??0),balance:{coins:BigInt(j.balance.coins)},state:q(j.state)},storageStats:{used:{cells:g(j.storageStat?.used.cells),bits:g(j.storageStat?.used.bits),publicCells:g(j.storageStat?.used.publicCells)},lastPaid:j.storageStat?.lastPaid??0,duePayment:typeof j.storageStat?.duePayment=="string"?BigInt(j.storageStat.duePayment):void 0}},lastTransactionLt:BigInt(j.last?.lt??0),lastTransactionHash:j.last?.hash===void 0?0n:(0,c.base64ToBigint)(j.last.hash)}}function q(j){return j.type==="uninit"?{type:"uninit"}:j.type==="frozen"?{type:"frozen",stateHash:(0,c.base64ToBigint)(j.stateHash)}:{type:"active",state:{code:j.code===null?void 0:s.Cell.fromBase64(j.code),data:j.data===null?void 0:s.Cell.fromBase64(j.data)}}}const K=async(j,Q,g,N)=>{if(Q.length===0)return{prevBalance:j,shardAccountBase64:N};for(const L of Q){const G=await g(L,N);if(!G.result.success)throw new Error(`Transaction failed for lt: ${L.lt}, logs: ${G.logs}, debugLogs: ${G.debugLogs}`);N=G.result.shardAccount,j=(0,s.loadShardAccount)(s.Cell.fromBase64(N).asSlice()).account?.storage.balance.coins??0n}return{prevBalance:j,shardAccountBase64:N}};e.emulatePreviousTransactions=K;const U=async(j,Q,g)=>{const N=await a.Blockchain.create();N.verbosity.print=!1,N.verbosity.vmLogs="vm_logs_verbose";const L=N.executor,G=L instanceof a.Executor?L.getVersion():{commitHash:"",commitDate:""};async function F(Z,$){const J=Z.inMessage;if(!J)throw new Error("No in_message was found in transaction");return L.runTransaction({config:j,libs:Q??null,verbosity:"full_location_stack_verbose",shardAccount:$,message:(0,s.beginCell)().store((0,s.storeMessage)(J)).endCell(),now:Z.now,lt:Z.lt,randomSeed:g,ignoreChksig:!1,debugEnabled:!0})}return{emulatorVersion:G,emulate:F}};e.prepareEmulator=U;const se=(j,Q)=>{const N=(0,s.loadShardAccount)(s.Cell.fromBase64(j.shardAccount).asSlice()).account?.storage.balance.coins??0n,L=(0,s.loadTransaction)(s.Cell.fromBase64(j.transaction).asSlice());if(!L.inMessage)throw new Error("No in_message was found in result tx");const G=L.inMessage.info.src??void 0,F=L.inMessage.info.dest;if(G!==void 0&&!s.Address.isAddress(G))throw new Error(`Invalid src address: ${G.toString()}`);if(!s.Address.isAddress(F))throw new Error(`Invalid dest address: ${F?.toString()}`);const Z=L.inMessage.info.type==="internal"?L.inMessage.info.value.coins:void 0,$=(0,e.calculateSentTotal)(L),J=L.totalFees.coins;if(L.description.type!=="generic")throw new Error("TxTracer doesn't support non-generic transaction. Given type: "+L.description.type);const oe=L.description.computePhase,ie=oe.type==="skipped"?"skipped":{success:oe.success,exitCode:oe.exitCode===0?L.description.actionPhase?.resultCode??0:oe.exitCode,vmSteps:oe.vmSteps,gasUsed:oe.gasUsed,gasFees:oe.gasFees};return{sender:G,contract:F,money:{balanceBefore:Q,sentTotal:$,totalFees:J,balanceAfter:N},emulatedTx:L,amount:Z,computeInfo:ie}};e.computeFinalData=se;const ce=j=>{const Q=j.actions;if(Q===null)return{finalActions:[],c5:void 0};const g=s.Cell.fromBase64(Q);return{finalActions:(0,s.loadOutList)(g.asSlice()),c5:g}};e.findFinalActions=ce;const be=j=>{let Q=0n;for(const g of j.outMessages.values())g.info.type==="internal"&&(Q+=g.info.value.coins);return Q};e.calculateSentTotal=be;const ve=j=>(0,s.beginCell)().store((0,s.storeShardAccount)(j)).endCell().toBoc().toString("base64");e.shardAccountToBase64=ve;const re=j=>new i.TonClient4({endpoint:`https://${j?"sandbox":"mainnet"}-v4.tonhubapi.com`,timeout:o,requestInterceptor:Q=>(Q.headers["Content-Type"]="application/json",Q)})}(qn)),qn}var ri={},Dc;function Pb(){return Dc||(Dc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.retraceBaseTx=e.retrace=void 0;const t=Qu(),n=Hc(),s=async(i,a)=>{const c=await(0,t.findBaseTxByHash)(i,a);if(c===void 0)throw new Error("Cannot find transaction info");return(0,e.retraceBaseTx)(i,c)};e.retrace=s;const r=async(i,a)=>{const[c]=await(0,t.findRawTxByHash)(i,a);if(c===void 0)throw new Error("Cannot find transaction info");const u=c.block,d=await(0,t.findShardBlockForTx)(i,c);if(d===void 0)throw new Error("Cannot find shard block for transaction");if(d.root_hash!==u.rootHash)throw new Error(`root_hash mismatch in mc_seqno getter: ${u.rootHash} != ${d.root_hash}`);const o=d.masterchain_block_ref.seqno,p=n.Buffer.from(d.rand_seed,"base64"),w=await(0,t.findFullBlockForSeqno)(i,o),C=(0,t.computeMinLt)(c.tx,a.address,w),[T,...b]=await(0,t.findAllTransactionsBetween)(i,a,C);b.reverse();const A=await(0,t.getBlockConfig)(i,w),P=await(0,t.getBlockAccount)(i,a.address,w),[D,M]=await(0,t.collectUsedLibraries)(i,P,c.tx),ne=P.account?.storage.state,Y=ne?.type==="active"?ne.state.code??void 0:c.tx.inMessage?.init?.code??void 0,{emulatorVersion:q,emulate:K}=await(0,t.prepareEmulator)(A,D,p);P.lastTransactionLt=0n,P.lastTransactionHash=0n;const U=(0,t.shardAccountToBase64)(P),se=P.account?.storage.balance.coins??0n,{prevBalance:ce,shardAccountBase64:be}=await(0,t.emulatePreviousTransactions)(se,b,K,U),ve=await K(T,be);if(!ve.result.success)throw new Error("Transaction failed");const{finalActions:re,c5:j}=(0,t.findFinalActions)(ve.result),{sender:Q,contract:g,amount:N,money:L,emulatedTx:G,computeInfo:F}=(0,t.computeFinalData)(ve.result,ce);return{stateUpdateHashOk:G.stateUpdate.newHash.equals(T.stateUpdate.newHash),codeCell:M??Y,originalCodeCell:Y,inMsg:{sender:Q,contract:g,amount:N},money:L,emulatedTx:{utime:G.now,lt:G.lt,computeInfo:F,executorLogs:ve.logs,actions:re,c5:j,vmLogs:ve.result.vmLog},emulatorVersion:q}};e.retraceBaseTx=r}(ri)),ri}var Nc;function Bb(){return Nc||(Nc=1,function(e){var t=Qt&&Qt.__createBinding||(Object.create?function(s,r,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(r,i);(!c||("get"in c?!r.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(s,a,c)}:function(s,r,i,a){a===void 0&&(a=i),s[a]=r[i]}),n=Qt&&Qt.__exportStar||function(s,r){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,s,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Qu(),e),n(Pb(),e),n(Ju(),e)}(Qt)),Qt}var Oc=Bb(),Lc=Id(),Rb=Ad(),ed=Sd(),Uc=Ed(),Mb=Pd();const zc=(e,t)=>({$:"BaseInfo",info:e,testnet:t}),kn=(e,t)=>({$:"SingleHash",hash:e.toLowerCase(),testnet:t});function Vb(e){if(e.startsWith("https://ton.cx/tx/")||e.startsWith("https://testnet.ton.cx/tx/")){const t=e.includes("testnet."),n=t?e.slice(26):e.slice(18),[s,r,i]=n.split(":");return zc(Fc(s,r,i),t)}if(e.startsWith("https://tonviewer.com/")||e.startsWith("https://testnet.tonviewer.com/")){const t=e.includes("testnet."),n=t?e.slice(42):e.slice(34);return kn(n,t)}if(e.startsWith("https://tonscan.org/tx/")||e.startsWith("https://testnet.tonscan.org/tx/")){const t=e.includes("testnet."),n=t?e.slice(31):e.slice(23);if(n.endsWith("=")){const s=Buffer.from(n,"base64");return kn(s.toString("hex"),t)}return kn(n,t)}if(e.startsWith("https://explorer.toncoin.org/transaction")||e.startsWith("https://test-explorer.toncoin.org/transaction")){const t=e.includes("test-"),n=new URL(e),s=n.searchParams.get("lt")??void 0,r=n.searchParams.get("hash")??void 0,i=n.searchParams.get("account")??void 0;return zc(Fc(s,r,i),t)}if(e.startsWith("https://dton.io/tx")||e.startsWith("https://testnet.dton.io/tx")){const t=e.includes("testnet."),n=t?e.slice(27):e.slice(19);return kn(n,t)}}function Fc(e,t,n){if(e===void 0||t===void 0||n===void 0)throw new Error("Invalid ton.cx link");const s=t.endsWith("=")?Buffer.from(t,"base64"):Buffer.from(t,"hex");return{lt:BigInt(e),hash:s,address:at.Address.parse(n)}}class Ps extends Error{constructor(t,n){super(t),this.cause=n,this.name="TxTraceError"}}class jb extends Ps{constructor(t="Transaction not found",n){super(t,n),this.name="TxNotFoundError"}}class Db extends Ps{constructor(t="Transaction hash is not valid",n){super(t,n),this.name="TxHashInvalidError"}}class Nb extends Ps{constructor(t="Network error",n){super(t,n),this.name="NetworkError"}}class Ob extends Ps{constructor(t="Too many requests, please try again a bit later",n){super(t,n),this.name="TooManyRequests"}}async function qc(e){if(e.$==="BaseInfo")return Oc.retraceBaseTx(e.testnet,e.info);if(e.$==="SingleHash")return Oc.retrace(e.testnet,e.hash);throw new Error("Invalid extraction result")}async function Lb(e){const t=Vb(e);if(t===void 0&&e.startsWith("https://"))throw new Error("Unsupported link format: "+e);try{return await Wc(500),{result:await qc(t??kn(e,!1)),network:"mainnet"}}catch(n){if(n instanceof Error&&n.message.includes("Cannot find transaction info"))return console.log("Cannot find in mainnet, trying to find in testnet"),await Wc(500),{result:await qc(t??kn(e,!0)),network:"testnet"};throw n}}async function Ub(e){try{return await Lb(e)}catch(t){let n="An unknown error occurred.";throw t instanceof Error?n=t.message:t!=null&&(n=String(t)),/status code 429/i.test(n)?new Ob(void 0,t):/status code 422/i.test(n)?new Db(void 0,t):/not found/i.test(n)?new jb(void 0,t):/network|fetch|timeout/i.test(n)?new Nb(void 0,t):new Ps(n,t)}}function zb(e){const t=e.map(s=>{if(s.$==="VmExceptionHandler")return{text:"",num:s.errno};if(s.$==="VmException")return{text:s.message,num:s.errno};if(s.$==="VmUnknown"&&s.text.includes("unhandled out-of-gas exception"))return{text:s.text,num:-14}}),n=t.find(s=>(s?.text?.length??0)>0);return n||t.find(s=>s!==void 0)}function Fb(e,t){const s=[...Mb.parse(e)].reverse(),r=zb(s);if(r===void 0)return;const i=s.find(o=>o.$==="VmLoc"),a=ed.findInstructionInfo(t,{hash:i?.hash?.toLowerCase()??"",offset:i?.offset??0,stack:[],gas:0,gasCost:0});if(a===void 0)return;const[c,u]=a;return{info:c[u],description:r.text,num:r.num}}function qb(e){if(!e.codeCell)return{code:"// No executable code found",traceInfo:{steps:[]}};const t=Lc.decompileCell(e.codeCell),n=Uc.print(t),s=Uc.parse("out.tasm",n);if(s.$==="ParseFailure")return{code:n,traceInfo:{steps:[]},exitCode:void 0};const r=e.emulatedTx.vmLogs,[,i]=Lc.compileCellWithMapping(s.instructions),a=Rb.createMappingInfo(i),c=ed.createTraceInfoPerTransaction(r,a,void 0)[0],u=Fb(r,a);return u===void 0?{code:n,exitCode:void 0,traceInfo:c}:{code:n,exitCode:u,traceInfo:c}}async function tv(e){const{result:t,network:n}=await Ub(e),{code:s,traceInfo:r,exitCode:i}=qb(t);return{result:t,code:s,trace:r,exitCode:i,network:n}}function nv(e){return e.gasCost>5e3?26:e.gasCost}async function Wc(e){return new Promise(t=>setTimeout(t,e))}function sv(e){return W.useMemo(()=>{if(!e||!e.steps.length)return{};const t={};for(const n of e.steps)if(n.loc!==void 0){const s=n.loc.line+1;t[s]||(t[s]={}),t[s]={...t[s],gas:(t[s].gas??0)+n.gasCost,executions:(t[s].executions??0)+1}}return t},[e])}function Zc(e,t){if(!(!e||t<0||t>=e.steps.length))return e.steps[t]}function rv(e){const[t,n]=W.useState(0),[s,r]=W.useState(null),i=W.useMemo(()=>e?.steps.length??0,[e]),a=W.useMemo(()=>t>0,[t]),c=W.useMemo(()=>t<i-1,[t,i]);W.useEffect(()=>{n(0)},[e]),W.useEffect(()=>{if(!s)return;const A=setTimeout(()=>r(null),100);return()=>clearTimeout(A)},[s,t]);const u=W.useCallback(()=>{i===0||!a||(r("button"),n(A=>A-1))},[i,a]),d=W.useCallback(()=>{i===0||!c||(r("button"),n(A=>A+1))},[i,c]),o=W.useCallback(()=>{i===0||!a||(r("button"),n(0))},[i,a]),p=W.useCallback(()=>{i===0||!c||(r("button"),n(i-1))},[i,c]);W.useEffect(()=>{const A=P=>{P.target instanceof HTMLInputElement||P.target instanceof HTMLTextAreaElement||(P.key==="ArrowLeft"&&u(),P.key==="ArrowRight"&&d())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[u,d]);const w=W.useMemo(()=>{const A=Zc(e,t);if(A&&A.loc!==void 0)return A.loc.line+1},[e,t]),C=W.useMemo(()=>Zc(e,t),[e,t]),T=C?.stack??[],b=W.useCallback(A=>{if(!e||!e.steps.length)return;const P={};if(e.steps.forEach((M,ne)=>{if(M.loc!==void 0){const Y=M.loc.line+1;(P[Y]??(P[Y]=[])).push(ne)}}),!P[A]?.length)return;const D=P[A].indexOf(t);r("click"),D!==-1&&D<P[A].length-1?n(P[A][D+1]):n(P[A][0])},[e,t]);return{selectedStep:t,highlightLine:w,currentStep:C,currentStack:T,handlePrev:u,handleNext:d,goToFirstStep:o,goToLastStep:p,canGoPrev:a,canGoNext:c,findStepByLine:b,transitionType:s,totalSteps:i}}export{nt as C,Ud as M,Kb as S,Yb as T,rv as a,Fb as f,Rb as m,nv as n,tv as t,sv as u};
