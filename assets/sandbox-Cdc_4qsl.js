import{j as a,r as U,d as Y,s as Bt,t as Fi,R as X,h as It,I as Vi,a as Pi,G as zi,T as qi,H as Bi,P as Wi}from"./InlineLoader-C7WlMchm.js";import un from"./index-DjWaDtFX.js";import{d as Hi,g as Ui}from"./ton-vendor-hTmWgCDw.js";import{t as Gi,i as Xi}from"./index-CQ9_rxVT.js";import{a as xt}from"./index-S1Q8XQYG.js";import"./ton-assembly-test-dev-GzvYfkSs.js";const Ki=()=>a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M9 21h6"}),a.jsx("path",{d:"M12 17v4"}),a.jsx("path",{d:"M15 9.34V17a2 2 0 0 1-2 2H11a2 2 0 0 1-2-2v-7.66"}),a.jsx("path",{d:"M7.76 8.46A8 8 0 1 1 16.24 8.46"})]}),Yi=()=>a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),a.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),a.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),a.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Qi=()=>a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),a.jsx("path",{d:"M21 3v5h-5"}),a.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),a.jsx("path",{d:"M8 16H3v5"})]}),Zi=()=>a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("polyline",{points:"20,6 9,17 4,12"})}),Ji=()=>a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("polyline",{points:"16,18 22,12 16,6"}),a.jsx("polyline",{points:"8,6 2,12 8,18"})]});function tr({url:t="ws://localhost:8081",onError:e}={}){const[n,i]=U.useState([]),[r,s]=U.useState(new Map),[o,l]=U.useState(""),[u,c]=U.useState(!1),d=U.useRef(0),f=U.useCallback(()=>{d.current+=1,console.log("New test case:",d.current)},[]);function h(k){try{return JSON.parse(k)}catch{return}}const g=U.useCallback(k=>{const N=h(k.data);if(!N){console.error("Cannot parse transactions:",k);return}const x=d.current;i(w=>w.find(b=>b.id===x)?(console.log("Updating existing test:",x),w.map(b=>b.id===x?{...b,transactions:{transactions:[...b.transactions.transactions,...N.transactions]}}:b)):(console.log("Creating new test:",x),[...w,{id:x,testName:k.testName,transactions:N,timestamp:Date.now()}]))},[]),C=U.useCallback(k=>{const N=k.testName??"unknown";s(x=>{const w=new Map(x);return w.set(N,k.data),w})},[]),E=U.useCallback(k=>{const N=JSON.parse(k.data);switch(N.$){case"next-test":f();break;case"txs":g(N);break;case"known-contracts":C(N);break;default:console.warn("Unknown message type:",N)}},[f,g,C]);return U.useEffect(()=>{const k=new WebSocket(t);return k.onopen=()=>{l(""),c(!0)},k.onmessage=E,k.onerror=()=>{const N="Cannot connect to the daemon. Run: yarn daemon";l(N),c(!1),e?.(N)},k.onclose=()=>{c(!1)},()=>{k.close()}},[t,E,e]),{tests:n,contractsByTest:r,error:o,isConnected:u}}function Je(t,e){if(t.opcode===void 0)return;const n=t?.address;if(!n)return;const i=e.get(n.toString());if(i?.meta?.abi){const r=i?.meta?.abi.types?.find(s=>s.header===t.opcode);if(r)return r}for(const r of[...e.values()]){const s=r?.meta?.abi?.types?.find(o=>o.header===t.opcode);if(s)return s}}const er=t=>{try{return t?Y.Address.parseRaw(`0:${t.toString(16)}`):void 0}catch{return}};function nr(t){const e=t.inMessage,n=e?.info?.type==="internal"?e.info.bounced:!1;let i;const r=e?.body?.asSlice();return r&&r.remainingBits>=32&&(n&&r.loadUint(32),i=r.loadUint(32)),i}function ir(t){return t.inMessage?.info?.type==="internal"?{}:{}}const Pe=(t,e,n)=>{const i=n.get(t);if(i)return i;const r=t.parsedTransaction??Y.loadTransaction(Y.Cell.fromHex(t.transaction).asSlice()),s=er(r.address),{computeInfo:o,amount:l,money:u}=sr(t),c={address:s,transaction:r,fields:t.fields,parent:void 0,opcode:nr(r),computeInfo:o,money:u,amount:l,data:ir(r),children:[]};n.set(t,c);const d=e.find(f=>f.parsedTransaction?.lt.toString()===t.parentId);return c.parent=d?Pe(d,e,n):void 0,c.children=t.childrenIds.map(f=>e.find(h=>h.parsedTransaction?.lt.toString()===f)).filter(f=>f!==void 0).map(f=>Pe(f,e,n)),c},rr=t=>{let e=0n;for(const n of t.outMessages.values())n.info.type==="internal"&&(e+=n.info.value.coins);return e},sr=t=>{const e=Y.loadTransaction(Y.Cell.fromHex(t.transaction).asSlice());if(!e.inMessage)throw new Error("No in_message was found in result tx");const n=e.inMessage.info.type==="internal"?e.inMessage.info.value.coins:void 0,i=rr(e),r=e.totalFees.coins;if(e.description.type!=="generic")throw new Error("TxTracer doesn't support non-generic transaction. Given type: "+e.description.type);const s=e.description.computePhase,o=s.type==="skipped"?"skipped":{success:s.success,exitCode:s.exitCode===0?e.description.actionPhase?.resultCode??0:s.exitCode,vmSteps:s.vmSteps,gasUsed:s.gasUsed,gasFees:s.gasFees};return{money:{sentTotal:i,totalFees:r},amount:n,computeInfo:o}},ar=t=>t.map(e=>Pe(e,t,new Map));function ni(t){return t.stateInit?Y.loadStateInit(Y.Cell.fromHex(t.stateInit).asSlice()):void 0}function or(t,e){return t.find(n=>ni(n)?.code?.toBoc()?.toString("hex")===e?.toBoc()?.toString("hex"))}function dn(t){if(t.meta?.treasurySeed)return t.meta?.treasurySeed;if(t.meta?.wrapperName)return t.meta?.wrapperName}function lr(t,e){const n=dn(t);if(n)return n;const r=ni(t)?.code;if(r){const s=or(e,r);if(s){const o=dn(s);if(o)return o}}return"Unknown Contract"}function cr(t={}){const e=tr(t);return{tests:U.useMemo(()=>e.tests.map(i=>{const r=i.transactions.transactions.map(d=>({...d,transaction:d.transaction,parsedTransaction:Y.loadTransaction(Y.Cell.fromHex(d.transaction).asSlice())})),s=ar(r),o=i.testName??"unknown",l=e.contractsByTest.get(o)??[],u=l.map((d,f)=>{const h=Y.Address.parse(d.address),g=String.fromCharCode(65+f%26),C=lr(d,l);return{...d,address:h,stateInit:d.stateInit?Y.loadStateInit(Y.Cell.fromHex(d.stateInit).asSlice()):void 0,account:Y.loadShardAccount(Y.Cell.fromHex(d.account).asSlice()),letter:g,displayName:C}}),c=new Map(u.map(d=>[d.address.toString(),d]));return{id:i.id,testName:i.testName,transactions:s,timestamp:i.timestamp,contracts:c}}),[e.tests,e.contractsByTest]),error:e.error,isConnected:e.isConnected}}function ur(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function dr(){return this.eachAfter(ur)}function hr(t){var e=this,n,i=[e],r,s,o;do for(n=i.reverse(),i=[];e=n.pop();)if(t(e),r=e.children,r)for(s=0,o=r.length;s<o;++s)i.push(r[s]);while(i.length);return this}function fr(t){for(var e=this,n=[e],i,r;e=n.pop();)if(t(e),i=e.children,i)for(r=i.length-1;r>=0;--r)n.push(i[r]);return this}function pr(t){for(var e=this,n=[e],i=[],r,s,o;e=n.pop();)if(i.push(e),r=e.children,r)for(s=0,o=r.length;s<o;++s)n.push(r[s]);for(;e=i.pop();)t(e);return this}function mr(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function gr(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function _r(t){for(var e=this,n=yr(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function yr(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function xr(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function vr(){var t=[];return this.each(function(e){t.push(e)}),t}function br(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function wr(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function tn(t,e){var n=new Dt(t),i=+t.value&&(n.value=t.value),r,s=[n],o,l,u,c;for(e==null&&(e=Cr);r=s.pop();)if(i&&(r.value=+r.data.value),(l=e(r.data))&&(c=l.length))for(r.children=new Array(c),u=c-1;u>=0;--u)s.push(o=r.children[u]=new Dt(l[u])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Sr)}function Nr(){return tn(this).eachBefore(Tr)}function Cr(t){return t.children}function Tr(t){t.data=t.data.data}function Sr(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Dt(t){this.data=t,this.depth=this.height=0,this.parent=null}Dt.prototype=tn.prototype={constructor:Dt,count:dr,each:hr,eachAfter:pr,eachBefore:fr,sum:mr,sort:gr,path:_r,ancestors:xr,descendants:vr,leaves:br,links:wr,copy:Nr};function jr(t,e){return t.parent===e.parent?1:2}function we(t){var e=t.children;return e?e[0]:t.t}function Ne(t){var e=t.children;return e?e[e.length-1]:t.t}function Mr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function kr(t){for(var e=0,n=0,i=t.children,r=i.length,s;--r>=0;)s=i[r],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function Ir(t,e,n){return t.a.parent===e.parent?t.a:n}function re(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}re.prototype=Object.create(Dt.prototype);function Er(t){for(var e=new re(t,0),n,i=[e],r,s,o,l;n=i.pop();)if(s=n._.children)for(n.children=new Array(l=s.length),o=l-1;o>=0;--o)i.push(r=n.children[o]=new re(s[o],o)),r.parent=n;return(e.parent=new re(null,0)).children=[e],e}function Rr(){var t=jr,e=1,n=1,i=null;function r(c){var d=Er(c);if(d.eachAfter(s),d.parent.m=-d.z,d.eachBefore(o),i)c.eachBefore(u);else{var f=c,h=c,g=c;c.eachBefore(function(x){x.x<f.x&&(f=x),x.x>h.x&&(h=x),x.depth>g.depth&&(g=x)});var C=f===h?1:t(f,h)/2,E=C-f.x,k=e/(h.x+C+E),N=n/(g.depth||1);c.eachBefore(function(x){x.x=(x.x+E)*k,x.y=x.depth*N})}return c}function s(c){var d=c.children,f=c.parent.children,h=c.i?f[c.i-1]:null;if(d){kr(c);var g=(d[0].z+d[d.length-1].z)/2;h?(c.z=h.z+t(c._,h._),c.m=c.z-g):c.z=g}else h&&(c.z=h.z+t(c._,h._));c.parent.A=l(c,h,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c,d,f){if(d){for(var h=c,g=c,C=d,E=h.parent.children[0],k=h.m,N=g.m,x=C.m,w=E.m,I;C=Ne(C),h=we(h),C&&h;)E=we(E),g=Ne(g),g.a=c,I=C.z+x-h.z-k+t(C._,h._),I>0&&(Mr(Ir(C,c,f),c,I),k+=I,N+=I),x+=C.m,k+=h.m,w+=E.m,N+=g.m;C&&!Ne(g)&&(g.t=C,g.m+=x-N),h&&!we(E)&&(E.t=h,E.m+=k-w,f=c)}return f}function u(c){c.x*=e,c.y=c.depth*n}return r.separation=function(c){return arguments.length?(t=c,r):t},r.size=function(c){return arguments.length?(i=!1,e=+c[0],n=+c[1],r):i?null:[e,n]},r.nodeSize=function(c){return arguments.length?(i=!0,e=+c[0],n=+c[1],r):i?[e,n]:null},r}var ze="http://www.w3.org/1999/xhtml";const hn={svg:"http://www.w3.org/2000/svg",xhtml:ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _e(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),hn.hasOwnProperty(e)?{space:hn[e],local:t}:t}function $r(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ze&&e.documentElement.namespaceURI===ze?e.createElement(t):e.createElementNS(n,t)}}function Ar(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ii(t){var e=_e(t);return(e.local?Ar:$r)(e)}function Or(){}function en(t){return t==null?Or:function(){return this.querySelector(t)}}function Lr(t){typeof t!="function"&&(t=en(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=new Array(o),u,c,d=0;d<o;++d)(u=s[d])&&(c=t.call(u,u.__data__,d,s))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new rt(i,this._parents)}function Dr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Fr(){return[]}function ri(t){return t==null?Fr:function(){return this.querySelectorAll(t)}}function Vr(t){return function(){return Dr(t.apply(this,arguments))}}function Pr(t){typeof t=="function"?t=Vr(t):t=ri(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(i.push(t.call(u,u.__data__,c,o)),r.push(u));return new rt(i,r)}function si(t){return function(){return this.matches(t)}}function ai(t){return function(e){return e.matches(t)}}var zr=Array.prototype.find;function qr(t){return function(){return zr.call(this.children,t)}}function Br(){return this.firstElementChild}function Wr(t){return this.select(t==null?Br:qr(typeof t=="function"?t:ai(t)))}var Hr=Array.prototype.filter;function Ur(){return Array.from(this.children)}function Gr(t){return function(){return Hr.call(this.children,t)}}function Xr(t){return this.selectAll(t==null?Ur:Gr(typeof t=="function"?t:ai(t)))}function Kr(t){typeof t!="function"&&(t=si(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new rt(i,this._parents)}function oi(t){return new Array(t.length)}function Yr(){return new rt(this._enter||this._groups.map(oi),this._parents)}function ce(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ce.prototype={constructor:ce,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Qr(t){return function(){return t}}function Zr(t,e,n,i,r,s){for(var o=0,l,u=e.length,c=s.length;o<c;++o)(l=e[o])?(l.__data__=s[o],i[o]=l):n[o]=new ce(t,s[o]);for(;o<u;++o)(l=e[o])&&(r[o]=l)}function Jr(t,e,n,i,r,s,o){var l,u,c=new Map,d=e.length,f=s.length,h=new Array(d),g;for(l=0;l<d;++l)(u=e[l])&&(h[l]=g=o.call(u,u.__data__,l,e)+"",c.has(g)?r[l]=u:c.set(g,u));for(l=0;l<f;++l)g=o.call(t,s[l],l,s)+"",(u=c.get(g))?(i[l]=u,u.__data__=s[l],c.delete(g)):n[l]=new ce(t,s[l]);for(l=0;l<d;++l)(u=e[l])&&c.get(h[l])===u&&(r[l]=u)}function ts(t){return t.__data__}function es(t,e){if(!arguments.length)return Array.from(this,ts);var n=e?Jr:Zr,i=this._parents,r=this._groups;typeof t!="function"&&(t=Qr(t));for(var s=r.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var d=i[c],f=r[c],h=f.length,g=ns(t.call(d,d&&d.__data__,c,i)),C=g.length,E=l[c]=new Array(C),k=o[c]=new Array(C),N=u[c]=new Array(h);n(d,f,E,k,N,g,e);for(var x=0,w=0,I,b;x<C;++x)if(I=E[x]){for(x>=w&&(w=x+1);!(b=k[w])&&++w<C;);I._next=b||null}}return o=new rt(o,i),o._enter=l,o._exit=u,o}function ns(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function is(){return new rt(this._exit||this._groups.map(oi),this._parents)}function rs(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function ss(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),l=new Array(r),u=0;u<o;++u)for(var c=n[u],d=i[u],f=c.length,h=l[u]=new Array(f),g,C=0;C<f;++C)(g=c[C]||d[C])&&(h[C]=g);for(;u<r;++u)l[u]=n[u];return new rt(l,this._parents)}function as(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function os(t){t||(t=ls);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],l=o.length,u=r[s]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(u[d]=c);u.sort(e)}return new rt(r,this._parents).order()}function ls(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function us(){return Array.from(this)}function ds(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function hs(){let t=0;for(const e of this)++t;return t}function fs(){return!this.node()}function ps(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,o=r.length,l;s<o;++s)(l=r[s])&&t.call(l,l.__data__,s,r);return this}function ms(t){return function(){this.removeAttribute(t)}}function gs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _s(t,e){return function(){this.setAttribute(t,e)}}function ys(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function vs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function bs(t,e){var n=_e(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?gs:ms:typeof e=="function"?n.local?vs:xs:n.local?ys:_s)(n,e))}function li(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ws(t){return function(){this.style.removeProperty(t)}}function Ns(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Cs(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ts(t,e,n){return arguments.length>1?this.each((e==null?ws:typeof e=="function"?Cs:Ns)(t,e,n??"")):jt(this.node(),t)}function jt(t,e){return t.style.getPropertyValue(e)||li(t).getComputedStyle(t,null).getPropertyValue(e)}function Ss(t){return function(){delete this[t]}}function js(t,e){return function(){this[t]=e}}function Ms(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ks(t,e){return arguments.length>1?this.each((e==null?Ss:typeof e=="function"?Ms:js)(t,e)):this.node()[t]}function ci(t){return t.trim().split(/^|\s+/)}function nn(t){return t.classList||new ui(t)}function ui(t){this._node=t,this._names=ci(t.getAttribute("class")||"")}ui.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function di(t,e){for(var n=nn(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function hi(t,e){for(var n=nn(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Is(t){return function(){di(this,t)}}function Es(t){return function(){hi(this,t)}}function Rs(t,e){return function(){(e.apply(this,arguments)?di:hi)(this,t)}}function $s(t,e){var n=ci(t+"");if(arguments.length<2){for(var i=nn(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Rs:e?Is:Es)(n,e))}function As(){this.textContent=""}function Os(t){return function(){this.textContent=t}}function Ls(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ds(t){return arguments.length?this.each(t==null?As:(typeof t=="function"?Ls:Os)(t)):this.node().textContent}function Fs(){this.innerHTML=""}function Vs(t){return function(){this.innerHTML=t}}function Ps(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zs(t){return arguments.length?this.each(t==null?Fs:(typeof t=="function"?Ps:Vs)(t)):this.node().innerHTML}function qs(){this.nextSibling&&this.parentNode.appendChild(this)}function Bs(){return this.each(qs)}function Ws(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hs(){return this.each(Ws)}function Us(t){var e=typeof t=="function"?t:ii(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Gs(){return null}function Xs(t,e){var n=typeof t=="function"?t:ii(t),i=e==null?Gs:typeof e=="function"?e:en(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ks(){var t=this.parentNode;t&&t.removeChild(this)}function Ys(){return this.each(Ks)}function Qs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Js(t){return this.select(t?Zs:Qs)}function ta(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ea(t){return function(e){t.call(this,e,this.__data__)}}function na(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function ia(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function ra(t,e,n){return function(){var i=this.__on,r,s=ea(e);if(i){for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function sa(t,e,n){var i=na(t+""),r,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(r=0,d=l[u];r<s;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(l=e?ra:ia,r=0;r<s;++r)this.each(l(i[r],e,n));return this}function fi(t,e,n){var i=li(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function aa(t,e){return function(){return fi(this,t,e)}}function oa(t,e){return function(){return fi(this,t,e.apply(this,arguments))}}function la(t,e){return this.each((typeof e=="function"?oa:aa)(t,e))}function*ca(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var pi=[null];function rt(t,e){this._groups=t,this._parents=e}function Wt(){return new rt([[document.documentElement]],pi)}function ua(){return this}rt.prototype=Wt.prototype={constructor:rt,select:Lr,selectAll:Pr,selectChild:Wr,selectChildren:Xr,filter:Kr,data:es,enter:Yr,exit:is,join:rs,merge:ss,selection:ua,order:as,sort:os,call:cs,nodes:us,node:ds,size:hs,empty:fs,each:ps,attr:bs,style:Ts,property:ks,classed:$s,text:Ds,html:zs,raise:Bs,lower:Hs,append:Us,insert:Xs,remove:Ys,clone:Js,datum:ta,on:sa,dispatch:la,[Symbol.iterator]:ca};function J(t){return typeof t=="string"?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],pi)}function da(t){let e;for(;e=t.sourceEvent;)t=e;return t}function vt(t,e){if(t=da(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}var ha={value:()=>{}};function rn(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new se(n)}function se(t){this._=t}function fa(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}se.prototype=rn.prototype={constructor:se,on:function(t,e){var n=this._,i=fa(t+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=pa(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(t=i[s]).type)n[r]=fn(n[r],t.name,e);else if(e==null)for(r in n)n[r]=fn(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new se(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function pa(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function fn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ha,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}const qe={capture:!0,passive:!1};function Be(t){t.preventDefault(),t.stopImmediatePropagation()}function ma(t){var e=t.document.documentElement,n=J(t).on("dragstart.drag",Be,qe);"onselectstart"in e?n.on("selectstart.drag",Be,qe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ga(t,e){var n=t.document.documentElement,i=J(t).on("dragstart.drag",null);e&&(i.on("click.drag",Be,qe),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function sn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mi(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ht(){}var Ft=.7,ue=1/Ft,St="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_a=/^#([0-9a-f]{3,8})$/,ya=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),xa=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),va=new RegExp(`^rgba\\(${St},${St},${St},${Vt}\\)$`),ba=new RegExp(`^rgba\\(${ct},${ct},${ct},${Vt}\\)$`),wa=new RegExp(`^hsl\\(${Vt},${ct},${ct}\\)$`),Na=new RegExp(`^hsla\\(${Vt},${ct},${ct},${Vt}\\)$`),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(Ht,Pt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mn,formatHex:mn,formatHex8:Ca,formatHsl:Ta,formatRgb:gn,toString:gn});function mn(){return this.rgb().formatHex()}function Ca(){return this.rgb().formatHex8()}function Ta(){return gi(this).formatHsl()}function gn(){return this.rgb().formatRgb()}function Pt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_a.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_n(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ut(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ut(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ya.exec(t))?new tt(e[1],e[2],e[3],1):(e=xa.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=va.exec(t))?Ut(e[1],e[2],e[3],e[4]):(e=ba.exec(t))?Ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wa.exec(t))?vn(e[1],e[2]/100,e[3]/100,1):(e=Na.exec(t))?vn(e[1],e[2]/100,e[3]/100,e[4]):pn.hasOwnProperty(t)?_n(pn[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function _n(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function Ut(t,e,n,i){return i<=0&&(t=e=n=NaN),new tt(t,e,n,i)}function Sa(t){return t instanceof Ht||(t=Pt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function We(t,e,n,i){return arguments.length===1?Sa(t):new tt(t,e,n,i??1)}function tt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}sn(tt,We,mi(Ht,{brighter(t){return t=t==null?ue:Math.pow(ue,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ft:Math.pow(Ft,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Nt(this.r),Nt(this.g),Nt(this.b),de(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yn,formatHex:yn,formatHex8:ja,formatRgb:xn,toString:xn}));function yn(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}`}function ja(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}${wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function xn(){const t=de(this.opacity);return`${t===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${t===1?")":`, ${t})`}`}function de(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wt(t){return t=Nt(t),(t<16?"0":"")+t.toString(16)}function vn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ot(t,e,n,i)}function gi(t){if(t instanceof ot)return new ot(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=Pt(t)),!t)return new ot;if(t instanceof ot)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,l=s-r,u=(s+r)/2;return l?(e===s?o=(n-i)/l+(n<i)*6:n===s?o=(i-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+r:2-s-r,o*=60):l=u>0&&u<1?0:o,new ot(o,l,u,t.opacity)}function Ma(t,e,n,i){return arguments.length===1?gi(t):new ot(t,e,n,i??1)}function ot(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}sn(ot,Ma,mi(Ht,{brighter(t){return t=t==null?ue:Math.pow(ue,t),new ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ft:Math.pow(Ft,t),new ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new tt(Ce(t>=240?t-240:t+120,r,i),Ce(t,r,i),Ce(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ot(bn(this.h),Gt(this.s),Gt(this.l),de(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=de(this.opacity);return`${t===1?"hsl(":"hsla("}${bn(this.h)}, ${Gt(this.s)*100}%, ${Gt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bn(t){return t=(t||0)%360,t<0?t+360:t}function Gt(t){return Math.max(0,Math.min(1,t||0))}function Ce(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _i=t=>()=>t;function ka(t,e){return function(n){return t+n*e}}function Ia(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Ea(t){return(t=+t)==1?yi:function(e,n){return n-e?Ia(e,n,t):_i(isNaN(e)?n:e)}}function yi(t,e){var n=e-t;return n?ka(t,n):_i(isNaN(t)?e:t)}const wn=function t(e){var n=Ea(e);function i(r,s){var o=n((r=We(r)).r,(s=We(s)).r),l=n(r.g,s.g),u=n(r.b,s.b),c=yi(r.opacity,s.opacity);return function(d){return r.r=o(d),r.g=l(d),r.b=u(d),r.opacity=c(d),r+""}}return i.gamma=t,i}(1);function yt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var He=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Te=new RegExp(He.source,"g");function Ra(t){return function(){return t}}function $a(t){return function(e){return t(e)+""}}function Aa(t,e){var n=He.lastIndex=Te.lastIndex=0,i,r,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(i=He.exec(t))&&(r=Te.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,u.push({i:o,x:yt(i,r)})),n=Te.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?$a(u[0].x):Ra(e):(e=u.length,function(c){for(var d=0,f;d<e;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}var Nn=180/Math.PI,Ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(t,e,n,i,r,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),t*i<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Nn,skewX:Math.atan(u)*Nn,scaleX:o,scaleY:l}}var Xt;function Oa(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ue:xi(e.a,e.b,e.c,e.d,e.e,e.f)}function La(t){return t==null||(Xt||(Xt=document.createElementNS("http://www.w3.org/2000/svg","g")),Xt.setAttribute("transform",t),!(t=Xt.transform.baseVal.consolidate()))?Ue:(t=t.matrix,xi(t.a,t.b,t.c,t.d,t.e,t.f))}function vi(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,d,f,h,g,C){if(c!==f||d!==h){var E=g.push("translate(",null,e,null,n);C.push({i:E-4,x:yt(c,f)},{i:E-2,x:yt(d,h)})}else(f||h)&&g.push("translate("+f+e+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:yt(c,d)})):d&&f.push(r(f)+"rotate("+d+i)}function l(c,d,f,h){c!==d?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:yt(c,d)}):d&&f.push(r(f)+"skewX("+d+i)}function u(c,d,f,h,g,C){if(c!==f||d!==h){var E=g.push(r(g)+"scale(",null,",",null,")");C.push({i:E-4,x:yt(c,f)},{i:E-2,x:yt(d,h)})}else(f!==1||h!==1)&&g.push(r(g)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(g){for(var C=-1,E=h.length,k;++C<E;)f[(k=h[C]).i]=k.x(g);return f.join("")}}}var Da=vi(Oa,"px, ","px)","deg)"),Fa=vi(La,", ",")",")"),Va=1e-12;function Cn(t){return((t=Math.exp(t))+1/t)/2}function Pa(t){return((t=Math.exp(t))-1/t)/2}function za(t){return((t=Math.exp(2*t))-1)/(t+1)}const qa=function t(e,n,i){function r(s,o){var l=s[0],u=s[1],c=s[2],d=o[0],f=o[1],h=o[2],g=d-l,C=f-u,E=g*g+C*C,k,N;if(E<Va)N=Math.log(h/c)/e,k=function(y){return[l+y*g,u+y*C,c*Math.exp(e*y*N)]};else{var x=Math.sqrt(E),w=(h*h-c*c+i*E)/(2*c*n*x),I=(h*h-c*c-i*E)/(2*h*n*x),b=Math.log(Math.sqrt(w*w+1)-w),m=Math.log(Math.sqrt(I*I+1)-I);N=(m-b)/e,k=function(y){var _=y*N,M=Cn(b),S=c/(n*x)*(M*za(e*_+b)-Pa(b));return[l+S*g,u+S*C,c*M/Cn(e*_+b)]}}return k.duration=N*1e3*e/Math.SQRT2,k}return r.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},r}(Math.SQRT2,2,4);var Mt=0,At=0,Et=0,bi=1e3,he,Ot,fe=0,Ct=0,ye=0,zt=typeof performance=="object"&&performance.now?performance:Date,wi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function an(){return Ct||(wi(Ba),Ct=zt.now()+ye)}function Ba(){Ct=0}function pe(){this._call=this._time=this._next=null}pe.prototype=Ni.prototype={constructor:pe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?an():+n)+(e==null?0:+e),!this._next&&Ot!==this&&(Ot?Ot._next=this:he=this,Ot=this),this._call=t,this._time=n,Ge()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ge())}};function Ni(t,e,n){var i=new pe;return i.restart(t,e,n),i}function Wa(){an(),++Mt;for(var t=he,e;t;)(e=Ct-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mt}function Tn(){Ct=(fe=zt.now())+ye,Mt=At=0;try{Wa()}finally{Mt=0,Ua(),Ct=0}}function Ha(){var t=zt.now(),e=t-fe;e>bi&&(ye-=e,fe=t)}function Ua(){for(var t,e=he,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:he=n);Ot=t,Ge(i)}function Ge(t){if(!Mt){At&&(At=clearTimeout(At));var e=t-Ct;e>24?(t<1/0&&(At=setTimeout(Tn,t-zt.now()-ye)),Et&&(Et=clearInterval(Et))):(Et||(fe=zt.now(),Et=setInterval(Ha,bi)),Mt=1,wi(Tn))}}function Sn(t,e,n){var i=new pe;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Ga=rn("start","end","cancel","interrupt"),Xa=[],Ci=0,jn=1,Xe=2,ae=3,Mn=4,Ke=5,oe=6;function xe(t,e,n,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Ka(t,n,{name:e,index:i,group:r,on:Ga,tween:Xa,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ci})}function on(t,e){var n=lt(t,e);if(n.state>Ci)throw new Error("too late; already scheduled");return n}function ut(t,e){var n=lt(t,e);if(n.state>ae)throw new Error("too late; already running");return n}function lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ka(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Ni(s,0,n.time);function s(c){n.state=jn,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,g;if(n.state!==jn)return u();for(d in i)if(g=i[d],g.name===n.name){if(g.state===ae)return Sn(o);g.state===Mn?(g.state=oe,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[d]):+d<e&&(g.state=oe,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[d])}if(Sn(function(){n.state===ae&&(n.state=Mn,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Xe,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xe){for(n.state=ae,r=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=g);r.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ke,1),f=-1,h=r.length;++f<h;)r[f].call(t,d);n.state===Ke&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=oe,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function le(t,e){var n=t.__transition,i,r,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}r=i.state>Xe&&i.state<Ke,i.state=oe,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}s&&delete t.__transition}}function Ya(t){return this.each(function(){le(this,t)})}function Qa(t,e){var n,i;return function(){var r=ut(this,t),s=r.tween;if(s!==n){i=n=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Za(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=ut(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var l={name:e,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=l;break}u===c&&r.push(l)}s.tween=r}}function Ja(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=lt(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?Qa:Za)(n,t,e))}function ln(t,e,n){var i=t._id;return t.each(function(){var r=ut(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return lt(r,i).value[e]}}function Ti(t,e){var n;return(typeof e=="number"?yt:e instanceof Pt?wn:(n=Pt(e))?(e=n,wn):Aa)(t,e)}function to(t){return function(){this.removeAttribute(t)}}function eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function no(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=e(i=o,n)}}function io(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=e(i=o,n)}}function ro(t,e,n){var i,r,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,l)))}}function so(t,e,n){var i,r,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,l)))}}function ao(t,e){var n=_e(t),i=n==="transform"?Fa:Ti;return this.attrTween(t,typeof e=="function"?(n.local?so:ro)(n,i,ln(this,"attr."+t,e)):e==null?(n.local?eo:to)(n):(n.local?io:no)(n,i,e))}function oo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function lo(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function co(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&lo(t,s)),n}return r._value=e,r}function uo(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&oo(t,s)),n}return r._value=e,r}function ho(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=_e(t);return this.tween(n,(i.local?co:uo)(i,e))}function fo(t,e){return function(){on(this,t).delay=+e.apply(this,arguments)}}function po(t,e){return e=+e,function(){on(this,t).delay=e}}function mo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fo:po)(e,t)):lt(this.node(),e).delay}function go(t,e){return function(){ut(this,t).duration=+e.apply(this,arguments)}}function _o(t,e){return e=+e,function(){ut(this,t).duration=e}}function yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?go:_o)(e,t)):lt(this.node(),e).duration}function xo(t,e){if(typeof e!="function")throw new Error;return function(){ut(this,t).ease=e}}function vo(t){var e=this._id;return arguments.length?this.each(xo(e,t)):lt(this.node(),e).ease}function bo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ut(this,t).ease=n}}function wo(t){if(typeof t!="function")throw new Error;return this.each(bo(this._id,t))}function No(t){typeof t!="function"&&(t=si(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new _t(i,this._parents,this._name,this._id)}function Co(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var u=e[l],c=n[l],d=u.length,f=o[l]=new Array(d),h,g=0;g<d;++g)(h=u[g]||c[g])&&(f[g]=h);for(;l<i;++l)o[l]=e[l];return new _t(o,this._parents,this._name,this._id)}function To(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function So(t,e,n){var i,r,s=To(e)?on:ut;return function(){var o=s(this,t),l=o.on;l!==i&&(r=(i=l).copy()).on(e,n),o.on=r}}function jo(t,e){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(t):this.each(So(n,t,e))}function Mo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ko(){return this.on("end.remove",Mo(this._id))}function Io(t){var e=this._name,n=this._id;typeof t!="function"&&(t=en(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var l=i[o],u=l.length,c=s[o]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=t.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,xe(c[h],e,n,h,c,lt(d,n)));return new _t(s,this._parents,e,n)}function Eo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ri(t));for(var i=this._groups,r=i.length,s=[],o=[],l=0;l<r;++l)for(var u=i[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=t.call(d,d.__data__,f,u),g,C=lt(d,n),E=0,k=h.length;E<k;++E)(g=h[E])&&xe(g,e,n,E,h,C);s.push(h),o.push(d)}return new _t(s,o,e,n)}var Ro=Wt.prototype.constructor;function $o(){return new Ro(this._groups,this._parents)}function Ao(t,e){var n,i,r;return function(){var s=jt(this,t),o=(this.style.removeProperty(t),jt(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}function Si(t){return function(){this.style.removeProperty(t)}}function Oo(t,e,n){var i,r=n+"",s;return function(){var o=jt(this,t);return o===r?null:o===i?s:s=e(i=o,n)}}function Lo(t,e,n){var i,r,s;return function(){var o=jt(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),jt(this,t))),o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,l))}}function Do(t,e){var n,i,r,s="style."+e,o="end."+s,l;return function(){var u=ut(this,t),c=u.on,d=u.value[s]==null?l||(l=Si(e)):void 0;(c!==n||r!==d)&&(i=(n=c).copy()).on(o,r=d),u.on=i}}function Fo(t,e,n){var i=(t+="")=="transform"?Da:Ti;return e==null?this.styleTween(t,Ao(t,i)).on("end.style."+t,Si(t)):typeof e=="function"?this.styleTween(t,Lo(t,i,ln(this,"style."+t,e))).each(Do(this._id,t)):this.styleTween(t,Oo(t,i,e),n).on("end.style."+t,null)}function Vo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Po(t,e,n){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Vo(t,o,n)),i}return s._value=e,s}function zo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Po(t,e,n??""))}function qo(t){return function(){this.textContent=t}}function Bo(t){return function(){var e=t(this);this.textContent=e??""}}function Wo(t){return this.tween("text",typeof t=="function"?Bo(ln(this,"text",t)):qo(t==null?"":t+""))}function Ho(t){return function(e){this.textContent=t.call(this,e)}}function Uo(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ho(r)),e}return i._value=t,i}function Go(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Uo(t))}function Xo(){for(var t=this._name,e=this._id,n=ji(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var d=lt(u,e);xe(u,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new _t(i,this._parents,t,n)}function Ko(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--r===0&&s()}};n.each(function(){var c=ut(this,i),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),r===0&&s()})}var Yo=0;function _t(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ji(){return++Yo}var ft=Wt.prototype;_t.prototype={constructor:_t,select:Io,selectAll:Eo,selectChild:ft.selectChild,selectChildren:ft.selectChildren,filter:No,merge:Co,selection:$o,transition:Xo,call:ft.call,nodes:ft.nodes,node:ft.node,size:ft.size,empty:ft.empty,each:ft.each,on:jo,attr:ao,attrTween:ho,style:Fo,styleTween:zo,text:Wo,textTween:Go,remove:ko,tween:Ja,delay:mo,duration:yo,ease:vo,easeVarying:wo,end:Ko,[Symbol.iterator]:ft[Symbol.iterator]};function Qo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Zo={time:null,delay:0,duration:250,ease:Qo};function Jo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function tl(t){var e,n;t instanceof _t?(e=t._id,t=t._name):(e=ji(),(n=Zo).time=an(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&xe(u,t,e,c,o,n||Jo(u,e));return new _t(i,this._parents,t,e)}Wt.prototype.interrupt=Ya;Wt.prototype.transition=tl;const Kt=t=>()=>t;function el(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function gt(t,e,n){this.k=t,this.x=e,this.y=n}gt.prototype={constructor:gt,scale:function(t){return t===1?this:new gt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new gt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var me=new gt(1,0,0);gt.prototype;function Se(t){t.stopImmediatePropagation()}function Rt(t){t.preventDefault(),t.stopImmediatePropagation()}function nl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function il(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function kn(){return this.__zoom||me}function rl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sl(){return navigator.maxTouchPoints||"ontouchstart"in this}function al(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function je(){var t=nl,e=il,n=al,i=rl,r=sl,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=qa,c=rn("start","zoom","end"),d,f,h,g=500,C=150,E=0,k=10;function N(p){p.property("__zoom",kn).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(r).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(p,T,v,j){var $=p.selection?p.selection():p;$.property("__zoom",kn),p!==$?b(p,T,v,j):$.interrupt().each(function(){m(this,arguments).event(j).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},N.scaleBy=function(p,T,v,j){N.scaleTo(p,function(){var $=this.__zoom.k,O=typeof T=="function"?T.apply(this,arguments):T;return $*O},v,j)},N.scaleTo=function(p,T,v,j){N.transform(p,function(){var $=e.apply(this,arguments),O=this.__zoom,F=v==null?I($):typeof v=="function"?v.apply(this,arguments):v,B=O.invert(F),G=typeof T=="function"?T.apply(this,arguments):T;return n(w(x(O,G),F,B),$,o)},v,j)},N.translateBy=function(p,T,v,j){N.transform(p,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof v=="function"?v.apply(this,arguments):v),e.apply(this,arguments),o)},null,j)},N.translateTo=function(p,T,v,j,$){N.transform(p,function(){var O=e.apply(this,arguments),F=this.__zoom,B=j==null?I(O):typeof j=="function"?j.apply(this,arguments):j;return n(me.translate(B[0],B[1]).scale(F.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof v=="function"?-v.apply(this,arguments):-v),O,o)},j,$)};function x(p,T){return T=Math.max(s[0],Math.min(s[1],T)),T===p.k?p:new gt(T,p.x,p.y)}function w(p,T,v){var j=T[0]-v[0]*p.k,$=T[1]-v[1]*p.k;return j===p.x&&$===p.y?p:new gt(p.k,j,$)}function I(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function b(p,T,v,j){p.on("start.zoom",function(){m(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){m(this,arguments).event(j).end()}).tween("zoom",function(){var $=this,O=arguments,F=m($,O).event(j),B=e.apply($,O),G=v==null?I(B):typeof v=="function"?v.apply($,O):v,et=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),K=$.__zoom,nt=typeof T=="function"?T.apply($,O):T,dt=u(K.invert(G).concat(et/K.k),nt.invert(G).concat(et/nt.k));return function(st){if(st===1)st=nt;else{var ht=dt(st),be=et/ht[2];st=new gt(be,G[0]-ht[0]*be,G[1]-ht[1]*be)}F.zoom(null,st)}})}function m(p,T,v){return!v&&p.__zooming||new y(p,T)}function y(p,T){this.that=p,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,T),this.taps=0}y.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,T){return this.mouse&&p!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var T=J(this.that).datum();c.call(p,this.that,new el(p,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:c}),T)}};function _(p,...T){if(!t.apply(this,arguments))return;var v=m(this,T).event(p),j=this.__zoom,$=Math.max(s[0],Math.min(s[1],j.k*Math.pow(2,i.apply(this,arguments)))),O=vt(p);if(v.wheel)(v.mouse[0][0]!==O[0]||v.mouse[0][1]!==O[1])&&(v.mouse[1]=j.invert(v.mouse[0]=O)),clearTimeout(v.wheel);else{if(j.k===$)return;v.mouse=[O,j.invert(O)],le(this),v.start()}Rt(p),v.wheel=setTimeout(F,C),v.zoom("mouse",n(w(x(j,$),v.mouse[0],v.mouse[1]),v.extent,o));function F(){v.wheel=null,v.end()}}function M(p,...T){if(h||!t.apply(this,arguments))return;var v=p.currentTarget,j=m(this,T,!0).event(p),$=J(p.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",et,!0),O=vt(p,v),F=p.clientX,B=p.clientY;ma(p.view),Se(p),j.mouse=[O,this.__zoom.invert(O)],le(this),j.start();function G(K){if(Rt(K),!j.moved){var nt=K.clientX-F,dt=K.clientY-B;j.moved=nt*nt+dt*dt>E}j.event(K).zoom("mouse",n(w(j.that.__zoom,j.mouse[0]=vt(K,v),j.mouse[1]),j.extent,o))}function et(K){$.on("mousemove.zoom mouseup.zoom",null),ga(K.view,j.moved),Rt(K),j.event(K).end()}}function S(p,...T){if(t.apply(this,arguments)){var v=this.__zoom,j=vt(p.changedTouches?p.changedTouches[0]:p,this),$=v.invert(j),O=v.k*(p.shiftKey?.5:2),F=n(w(x(v,O),j,$),e.apply(this,T),o);Rt(p),l>0?J(this).transition().duration(l).call(b,F,j,p):J(this).call(N.transform,F,j,p)}}function A(p,...T){if(t.apply(this,arguments)){var v=p.touches,j=v.length,$=m(this,T,p.changedTouches.length===j).event(p),O,F,B,G;for(Se(p),F=0;F<j;++F)B=v[F],G=vt(B,this),G=[G,this.__zoom.invert(G),B.identifier],$.touch0?!$.touch1&&$.touch0[2]!==G[2]&&($.touch1=G,$.taps=0):($.touch0=G,O=!0,$.taps=1+!!d);d&&(d=clearTimeout(d)),O&&($.taps<2&&(f=G[0],d=setTimeout(function(){d=null},g)),le(this),$.start())}}function L(p,...T){if(this.__zooming){var v=m(this,T).event(p),j=p.changedTouches,$=j.length,O,F,B,G;for(Rt(p),O=0;O<$;++O)F=j[O],B=vt(F,this),v.touch0&&v.touch0[2]===F.identifier?v.touch0[0]=B:v.touch1&&v.touch1[2]===F.identifier&&(v.touch1[0]=B);if(F=v.that.__zoom,v.touch1){var et=v.touch0[0],K=v.touch0[1],nt=v.touch1[0],dt=v.touch1[1],st=(st=nt[0]-et[0])*st+(st=nt[1]-et[1])*st,ht=(ht=dt[0]-K[0])*ht+(ht=dt[1]-K[1])*ht;F=x(F,Math.sqrt(st/ht)),B=[(et[0]+nt[0])/2,(et[1]+nt[1])/2],G=[(K[0]+dt[0])/2,(K[1]+dt[1])/2]}else if(v.touch0)B=v.touch0[0],G=v.touch0[1];else return;v.zoom("touch",n(w(F,B,G),v.extent,o))}}function W(p,...T){if(this.__zooming){var v=m(this,T).event(p),j=p.changedTouches,$=j.length,O,F;for(Se(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),O=0;O<$;++O)F=j[O],v.touch0&&v.touch0[2]===F.identifier?delete v.touch0:v.touch1&&v.touch1[2]===F.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(F=vt(F,this),Math.hypot(f[0]-F[0],f[1]-F[1])<k)){var B=J(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return N.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:Kt(+p),N):i},N.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Kt(!!p),N):t},N.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Kt(!!p),N):r},N.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Kt([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),N):e},N.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],N):[s[0],s[1]]},N.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],N):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},N.constrain=function(p){return arguments.length?(n=p,N):n},N.duration=function(p){return arguments.length?(l=+p,N):l},N.interpolate=function(p){return arguments.length?(u=p,N):u},N.on=function(){var p=c.on.apply(c,arguments);return p===c?N:p},N.clickDistance=function(p){return arguments.length?(E=(p=+p)*p,N):Math.sqrt(E)},N.tapDistance=function(p){return arguments.length?(k=+p,N):k},N}var In=Object.prototype.hasOwnProperty;function Lt(t,e){var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Lt(t[i],e[i]););return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(In.call(t,n)&&++i&&!In.call(e,n)||!(n in e)||!Lt(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}var Me={exports:{}},En;function ol(){return En||(En=1,function(t){var e=function(){function n(h,g){return g!=null&&h instanceof g}var i;try{i=Map}catch{i=function(){}}var r;try{r=Set}catch{r=function(){}}var s;try{s=Promise}catch{s=function(){}}function o(h,g,C,E,k){typeof g=="object"&&(C=g.depth,E=g.prototype,k=g.includeNonEnumerable,g=g.circular);var N=[],x=[],w=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof C>"u"&&(C=1/0);function I(b,m){if(b===null)return null;if(m===0)return b;var y,_;if(typeof b!="object")return b;if(n(b,i))y=new i;else if(n(b,r))y=new r;else if(n(b,s))y=new s(function(j,$){b.then(function(O){j(I(O,m-1))},function(O){$(I(O,m-1))})});else if(o.__isArray(b))y=[];else if(o.__isRegExp(b))y=new RegExp(b.source,f(b)),b.lastIndex&&(y.lastIndex=b.lastIndex);else if(o.__isDate(b))y=new Date(b.getTime());else{if(w&&Buffer.isBuffer(b))return Buffer.allocUnsafe?y=Buffer.allocUnsafe(b.length):y=new Buffer(b.length),b.copy(y),y;n(b,Error)?y=Object.create(b):typeof E>"u"?(_=Object.getPrototypeOf(b),y=Object.create(_)):(y=Object.create(E),_=E)}if(g){var M=N.indexOf(b);if(M!=-1)return x[M];N.push(b),x.push(y)}n(b,i)&&b.forEach(function(j,$){var O=I($,m-1),F=I(j,m-1);y.set(O,F)}),n(b,r)&&b.forEach(function(j){var $=I(j,m-1);y.add($)});for(var S in b){var A;_&&(A=Object.getOwnPropertyDescriptor(_,S)),!(A&&A.set==null)&&(y[S]=I(b[S],m-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(b),S=0;S<L.length;S++){var W=L[S],p=Object.getOwnPropertyDescriptor(b,W);p&&!p.enumerable&&!k||(y[W]=I(b[W],m-1),p.enumerable||Object.defineProperty(y,W,{enumerable:!1}))}if(k)for(var T=Object.getOwnPropertyNames(b),S=0;S<T.length;S++){var v=T[S],p=Object.getOwnPropertyDescriptor(b,v);p&&p.enumerable||(y[v]=I(b[v],m-1),Object.defineProperty(y,v,{enumerable:!1}))}return y}return I(h,C)}o.clonePrototype=function(g){if(g===null)return null;var C=function(){};return C.prototype=g,new C};function l(h){return Object.prototype.toString.call(h)}o.__objToStr=l;function u(h){return typeof h=="object"&&l(h)==="[object Date]"}o.__isDate=u;function c(h){return typeof h=="object"&&l(h)==="[object Array]"}o.__isArray=c;function d(h){return typeof h=="object"&&l(h)==="[object RegExp]"}o.__isRegExp=d;function f(h){var g="";return h.global&&(g+="g"),h.ignoreCase&&(g+="i"),h.multiline&&(g+="m"),g}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)}(Me)),Me.exports}var ll=ol();const Z=Hi(ll);var Yt,cl=new Uint8Array(16);function ul(){if(!Yt&&(Yt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yt(cl)}const dl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hl(t){return typeof t=="string"&&dl.test(t)}var Q=[];for(var ke=0;ke<256;++ke)Q.push((ke+256).toString(16).substr(1));function fl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Q[t[e+0]]+Q[t[e+1]]+Q[t[e+2]]+Q[t[e+3]]+"-"+Q[t[e+4]]+Q[t[e+5]]+"-"+Q[t[e+6]]+Q[t[e+7]]+"-"+Q[t[e+8]]+Q[t[e+9]]+"-"+Q[t[e+10]]+Q[t[e+11]]+Q[t[e+12]]+Q[t[e+13]]+Q[t[e+14]]+Q[t[e+15]]).toLowerCase();if(!hl(n))throw TypeError("Stringified UUID is invalid");return n}function Ie(t,e,n){t=t||{};var i=t.random||(t.rng||ul)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,fl(i)}var Qt={exports:{}},Ee={exports:{}},Re,Rn;function pl(){if(Rn)return Re;Rn=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Re=t,Re}var $e,$n;function ml(){if($n)return $e;$n=1;var t=pl();function e(){}function n(){}return n.resetWarningCache=e,$e=function(){function i(o,l,u,c,d,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},$e}var An;function ve(){return An||(An=1,Ee.exports=ml()()),Ee.exports}var Zt={exports:{}},Ae,On;function gl(){return On||(On=1,Ae=function(){for(var e=arguments.length,n=[],i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(r){return r!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(r,s){return function(){r.apply(this,arguments),s.apply(this,arguments)}})}),Ae}var Oe,Ln;function _l(){if(Ln)return Oe;Ln=1;var t=function(){};return Oe=t,Oe}function Mi(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function ki(t){function e(n){var i=this.constructor.getDerivedStateFromProps(t,n);return i??null}this.setState(e.bind(this))}function Ii(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}Mi.__suppressDeprecationWarning=!0;ki.__suppressDeprecationWarning=!0;Ii.__suppressDeprecationWarning=!0;function yl(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,i=null,r=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Mi,e.componentWillReceiveProps=ki),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Ii;var l=e.componentDidUpdate;e.componentDidUpdate=function(c,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,c,d,h)}}return t}const xl=Object.freeze(Object.defineProperty({__proto__:null,polyfill:yl},Symbol.toStringTag,{value:"Module"})),vl=Ui(xl);var $t={},Dn;function bl(){if(Dn)return $t;Dn=1,$t.__esModule=!0,$t.getChildMapping=e,$t.mergeChildMappings=n;var t=Bt();function e(i){if(!i)return i;var r={};return t.Children.map(i,function(s){return s}).forEach(function(s){r[s.key]=s}),r}function n(i,r){i=i||{},r=r||{};function s(g){return r.hasOwnProperty(g)?r[g]:i[g]}var o={},l=[];for(var u in i)r.hasOwnProperty(u)?l.length&&(o[u]=l,l=[]):l.push(u);var c=void 0,d={};for(var f in r){if(o.hasOwnProperty(f))for(c=0;c<o[f].length;c++){var h=o[f][c];d[o[f][c]]=s(h)}d[f]=s(f)}for(c=0;c<l.length;c++)d[l[c]]=s(l[c]);return d}return $t}var Fn;function Ei(){return Fn||(Fn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(x){for(var w=1;w<arguments.length;w++){var I=arguments[w];for(var b in I)Object.prototype.hasOwnProperty.call(I,b)&&(x[b]=I[b])}return x},i=gl(),r=h(i),s=Bt(),o=h(s),l=ve(),u=h(l),c=_l();h(c);var d=vl,f=bl();function h(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function C(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function E(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}u.default.any,u.default.func,u.default.node;var k={component:"span",childFactory:function(w){return w}},N=function(x){E(w,x);function w(I,b){g(this,w);var m=C(this,x.call(this,I,b));return m.performAppear=function(y,_){m.currentlyTransitioningKeys[y]=!0,_.componentWillAppear?_.componentWillAppear(m._handleDoneAppearing.bind(m,y,_)):m._handleDoneAppearing(y,_)},m._handleDoneAppearing=function(y,_){_&&_.componentDidAppear&&_.componentDidAppear(),delete m.currentlyTransitioningKeys[y];var M=(0,f.getChildMapping)(m.props.children);(!M||!M.hasOwnProperty(y))&&m.performLeave(y,_)},m.performEnter=function(y,_){m.currentlyTransitioningKeys[y]=!0,_.componentWillEnter?_.componentWillEnter(m._handleDoneEntering.bind(m,y,_)):m._handleDoneEntering(y,_)},m._handleDoneEntering=function(y,_){_&&_.componentDidEnter&&_.componentDidEnter(),delete m.currentlyTransitioningKeys[y];var M=(0,f.getChildMapping)(m.props.children);(!M||!M.hasOwnProperty(y))&&m.performLeave(y,_)},m.performLeave=function(y,_){m.currentlyTransitioningKeys[y]=!0,_&&_.componentWillLeave?_.componentWillLeave(m._handleDoneLeaving.bind(m,y,_)):m._handleDoneLeaving(y,_)},m._handleDoneLeaving=function(y,_){_&&_.componentDidLeave&&_.componentDidLeave(),delete m.currentlyTransitioningKeys[y];var M=(0,f.getChildMapping)(m.props.children);M&&M.hasOwnProperty(y)?m.keysToEnter.push(y):m.setState(function(S){var A=n({},S.children);return delete A[y],{children:A}})},m.childRefs=Object.create(null),m.currentlyTransitioningKeys={},m.keysToEnter=[],m.keysToLeave=[],m.state={children:(0,f.getChildMapping)(I.children)},m}return w.prototype.componentDidMount=function(){var b=this.state.children;for(var m in b)b[m]&&this.performAppear(m,this.childRefs[m])},w.getDerivedStateFromProps=function(b,m){var y=(0,f.getChildMapping)(b.children),_=m.children;return{children:(0,f.mergeChildMappings)(_,y)}},w.prototype.componentDidUpdate=function(b,m){var y=this,_=(0,f.getChildMapping)(this.props.children),M=m.children;for(var S in _){var A=M&&M.hasOwnProperty(S);_[S]&&!A&&!this.currentlyTransitioningKeys[S]&&this.keysToEnter.push(S)}for(var L in M){var W=_&&_.hasOwnProperty(L);M[L]&&!W&&!this.currentlyTransitioningKeys[L]&&this.keysToLeave.push(L)}var p=this.keysToEnter;this.keysToEnter=[],p.forEach(function(v){return y.performEnter(v,y.childRefs[v])});var T=this.keysToLeave;this.keysToLeave=[],T.forEach(function(v){return y.performLeave(v,y.childRefs[v])})},w.prototype.render=function(){var b=this,m=[],y=function(A){var L=b.state.children[A];if(L){var W=typeof L.ref!="string",p=b.props.childFactory(L),T=function(j){b.childRefs[A]=j};p===L&&W&&(T=(0,r.default)(L.ref,T)),m.push(o.default.cloneElement(p,{key:A,ref:T}))}};for(var _ in this.state.children)y(_);var M=n({},this.props);return delete M.transitionLeave,delete M.transitionName,delete M.transitionAppear,delete M.transitionEnter,delete M.childFactory,delete M.transitionLeaveTimeout,delete M.transitionEnterTimeout,delete M.transitionAppearTimeout,delete M.component,o.default.createElement(this.props.component,M,m)},w}(o.default.Component);N.displayName="TransitionGroup",N.propTypes={},N.defaultProps=k,e.default=(0,d.polyfill)(N),t.exports=e.default}(Zt,Zt.exports)),Zt.exports}var Jt={exports:{}},te={exports:{}},Le={exports:{}},Vn;function cn(){return Vn||(Vn=1,function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Le)),Le.exports}var ee={exports:{}},Pn;function wl(){return Pn||(Pn=1,function(t,e){e.__esModule=!0,e.default=n;function n(i,r){return i.classList?!!r&&i.classList.contains(r):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+r+" ")!==-1}t.exports=e.default}(ee,ee.exports)),ee.exports}var zn;function Nl(){return zn||(zn=1,function(t,e){var n=cn();e.__esModule=!0,e.default=r;var i=n(wl());function r(s,o){s.classList?s.classList.add(o):(0,i.default)(s,o)||(typeof s.className=="string"?s.className=s.className+" "+o:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+o))}t.exports=e.default}(te,te.exports)),te.exports}var De,qn;function Cl(){if(qn)return De;qn=1;function t(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}return De=function(n,i){n.classList?n.classList.remove(i):typeof n.className=="string"?n.className=t(n.className,i):n.setAttribute("class",t(n.className&&n.className.baseVal||"",i))},De}var ne={exports:{}},ie={exports:{}},Bn;function Ri(){return Bn||(Bn=1,function(t,e){e.__esModule=!0,e.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);e.default=n,t.exports=e.default}(ie,ie.exports)),ie.exports}var Wn;function Tl(){return Wn||(Wn=1,function(t,e){var n=cn();e.__esModule=!0,e.default=void 0;var i=n(Ri()),r=["","webkit","moz","o","ms"],s="clearTimeout",o=d,l,u=function(g,C){return g+(g?C[0].toUpperCase()+C.substr(1):C)+"AnimationFrame"};i.default&&r.some(function(h){var g=u(h,"request");if(g in window)return s=u(h,"cancel"),o=function(E){return window[g](E)}});var c=new Date().getTime();function d(h){var g=new Date().getTime(),C=Math.max(0,16-(g-c)),E=setTimeout(h,C);return c=g,E}l=function(g){return o(g)},l.cancel=function(h){window[s]&&typeof window[s]=="function"&&window[s](h)};var f=l;e.default=f,t.exports=e.default}(ne,ne.exports)),ne.exports}var P={},Hn;function Sl(){if(Hn)return P;Hn=1;var t=cn();P.__esModule=!0,P.default=P.animationEnd=P.animationDelay=P.animationTiming=P.animationDuration=P.animationName=P.transitionEnd=P.transitionDuration=P.transitionDelay=P.transitionTiming=P.transitionProperty=P.transform=void 0;var e=t(Ri()),n="transform";P.transform=n;var i,r,s;P.animationEnd=s,P.transitionEnd=r;var o,l,u,c;P.transitionDelay=c,P.transitionTiming=u,P.transitionDuration=l,P.transitionProperty=o;var d,f,h,g;if(P.animationDelay=g,P.animationTiming=h,P.animationDuration=f,P.animationName=d,e.default){var C=k();i=C.prefix,P.transitionEnd=r=C.transitionEnd,P.animationEnd=s=C.animationEnd,P.transform=n=i+"-"+n,P.transitionProperty=o=i+"-transition-property",P.transitionDuration=l=i+"-transition-duration",P.transitionDelay=c=i+"-transition-delay",P.transitionTiming=u=i+"-transition-timing-function",P.animationName=d=i+"-animation-name",P.animationDuration=f=i+"-animation-duration",P.animationTiming=h=i+"-animation-delay",P.animationDelay=g=i+"-animation-timing-function"}var E={transform:n,end:r,property:o,timing:u,delay:c,duration:l};P.default=E;function k(){for(var N=document.createElement("div").style,x={O:function(S){return"o"+S.toLowerCase()},Moz:function(S){return S.toLowerCase()},Webkit:function(S){return"webkit"+S},ms:function(S){return"MS"+S}},w=Object.keys(x),I,b,m="",y=0;y<w.length;y++){var _=w[y];if(_+"TransitionProperty"in N){m="-"+_.toLowerCase(),I=x[_]("TransitionEnd"),b=x[_]("AnimationEnd");break}}return!I&&"transitionProperty"in N&&(I="transitionend"),!b&&"animationName"in N&&(b="animationend"),N=null,{animationEnd:b,transitionEnd:I,prefix:m}}return P}var Tt={},Un;function $i(){if(Un)return Tt;Un=1,Tt.__esModule=!0,Tt.nameShape=void 0,Tt.transitionTimeout=r;var t=Bt();i(t);var e=ve(),n=i(e);function i(s){return s&&s.__esModule?s:{default:s}}function r(s){var o="transition"+s+"Timeout",l="transition"+s;return function(u){if(u[l]){if(u[o]==null)return new Error(o+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof u[o]!="number")return new Error(o+" must be a number (in milliseconds)")}return null}}return Tt.nameShape=n.default.oneOfType([n.default.string,n.default.shape({enter:n.default.string,leave:n.default.string,active:n.default.string}),n.default.shape({enter:n.default.string,enterActive:n.default.string,leave:n.default.string,leaveActive:n.default.string,appear:n.default.string,appearActive:n.default.string})]),Tt}var Gn;function jl(){return Gn||(Gn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(y){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(y[S]=M[S])}return y},i=Nl(),r=k(i),s=Cl(),o=k(s),l=Tl(),u=k(l),c=Sl(),d=Bt(),f=k(d),h=ve(),g=k(h),C=Fi(),E=$i();function k(y){return y&&y.__esModule?y:{default:y}}function N(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function x(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var I=[];c.transitionEnd&&I.push(c.transitionEnd),c.animationEnd&&I.push(c.animationEnd);function b(y,_){return I.length?I.forEach(function(M){return y.addEventListener(M,_,!1)}):setTimeout(_,0),function(){I.length&&I.forEach(function(M){return y.removeEventListener(M,_,!1)})}}g.default.node,E.nameShape.isRequired,g.default.bool,g.default.bool,g.default.bool,g.default.number,g.default.number,g.default.number;var m=function(y){w(_,y);function _(M,S){N(this,_);var A=x(this,y.call(this,M,S));return A.componentWillAppear=function(L){A.props.appear?A.transition("appear",L,A.props.appearTimeout):L()},A.componentWillEnter=function(L){A.props.enter?A.transition("enter",L,A.props.enterTimeout):L()},A.componentWillLeave=function(L){A.props.leave?A.transition("leave",L,A.props.leaveTimeout):L()},A.classNameAndNodeQueue=[],A.transitionTimeouts=[],A}return _.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(S){clearTimeout(S)}),this.classNameAndNodeQueue.length=0},_.prototype.transition=function(S,A,L){var W=(0,C.findDOMNode)(this);if(!W){A&&A();return}var p=this.props.name[S]||this.props.name+"-"+S,T=this.props.name[S+"Active"]||p+"-active",v=null,j=void 0;(0,r.default)(W,p),this.queueClassAndNode(T,W);var $=function(F){F&&F.target!==W||(clearTimeout(v),j&&j(),(0,o.default)(W,p),(0,o.default)(W,T),j&&j(),A&&A())};L?(v=setTimeout($,L),this.transitionTimeouts.push(v)):c.transitionEnd&&(j=b(W,$))},_.prototype.queueClassAndNode=function(S,A){var L=this;this.classNameAndNodeQueue.push({className:S,node:A}),this.rafHandle||(this.rafHandle=(0,u.default)(function(){return L.flushClassNameAndNodeQueue()}))},_.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(S){S.node.scrollTop,(0,r.default)(S.node,S.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},_.prototype.render=function(){var S=n({},this.props);return delete S.name,delete S.appear,delete S.enter,delete S.leave,delete S.appearTimeout,delete S.enterTimeout,delete S.leaveTimeout,delete S.children,f.default.cloneElement(f.default.Children.only(this.props.children),S)},_}(f.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},e.default=m,t.exports=e.default}(Jt,Jt.exports)),Jt.exports}var Xn;function Ml(){return Xn||(Xn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(x){for(var w=1;w<arguments.length;w++){var I=arguments[w];for(var b in I)Object.prototype.hasOwnProperty.call(I,b)&&(x[b]=I[b])}return x},i=Bt(),r=h(i),s=ve(),o=h(s),l=Ei(),u=h(l),c=jl(),d=h(c),f=$i();function h(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function C(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function E(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}f.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,f.transitionTimeout)("Appear"),(0,f.transitionTimeout)("Enter"),(0,f.transitionTimeout)("Leave");var k={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},N=function(x){E(w,x);function w(){var I,b,m;g(this,w);for(var y=arguments.length,_=Array(y),M=0;M<y;M++)_[M]=arguments[M];return m=(I=(b=C(this,x.call.apply(x,[this].concat(_))),b),b._wrapChild=function(S){return r.default.createElement(d.default,{name:b.props.transitionName,appear:b.props.transitionAppear,enter:b.props.transitionEnter,leave:b.props.transitionLeave,appearTimeout:b.props.transitionAppearTimeout,enterTimeout:b.props.transitionEnterTimeout,leaveTimeout:b.props.transitionLeaveTimeout},S)},I),C(b,m)}return w.prototype.render=function(){return r.default.createElement(u.default,n({},this.props,{childFactory:this._wrapChild}))},w}(r.default.Component);N.displayName="CSSTransitionGroup",N.propTypes={},N.defaultProps=k,e.default=N,t.exports=e.default}(Qt,Qt.exports)),Qt.exports}var Fe,Kn;function kl(){if(Kn)return Fe;Kn=1;var t=Ml(),e=r(t),n=Ei(),i=r(n);function r(s){return s&&s.__esModule?s:{default:s}}return Fe={TransitionGroup:i.default,CSSTransitionGroup:e.default},Fe}var Il=kl();const El=t=>t.enableLegacyTransitions?X.createElement(Il.TransitionGroup,{component:t.component,className:t.className,transform:t.transform},t.children):X.createElement("g",{className:t.className,transform:t.transform},t.children),Rl=15,Yn={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},$l=({nodeDatum:t,toggleNode:e,onNodeClick:n,onNodeMouseOver:i,onNodeMouseOut:r})=>X.createElement(X.Fragment,null,X.createElement("circle",{r:Rl,onClick:s=>{e(),n(s)},onMouseOver:i,onMouseOut:r}),X.createElement("g",{className:"rd3t-label"},X.createElement("text",Object.assign({className:"rd3t-label__title"},Yn.title),t.name),X.createElement("text",{className:"rd3t-label__attributes"},t.attributes&&Object.entries(t.attributes).map(([s,o],l)=>X.createElement("tspan",Object.assign({key:`${s}-${l}`},Yn.attribute),s,": ",typeof o=="boolean"?o.toString():o)))));class Al extends X.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(e,n,i,r)=>n.subscriptions!==e.subscriptions||n.position.x!==e.position.x||n.position.y!==e.position.y||n.orientation!==e.orientation||r.wasClicked!==i.wasClicked,this.renderNodeElement=()=>{const{data:e,hierarchyPointNode:n,renderCustomNodeElement:i}=this.props,r=typeof i=="function"?i:$l,s={hierarchyPointNode:n,nodeDatum:e,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return r(s)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=e=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,e)},this.handleOnMouseOver=e=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,e)},this.handleOnMouseOut=e=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,e)},this.handleAddChildren=e=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,e)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(e,n){return this.shouldNodeTransform(this.props,e,this.state,n)}setTransform(e,n,i,r=!1){if(r){const s=n!=null,o=s?n.x:0,l=s?n.y:0;return i==="horizontal"?`translate(${l},${o})`:`translate(${o},${l})`}return i==="horizontal"?`translate(${e.y},${e.x})`:`translate(${e.x},${e.y})`}applyTransform(e,n,i=1,r=()=>{}){this.props.enableLegacyTransitions?J(this.nodeRef).transition().duration(n).attr("transform",e).style("opacity",i).on("end",r):(J(this.nodeRef).attr("transform",e).style("opacity",i),r())}commitTransform(){const{orientation:e,transitionDuration:n,position:i,parent:r}=this.props,s=this.setTransform(i,r,e);this.applyTransform(s,n)}componentWillLeave(e){const{orientation:n,transitionDuration:i,position:r,parent:s}=this.props,o=this.setTransform(r,s,n,!0);this.applyTransform(o,i,0,e)}render(){const{data:e,nodeClassName:n}=this.props;return X.createElement("g",{id:e.__rd3t.id,ref:i=>{this.nodeRef=i},style:this.state.initialStyle,className:[e.children&&e.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}}var Ye=Math.PI,Qe=2*Ye,bt=1e-6,Ol=Qe-bt;function Ze(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ai(){return new Ze}Ze.prototype=Ai.prototype={constructor:Ze,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var s=this._x1,o=this._y1,l=n-t,u=i-e,c=s-t,d=o-e,f=c*c+d*d;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>bt)if(!(Math.abs(d*l-u*c)>bt)||!r)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-s,g=i-o,C=l*l+u*u,E=h*h+g*g,k=Math.sqrt(C),N=Math.sqrt(f),x=r*Math.tan((Ye-Math.acos((C+f-E)/(2*k*N)))/2),w=x/N,I=x/k;Math.abs(w-1)>bt&&(this._+="L"+(t+w*c)+","+(e+w*d)),this._+="A"+r+","+r+",0,0,"+ +(d*h>c*g)+","+(this._x1=t+I*l)+","+(this._y1=e+I*u)}},arc:function(t,e,n,i,r,s){t=+t,e=+e,n=+n,s=!!s;var o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=e+l,d=1^s,f=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>bt||Math.abs(this._y1-c)>bt)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Qe+Qe),f>Ol?this._+="A"+n+","+n+",0,1,"+d+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=u)+","+(this._y1=c):f>bt&&(this._+="A"+n+","+n+",0,"+ +(f>=Ye)+","+d+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function Qn(t){return function(){return t}}function Ll(t){return t[0]}function Dl(t){return t[1]}var Fl=Array.prototype.slice;function Vl(t){return t.source}function Pl(t){return t.target}function Oi(t){var e=Vl,n=Pl,i=Ll,r=Dl,s=null;function o(){var l,u=Fl.call(arguments),c=e.apply(this,u),d=n.apply(this,u);if(s||(s=l=Ai()),t(s,+i.apply(this,(u[0]=c,u)),+r.apply(this,u),+i.apply(this,(u[0]=d,u)),+r.apply(this,u)),l)return s=null,l+""||null}return o.source=function(l){return arguments.length?(e=l,o):e},o.target=function(l){return arguments.length?(n=l,o):n},o.x=function(l){return arguments.length?(i=typeof l=="function"?l:Qn(+l),o):i},o.y=function(l){return arguments.length?(r=typeof l=="function"?l:Qn(+l),o):r},o.context=function(l){return arguments.length?(s=l??null,o):s},o}function zl(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function ql(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Bl(){return Oi(zl)}function Wl(){return Oi(ql)}class Hl extends X.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=e=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOver=e=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOut=e=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,e)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(e){this.applyOpacity(0,this.props.transitionDuration,e)}applyOpacity(e,n,i=()=>{}){this.props.enableLegacyTransitions?J(this.linkRef).transition().duration(n).style("opacity",e).on("end",i):(J(this.linkRef).style("opacity",e),i())}drawStepPath(e,n){const{source:i,target:r}=e,s=r.y-i.y;return n==="horizontal"?`M${i.y},${i.x} H${i.y+s/2} V${r.x} H${r.y}`:`M${i.x},${i.y} V${i.y+s/2} H${r.x} V${r.y}`}drawDiagonalPath(e,n){const{source:i,target:r}=e;return n==="horizontal"?Bl()({source:[i.y,i.x],target:[r.y,r.x]}):Wl()({source:[i.x,i.y],target:[r.x,r.y]})}drawStraightPath(e,n){const{source:i,target:r}=e;return n==="horizontal"?`M${i.y},${i.x}L${r.y},${r.x}`:`M${i.x},${i.y}L${r.x},${r.y}`}drawElbowPath(e,n){return n==="horizontal"?`M${e.source.y},${e.source.x}V${e.target.x}H${e.target.y}`:`M${e.source.x},${e.source.y}V${e.target.y}H${e.target.x}`}drawPath(){const{linkData:e,orientation:n,pathFunc:i}=this.props;return typeof i=="function"?i(e,n):i==="elbow"?this.drawElbowPath(e,n):i==="straight"?this.drawStraightPath(e,n):i==="step"?this.drawStepPath(e,n):this.drawDiagonalPath(e,n)}getClassNames(){const{linkData:e,orientation:n,pathClassFunc:i}=this.props,r=["rd3t-link"];return typeof i=="function"&&r.push(i(e,n)),r.join(" ").trim()}render(){const{linkData:e}=this.props;return X.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":e.source.id,"data-target-id":e.target.id})}}const Ul=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class it extends X.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:it.assignInternalProperties(Z(this.props.data)),d3:it.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Ie()}`,this.gInstanceRef=`rd3t-g-${Ie()}`,this.handleNodeToggle=e=>{const n=Z(this.state.data),r=this.findNodesById(e,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(r.__rd3t.collapsed?(it.expandNode(r),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(r,n)):it.collapseNode(r),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=r)},this.handleAddChildrenToNode=(e,n)=>{const i=Z(this.state.data),r=this.findNodesById(e,i,[]);if(r.length>0){const s=r[0],o=s.__rd3t.depth,l=Z(n).map(u=>it.assignInternalProperties([u],o+1));s.children.push(...l.flat()),this.setState({data:i})}},this.handleOnNodeClickCb=(e,n)=>{const{onNodeClick:i}=this.props;i&&typeof i=="function"&&(n.persist(),i(Z(e),n))},this.handleOnLinkClickCb=(e,n,i)=>{const{onLinkClick:r}=this.props;r&&typeof r=="function"&&(i.persist(),r(Z(e),Z(n),i))},this.handleOnNodeMouseOverCb=(e,n)=>{const{onNodeMouseOver:i}=this.props;i&&typeof i=="function"&&(n.persist(),i(Z(e),n))},this.handleOnLinkMouseOverCb=(e,n,i)=>{const{onLinkMouseOver:r}=this.props;r&&typeof r=="function"&&(i.persist(),r(Z(e),Z(n),i))},this.handleOnNodeMouseOutCb=(e,n)=>{const{onNodeMouseOut:i}=this.props;i&&typeof i=="function"&&(n.persist(),i(Z(e),n))},this.handleOnLinkMouseOutCb=(e,n,i)=>{const{onLinkMouseOut:r}=this.props;r&&typeof r=="function"&&(i.persist(),r(Z(e),Z(n),i))},this.centerNode=e=>{const{dimensions:n,orientation:i,zoom:r,centeringTransitionDuration:s}=this.props;if(n){const o=J(`.${this.gInstanceRef}`),l=J(`.${this.svgInstanceRef}`),u=this.state.d3.scale;let c,d;i==="horizontal"?(d=-e.x*u+n.height/2,c=-e.y*u+n.width/2):(c=-e.x*u+n.width/2,d=-e.y*u+n.height/2),o.transition().duration(s).attr("transform","translate("+c+","+d+")scale("+u+")"),l.call(je().transform,me.translate(c,d).scale(r))}},this.getNodeClassName=(e,n)=>{const{rootNodeClassName:i,branchNodeClassName:r,leafNodeClassName:s}=this.props;return e!=null?n.children?r:s:i}}static getDerivedStateFromProps(e,n){let i=null;const r=!e.dataKey||n.dataKey!==e.dataKey;e.data!==n.dataRef&&r&&(i={dataRef:e.data,data:it.assignInternalProperties(Z(e.data)),isInitialRenderForDataset:!0,dataKey:e.dataKey});const s=it.calculateD3Geometry(e);return Lt(s,n.d3)||(i=i||{},i.d3=s),i}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({isInitialRenderForDataset:!1}),(!Lt(this.props.translate,e.translate)||!Lt(this.props.scaleExtent,e.scaleExtent)||this.props.zoomable!==e.zoomable||this.props.draggable!==e.draggable||this.props.zoom!==e.zoom||this.props.enableLegacyTransitions!==e.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?Z(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(e,n){e.forEach(i=>{i.data.__rd3t.collapsed=i.depth>=n})}bindZoomListener(e){const{zoomable:n,scaleExtent:i,translate:r,zoom:s,onUpdate:o,hasInteractiveNodes:l}=e,u=J(`.${this.svgInstanceRef}`),c=J(`.${this.gInstanceRef}`);u.call(je().transform,me.translate(r.x,r.y).scale(s)),u.call(je().scaleExtent(n?[i.min,i.max]:[s,s]).filter(d=>l?d.target.classList.contains(this.svgInstanceRef)||d.target.classList.contains(this.gInstanceRef)||d.shiftKey:!0).on("zoom",d=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(d.sourceEvent.type)||(c.attr("transform",d.transform),typeof o=="function"&&(o({node:null,zoom:d.transform.k,translate:{x:d.transform.x,y:d.transform.y}}),this.state.d3.scale=d.transform.k,this.state.d3.translate={x:d.transform.x,y:d.transform.y}))}))}static assignInternalProperties(e,n=0){return(Array.isArray(e)?e:[e]).map(r=>{const s=r;return s.__rd3t={id:null,depth:null,collapsed:!1},s.__rd3t.id=Ie(),s.__rd3t.depth=n,s.children&&s.children.length>0&&(s.children=it.assignInternalProperties(s.children,n+1)),s})}findNodesById(e,n,i){return i.length>0||(i=i.concat(n.filter(r=>r.__rd3t.id===e)),n.forEach(r=>{r.children&&r.children.length>0&&(i=this.findNodesById(e,r.children,i))})),i}findNodesAtDepth(e,n,i){return i=i.concat(n.filter(r=>r.__rd3t.depth===e)),n.forEach(r=>{r.children&&r.children.length>0&&(i=this.findNodesAtDepth(e,r.children,i))}),i}static collapseNode(e){e.__rd3t.collapsed=!0,e.children&&e.children.length>0&&e.children.forEach(n=>{it.collapseNode(n)})}static expandNode(e){e.__rd3t.collapsed=!1}collapseNeighborNodes(e,n){this.findNodesAtDepth(e.__rd3t.depth,n,[]).filter(r=>r.__rd3t.id!==e.__rd3t.id).forEach(r=>it.collapseNode(r))}generateTree(){const{initialDepth:e,depthFactor:n,separation:i,nodeSize:r,orientation:s}=this.props,{isInitialRenderForDataset:o}=this.state,u=Rr().nodeSize(s==="horizontal"?[r.y,r.x]:[r.x,r.y]).separation((f,h)=>f.parent.data.__rd3t.id===h.parent.data.__rd3t.id?i.siblings:i.nonSiblings)(tn(this.state.data[0],f=>f.__rd3t.collapsed?null:f.children));let c=u.descendants();const d=u.links();return e!==void 0&&o&&this.setInitialTreeDepth(c,e),n&&c.forEach(f=>{f.y=f.depth*n}),{nodes:c,links:d}}static calculateD3Geometry(e){let n;return e.zoom>e.scaleExtent.max?n=e.scaleExtent.max:e.zoom<e.scaleExtent.min?n=e.scaleExtent.min:n=e.zoom,{translate:e.translate,scale:n}}render(){const{nodes:e,links:n}=this.generateTree(),{renderCustomNodeElement:i,orientation:r,pathFunc:s,transitionDuration:o,nodeSize:l,depthFactor:u,initialDepth:c,separation:d,enableLegacyTransitions:f,svgClassName:h,pathClassFunc:g}=this.props,{translate:C,scale:E}=this.state.d3,k=Object.assign(Object.assign(Object.assign({},l),d),{depthFactor:u,initialDepth:c});return X.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},X.createElement("style",null,Ul),X.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},X.createElement(El,{enableLegacyTransitions:f,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${C.x},${C.y}) scale(${E})`},n.map((N,x)=>X.createElement(Hl,{key:"link-"+x,orientation:r,pathFunc:s,pathClassFunc:g,linkData:N,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:f,transitionDuration:o})),e.map((N,x)=>{const{data:w,x:I,y:b,parent:m}=N;return X.createElement(Al,{key:"node-"+x,data:w,position:{x:I,y:b},hierarchyPointNode:N,parent:m,nodeClassName:this.getNodeClassName(m,w),renderCustomNodeElement:i,nodeSize:l,orientation:r,enableLegacyTransitions:f,transitionDuration:o,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:k,centerNode:this.centerNode})}))))}}it.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};const Gl="_container_1erjf_1",Xl="_tabsContainer_1erjf_7",Kl="_tab_1erjf_7",Yl="_tabActive_1erjf_34",Ql="_treeContainer_1erjf_56",Zl="_treeWrapper_1erjf_63",Jl="_edgeStyle_1erjf_82",tc="_edgeStyleWithInit_1erjf_87",ec="_edgeStyleBounced_1erjf_91",nc="_edgeTextTitle_1erjf_95",ic="_edgeText_1erjf_95",rc="_edgeTextContent_1erjf_118",sc="_tooltip_1erjf_127",ac="_tooltipContent_1erjf_166",oc="_tooltipField_1erjf_172",lc="_tooltipFieldLabel_1erjf_178",cc="_tooltipFieldValue_1erjf_185",uc="_tooltipSubValue_1erjf_194",dc="_foreignObjectContainer_1erjf_201",hc="_iconSvg_1erjf_208",fc="_tooltipContainer_1erjf_213",pc="_transactionDetails_1erjf_219",mc="_contractDetails_1erjf_223",gc="_topText_1erjf_236",_c="_bottonText_1erjf_242",V={container:Gl,tabsContainer:Xl,tab:Kl,tabActive:Yl,treeContainer:Ql,treeWrapper:Zl,edgeStyle:Jl,edgeStyleWithInit:tc,edgeStyleBounced:ec,edgeTextTitle:nc,edgeText:ic,edgeTextContent:rc,tooltip:sc,tooltipContent:ac,tooltipField:oc,tooltipFieldLabel:lc,tooltipFieldValue:cc,tooltipSubValue:uc,foreignObjectContainer:dc,iconSvg:hc,tooltipContainer:fc,transactionDetails:pc,contractDetails:mc,topText:gc,bottonText:_c},Zn=(t,e)=>{if(!t)return"unknown";const n=t.toString(),i=e.get(n);if(i){const r=i.displayName;if(r!=="Unknown Contract")return r}return n.slice(0,4)+"..."+n.slice(n.length-4)},yc=t=>{if(!t)return"unknown";const e=t.toString();return e.slice(0,6)+"..."+e.slice(e.length-6)};function xc({testData:t}){const[e,n]=U.useState(null),[i,r]=U.useState(null),[s,o]=U.useState(null),[l,u]=U.useState(null),c=t.contracts,d=U.useMemo(()=>t.transactions.filter(m=>!m.parent).sort((m,y)=>Number(m.transaction.lt-y.transaction.lt)),[t.transactions]),f=m=>{const y=[m],_=M=>{M.children.forEach(S=>{y.push(S),_(S)})};return _(m),y},h=U.useMemo(()=>{if(!l)return t.transactions;const m=d.find(y=>y.transaction.lt.toString()===l);return m?f(m):t.transactions},[t.transactions,l,d]),g=m=>{u(m),r(null),o(null)},C=m=>{const y=(L,W=0)=>!L.children||L.children.length===0?W:Math.max(...L.children.map(p=>y(p,W+1))),_=L=>!L.children||L.children.length===0?1:L.children.reduce((W,p)=>W+_(p),0),M=_(m),S=y(m),A=M<=2?M*80+20:M*80+100;return{height:Math.max(100,A),width:Math.max(800,S*200+200)}},E=U.useMemo(()=>{const m=new Map;for(let y=0;y<h.length;y++){const _=h[y];m.set(_.transaction.lt.toString(),_)}return m},[h]),k=m=>{const y=E.get(m);y&&(i?.transaction.lt.toString()===m?(r(null),o(null)):(r(y),o(null)))},N=m=>{const y=c.get(m);y&&(s?.address.toString()===m?o(null):o(y))},x=U.useMemo(()=>{const m=l?d.filter(_=>_.transaction.lt.toString()===l):d,y=_=>{const M=_.address,S=Zn(M,c),A=_.transaction.description.type==="generic"?_.transaction.description.computePhase:null,L=_.transaction.inMessage,W=L?.init?.code!==void 0,p=L?.info?.type==="internal"?L.info.bounced:!1,T=A?.type==="vm"?A.success:!0,v=A?.type==="vm"?A.exitCode===0?_.transaction.description.type==="generic"?_.transaction.description.actionPhase?.resultCode??0:0:A.exitCode:void 0,j=_.transaction.inMessage?.info?.type==="internal"?_.transaction.inMessage?.info.value?.coins:void 0,O=_.opcode?.toString(16),B=Je(_,c)?.name,G=M?c.get(M.toString())?.letter??"?":"?",et=_.transaction.lt.toString(),K=i?.transaction.lt.toString()===et;return{name:`${S}`,attributes:{from:_.transaction.inMessage?.info?.src?.toString()??"unknown",to:_.transaction.inMessage?.info?.dest?.toString()??"unknown",lt:et,success:T?"":"",exitCode:v?.toString()??"0",value:xt(j),opcode:B??(O?`0x${O}`:void 0)??"empty opcode",outMsgs:_.transaction.outMessagesCount.toString(),withInitCode:W,isBounced:p,contractLetter:G,isSelected:K},children:_.children.map(nt=>y(nt))}};return m.length>0?{name:"",attributes:{isRoot:"true"},children:m.map(_=>y(_))}:{name:"No transactions",attributes:{},children:[]}},[d,c,i,l]),w=({nodeDatum:m,toggleNode:y})=>{if(m.attributes?.isRoot==="true")return a.jsxs("g",{children:[a.jsx("circle",{r:15,fill:"var(--color-background-secondary)",stroke:"var(--color-text-primary)",strokeWidth:1.5}),a.jsx("text",{fill:"var(--color-text-primary)",strokeWidth:"0",x:"0",y:"5",fontSize:"14",fontWeight:"bold",textAnchor:"middle",children:"BL"})]});const _=m.attributes?.opcode??"empty opcode",M=!Number.isNaN(Number.parseInt(_)),S=m.attributes?.isSelected,A=m.attributes?.lt,L=E.get(A);return a.jsxs("g",{children:[a.jsx("foreignObject",{width:"4",height:"6",x:"-20",y:"-3",className:V.foreignObjectContainer,children:a.jsx("svg",{width:"4",height:"6",viewBox:"0 0 4 5",xmlns:"http://www.w3.org/2000/svg",className:V.iconSvg,children:a.jsx("path",{d:"M0.400044 0.549983C0.648572 0.218612 1.11867 0.151455 1.45004 0.399983L3.45004 1.89998C3.6389 2.04162 3.75004 2.26392 3.75004 2.49998C3.75004 2.73605 3.6389 2.95834 3.45004 3.09998L1.45004 4.59998C1.11867 4.84851 0.648572 4.78135 0.400044 4.44998C0.151516 4.11861 0.218673 3.64851 0.550044 3.39998L1.75004 2.49998L0.550044 1.59998C0.218673 1.35145 0.151516 0.881354 0.400044 0.549983Z",fill:"var(--color-text-tertiary)"})})}),a.jsx("circle",{r:15,fill:S?"var(--color-text-primary)":m.attributes?.success===""?"var(--color-background-secondary)":"#ef4444",stroke:"var(--color-text-primary)",strokeWidth:1.5,onClick:()=>k(A),style:{cursor:"pointer"}}),a.jsx("text",{fill:S?"var(--color-background-primary)":"var(--color-text-primary)",strokeWidth:"0",x:"0",y:"5",fontSize:"14",fontWeight:"bold",textAnchor:"middle",style:{pointerEvents:"none"},children:m.attributes?.contractLetter}),a.jsx("foreignObject",{width:"150",height:"100",x:"-180",y:"-40",children:a.jsxs("div",{className:V.edgeText,onMouseEnter:W=>{if(!L)return;const p=W.currentTarget.getBoundingClientRect(),T=L.computeInfo,v={success:T!=="skipped"?T.success:!0,exitCode:T!=="skipped"?T.exitCode:void 0,gasUsed:T!=="skipped"?T.gasUsed:void 0,vmSteps:T!=="skipped"?T.vmSteps:void 0},j={gasFees:T!=="skipped"?T.gasFees:void 0,totalFees:L.money.totalFees},$=L.transaction.inMessage?.info?.src,O=$?yc($):"unknown";n({x:p.left+p.width/2,y:p.top,fromAddress:O,computePhase:v,fees:j,sentTotal:L.money.sentTotal})},onMouseLeave:()=>{n(null)},children:[a.jsxs("div",{className:V.topText,children:[a.jsx("p",{className:V.edgeTextTitle,children:m.name}),m.attributes?.value&&a.jsx("p",{className:V.edgeTextContent,children:m.attributes.value})]}),a.jsxs("div",{className:V.bottonText,children:[a.jsx("p",{className:V.edgeTextContent,children:M?a.jsxs(a.Fragment,{children:["Opcode: ",_]}):_}),m.attributes?.exitCode&&m.attributes?.exitCode!=="0"&&a.jsxs("p",{className:V.edgeTextContent,children:["Exit: ",m.attributes?.exitCode," | Success:"," ",m.attributes?.success===""?"true":"false"]})]})]})})]})},I=({target:m},y)=>{const _=m.data.attributes;return _&&_?.withInitCode?V.edgeStyle+` ${V.edgeStyleWithInit}`:_&&_?.isBounced?V.edgeStyle+` ${V.edgeStyleBounced}`:V.edgeStyle},b=C(x);return a.jsxs("div",{className:V.container,children:[d.length>1&&a.jsxs("div",{className:V.tabsContainer,children:[a.jsx("button",{className:`${V.tab} ${l?"":V.tabActive}`,onClick:()=>g(null),children:"All"}),d.map((m,y)=>{const _=Zn(m.address,c),M=l===m.transaction.lt.toString();return a.jsxs("button",{className:`${V.tab} ${M?V.tabActive:""}`,onClick:()=>g(m.transaction.lt.toString()),children:["#",y+1,": ",_]},m.transaction.lt.toString())})]}),a.jsx("div",{className:V.treeContainer,style:{height:`${b.height}px`},children:a.jsxs("div",{className:V.treeWrapper,style:{width:`${b.width}px`},children:[a.jsx(it,{data:x,orientation:"horizontal",pathFunc:m=>{const y=m.target.data.attributes??{};return y.isFirst?"M".concat(m.source.y.toString(),",").concat(m.source.x.toString(),"V").concat((m.target.x+10).toString(),"a10 10 0 0 1 10 -10H").concat((m.target.y-18).toString()):y.isLast?"M".concat(m.source.y.toString(),",").concat(m.source.x.toString(),"V").concat((m.target.x-10).toString(),"a10 10 0 0 0 10 10H").concat((m.target.y-18).toString()):"M".concat(m.source.y.toString(),",").concat(m.source.x.toString(),"V").concat(m.target.x.toString(),"H").concat((m.target.y-18).toString())},nodeSize:{x:200,y:120},separation:{siblings:.7,nonSiblings:1},renderCustomNodeElement:w,pathClassFunc:I,translate:{x:50,y:b.height/2},zoom:1,enableLegacyTransitions:!1,collapsible:!1,zoomable:!1,draggable:!1,pannable:!1,scaleExtent:{min:1,max:1}}),e&&a.jsx("div",{className:V.tooltipContainer,style:{left:Math.max(10,Math.min(e.x-80,window.innerWidth-280)),top:Math.max(10,e.y-265)},children:a.jsx("div",{className:V.tooltip,children:a.jsxs("div",{className:V.tooltipContent,children:[a.jsxs("div",{className:V.tooltipField,children:[a.jsx("div",{className:V.tooltipFieldLabel,children:"From Address"}),a.jsx("div",{className:V.tooltipFieldValue,children:e.fromAddress})]}),a.jsxs("div",{className:V.tooltipField,children:[a.jsx("div",{className:V.tooltipFieldLabel,children:"Compute Phase"}),a.jsxs("div",{className:V.tooltipFieldValue,children:[e.computePhase.success?"Success":"Failed",e.computePhase.exitCode!==void 0&&e.computePhase.exitCode!==0&&a.jsxs("span",{children:[" ","(Exit:"," ",e.computePhase.exitCode,")"]}),e.computePhase.gasUsed&&a.jsxs("div",{className:V.tooltipSubValue,children:["Gas Used: ",e.computePhase.gasUsed.toString()]}),e.computePhase.vmSteps!==void 0&&a.jsxs("div",{className:V.tooltipSubValue,children:["VM Steps: ",e.computePhase.vmSteps.toString()]})]})]}),a.jsxs("div",{className:V.tooltipField,children:[a.jsx("div",{className:V.tooltipFieldLabel,children:"Money"}),a.jsxs("div",{className:V.tooltipFieldValue,children:[a.jsxs("div",{children:["Sent Total: ",xt(e.sentTotal)]}),a.jsxs("div",{className:V.tooltipSubValue,children:["Total Fees: ",xt(e.fees.totalFees)]}),e.fees.gasFees&&a.jsxs("div",{className:V.tooltipSubValue,children:["Gas Fees: ",xt(e.fees.gasFees)]})]})]})]})})})]})}),i&&a.jsx("div",{className:V.transactionDetails,children:a.jsx(Ju,{tx:i,contracts:c,onContractClick:N})}),s&&a.jsx("div",{className:V.contractDetails,children:a.jsx(Du,{contract:s,contracts:c,tests:[t],isDeployed:!0})})]})}const vc="_contractChip_1jsso_1",bc="_contractChipCopyButton_1jsso_21",wc="_clickable_1jsso_25",Nc="_contractLetter_1jsso_37",Cc="_contractName_1jsso_51",Tc="_contractAddress_1jsso_56",pt={contractChip:vc,contractChipCopyButton:bc,clickable:wc,contractLetter:Nc,contractName:Cc,contractAddress:Tc};function kt({address:t,contracts:e,onContractClick:n}){const[i,r]=U.useState(!1),s=U.useCallback(h=>{h.stopPropagation(),t&&navigator.clipboard.writeText(t).then(()=>{r(!0)}).catch(g=>{console.error("Failed to copy: ",g)})},[t]),o=U.useCallback(h=>{h.stopPropagation(),t&&n&&n(t)},[t,n]);U.useEffect(()=>{if(i){const h=setTimeout(()=>{r(!1)},1500);return()=>clearTimeout(h)}},[i]);const l=a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[a.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),a.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),u=a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:a.jsx("polyline",{points:"20 6 9 17 4 12"})});if(!t)return a.jsx("span",{className:pt.contractChip,children:"Unknown"});const c=e.get(t),d=!!n,f=a.jsxs(a.Fragment,{children:[c?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:pt.contractLetter,children:c.letter}),a.jsx("span",{className:pt.contractName,children:c.displayName}),a.jsxs("span",{className:pt.contractAddress,children:["(",t.slice(0,6),"",t.slice(-6),")"]})]}):a.jsxs("span",{className:pt.contractAddress,children:[t.slice(0,6),"",t.slice(-6)]}),a.jsx("button",{onClick:s,className:pt.contractChipCopyButton,title:i?"Copied!":"Copy address","aria-label":i?"Copied to clipboard":"Copy address",disabled:i,type:"button",children:i?u:l})]});return d?a.jsx("button",{className:`${pt.contractChip} ${pt.clickable}`,onClick:o,title:"Click to view contract details",type:"button",children:f}):a.jsx("span",{className:pt.contractChip,children:f})}const Sc="_opcodeChip_1h1rc_1",jc="_opcodeText_1h1rc_12",Mc="_copyButton_1h1rc_17",Ve={opcodeChip:Sc,opcodeText:jc,copyButton:Mc},Li=({opcode:t,abiName:e})=>{const[n,i]=U.useState(!1),r=e??(t?`0x${t.toString(16)}`:"Empty"),s=t?`0x${t.toString(16)}`:"",o=U.useCallback(async l=>{if(l.stopPropagation(),!!s)try{await navigator.clipboard.writeText(s),i(!0)}catch(u){console.error("Failed to copy:",u)}},[s]);return U.useEffect(()=>{if(n){const l=setTimeout(()=>i(!1),2e3);return()=>clearTimeout(l)}},[n]),a.jsxs("div",{className:Ve.opcodeChip,children:[a.jsx("span",{className:Ve.opcodeText,children:r}),s&&a.jsx("button",{className:Ve.copyButton,onClick:l=>{o(l).catch(console.error)},title:`Copy ${s}`,"aria-label":`Copy opcode ${s}`,children:n?a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("polyline",{points:"20,6 9,17 4,12"})}):a.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),a.jsx("path",{d:"m5,15 L5,5 a2,2 0 0,1 2,-2 l10,0"})]})})]})};function qt(t,e,n){const i={};for(const[r,s]of e.fields.entries())try{if(s.type.kind==="simple")if(s.type.type==="address")s.type.optional?i[s.name]=t.loadMaybeAddress():i[s.name]=t.loadAddress();else if(s.type.type==="bool")i[s.name]=t.loadUintBig(1);else if(s.type.type==="uint"&&typeof s.type.format=="number")i[s.name]=t.loadUintBig(s.type.format);else if(s.type.type==="int"&&typeof s.type.format=="number")i[s.name]=t.loadIntBig(s.type.format);else if(s.type.type==="uint"&&typeof s.type.format=="string")s.type.format==="varuint16"?i[s.name]=t.loadVarUintBig(4):s.type.format==="varuint32"?i[s.name]=t.loadVarUintBig(8):s.type.format==="coins"&&(i[s.name]=t.loadCoins());else if(s.type.type==="int"&&typeof s.type.format=="string")s.type.format==="varint16"?i[s.name]=t.loadVarIntBig(4):s.type.format==="varint32"&&(i[s.name]=t.loadVarUintBig(8));else if(s.type.type==="cell"||s.type.type==="string")s.type.optional?t.loadUint(1)&&(i[s.name]=t.loadRef()):i[s.name]=t.loadRef();else if(s.type.format==="ref")i[s.name]=t.loadRef();else if(s.type.type==="slice"&&s.type.format==="remainder")i[s.name]=t.asCell().asSlice();else{const o=s.type.type;if(s.type.optional){if(t.loadUint(1)){const u=n.find(c=>c.name===o);u&&(i[s.name]={$:"sub-object",value:qt(t.loadRef().asSlice(),u,n)})}else i[s.name]=null;continue}else{const l=n.find(u=>u.name===o);l&&(i[s.name]={$:"sub-object",value:qt(t.loadRef().asSlice(),l,n)})}console.log("skip",s);return}}catch(o){console.error(`Error while parsing ${s.name} of ${e.name} at index ${r}: ${o}`)}return i}const kc="_container_1rrah_1",Ic="_field_1rrah_7",Ec="_fieldHeader_1rrah_14",Rc="_fieldName_1rrah_21",$c="_fieldValue_1rrah_30",Ac="_monospace_1rrah_39",Oc="_stringValue_1rrah_49",Lc="_numberValue_1rrah_60",Dc="_booleanTrue_1rrah_66",Fc="_booleanFalse_1rrah_72",Vc="_nullValue_1rrah_78",Pc="_unknownValue_1rrah_84",zc="_errorText_1rrah_89",qc="_cellValue_1rrah_96",Bc="_sliceValue_1rrah_97",Wc="_cellLabel_1rrah_104",Hc="_sliceLabel_1rrah_105",Uc="_subObject_1rrah_112",Gc="_objectValue_1rrah_119",Xc="_arrayValue_1rrah_127",Kc="_arrayLabel_1rrah_134",Yc="_arrayItem_1rrah_142",Qc="_arrayIndex_1rrah_150",Zc="_arrayItemValue_1rrah_157",H={container:kc,field:Ic,fieldHeader:Ec,fieldName:Rc,fieldValue:$c,monospace:Ac,stringValue:Oc,numberValue:Lc,booleanTrue:Dc,booleanFalse:Fc,nullValue:Vc,unknownValue:Pc,errorText:zc,cellValue:qc,sliceValue:Bc,cellLabel:Wc,sliceLabel:Hc,subObject:Uc,objectValue:Gc,arrayValue:Xc,arrayLabel:Kc,arrayItem:Yc,arrayIndex:Qc,arrayItemValue:Zc};function ge({data:t,contracts:e,depth:n=0,maxDepth:i=10}){return n>i?a.jsx("span",{className:H.errorText,children:"Max depth reached"}):a.jsx("div",{className:H.container,children:Object.entries(t).map(([r,s])=>a.jsxs("div",{className:H.field,children:[a.jsx("div",{className:H.fieldHeader,children:a.jsxs("span",{className:H.fieldName,children:[r,":"]})}),a.jsx("div",{className:H.fieldValue,children:a.jsx(Di,{value:s,contracts:e,depth:n,maxDepth:i})})]},r))})}function Di({value:t,contracts:e,depth:n,maxDepth:i}){if(t instanceof Y.Address)return a.jsx(kt,{address:t.toString(),contracts:e});if(t instanceof Y.Cell)return a.jsxs("div",{className:H.cellValue,children:[a.jsx("div",{className:H.cellLabel,children:"Cell:"}),a.jsx("span",{className:H.monospace,children:t.toBoc().toString("hex")})]});if(t instanceof Y.Slice)return a.jsxs("div",{className:H.sliceValue,children:[a.jsx("div",{className:H.sliceLabel,children:"Slice:"}),a.jsx("span",{className:H.monospace,children:t.asCell().toBoc().toString("hex")})]});if(typeof t=="bigint")return a.jsx("span",{className:H.numberValue,children:t.toString()});if(typeof t=="number")return a.jsx("span",{className:H.numberValue,children:t.toString()});if(typeof t=="boolean")return a.jsx("span",{className:t?H.booleanTrue:H.booleanFalse,children:t?"true":"false"});if(typeof t=="string")return a.jsxs("span",{className:H.stringValue,children:['"',t,'"']});if(t==null)return a.jsx("span",{className:H.nullValue,children:"null"});if(t&&typeof t=="object"&&"$"in t&&t.$==="sub-object"&&"value"in t&&t.value){const r=t.value;return a.jsx("div",{className:H.subObject,children:a.jsx(ge,{data:r,contracts:e,depth:n+1,maxDepth:i})})}if(Array.isArray(t))return a.jsxs("div",{className:H.arrayValue,children:[a.jsxs("div",{className:H.arrayLabel,children:["[",t.length," items]"]}),t.map((r,s)=>a.jsxs("div",{className:H.arrayItem,children:[a.jsxs("span",{className:H.arrayIndex,children:["[",s,"]:"]}),a.jsx("div",{className:H.arrayItemValue,children:a.jsx(Di,{value:r,contracts:e,depth:n+1,maxDepth:i})})]},s))]});if(typeof t=="object"&&!Array.isArray(t))try{const r=t;return a.jsx("div",{className:H.objectValue,children:a.jsx(ge,{data:r,contracts:e,depth:n+1,maxDepth:i})})}catch{return a.jsx("span",{className:H.unknownValue,children:JSON.stringify(t)})}return a.jsx("span",{className:H.unknownValue,children:"something"})}const Jc="_container_19c0q_1",tu="_mainInformation_19c0q_4",eu="_contractChipHeader_19c0q_15",nu="_mainInformationRows_19c0q_19",iu="_mainInformationRowTitle_19c0q_31",ru="_mainInformationFooter_19c0q_35",su="_mainInformationStatus_19c0q_39",au="_active_19c0q_56",ou="_inactive_19c0q_60",lu="_frozen_19c0q_64",cu="_detailsInformation_19c0q_68",uu="_tabsContainer_19c0q_78",du="_tab_19c0q_78",hu="_tabContent_19c0q_102",fu="_codeSection_19c0q_106",pu="_stateSection_19c0q_112",mu="_codeBlock_19c0q_118",gu="_codeBlockTitle_19c0q_126",_u="_parsedStateInitHeader_19c0q_135",yu="_parsedStateInit_19c0q_135",xu="_assemblyCode_19c0q_167",vu="_hexCode_19c0q_177",bu="_txTableHeader_19c0q_307",wu="_txTableHeaderCell_19c0q_315",Nu="_txTableHeaderCellValue_19c0q_321",Cu="_txTableLine_19c0q_325",Tu="_txTableCell_19c0q_339",Su="_txTableCellOpcode_19c0q_344",ju="_externalInLabel_19c0q_355",Mu="_txTableCellValue_19c0q_360",ku="_inMessage_19c0q_365",Iu="_addressShort_19c0q_377",Eu="_noTransactionsMessage_19c0q_382",Ru="_moreTransactionsMessage_19c0q_388",R={container:Jc,mainInformation:tu,contractChipHeader:eu,mainInformationRows:nu,mainInformationRowTitle:iu,mainInformationFooter:ru,mainInformationStatus:su,active:au,inactive:ou,frozen:lu,detailsInformation:cu,tabsContainer:uu,tab:du,tabContent:hu,codeSection:fu,stateSection:pu,codeBlock:mu,codeBlockTitle:gu,parsedStateInitHeader:_u,parsedStateInit:yu,assemblyCode:xu,hexCode:vu,txTableHeader:bu,txTableHeaderCell:wu,txTableHeaderCellValue:Nu,txTableLine:Cu,txTableCell:Tu,txTableCellOpcode:Su,externalInLabel:ju,txTableCellValue:Mu,inMessage:ku,addressShort:Iu,noTransactionsMessage:Eu,moreTransactionsMessage:Ru};function $u(t,e){return t.flatMap(n=>n.transactions.filter(i=>i.address?i.address.toString()===e.address.toString():!1))}const Jn=(t,e=30)=>{if(t.length<=e)return a.jsx(a.Fragment,{children:t});const n=Math.floor(e/2),i=t.substring(0,n),r=t.substring(t.length-n);return a.jsxs("span",{title:t,className:R.truncatedMiddle,children:[i,a.jsx("span",{className:R.ellipsis,children:""}),r]})};function Au(t,e){if(!t)return a.jsx("span",{className:R.addressShort,children:""});if(t.info.type==="internal"){const n=t.info.src;return a.jsx("div",{className:R.inMessage,children:e?a.jsx(a.Fragment,{children:a.jsx(kt,{address:n.toString(),contracts:e})}):a.jsx(a.Fragment,{children:a.jsx("span",{className:R.addressShort,children:Jn(n.toString(),10)})})})}if(t.info.type==="external-in"){const n=t.info.src;return a.jsx("div",{className:R.inMessage,children:e?a.jsx(a.Fragment,{children:a.jsx(kt,{address:n?.toString(),contracts:e})}):a.jsx(a.Fragment,{children:a.jsx("span",{className:R.addressShort,children:Jn(n?.toString()??"unknown",10)})})})}return a.jsx("span",{className:R.addressShort,children:"External"})}function ti(t,e){return t.meta?.abi?.types?.find(n=>n.name===`${e}$Data`)}function Ou(t){const e=t.stateInit?.data;if(e){const n=Y.Cell.fromHex(e.toBoc().toString("hex")),i=t.meta?.wrapperName;if(!i)return;const r=ti(t,i);if(r)return console.log(`found abi data for ${t.meta?.wrapperName??"unknown contract"}`),qt(n.asSlice(),r,t.meta?.abi?.types??[]);const o=ti(t,i==="ExtendedShardedJettonWallet"?"JettonWalletSharded":i==="ExtendedShardedJettonMinter"?"JettonMinterSharded":i);if(o)return console.log(`found abi data for ${t.meta?.wrapperName??"unknown contract"}`),qt(n.asSlice(),o,t.meta?.abi?.types??[]);console.log(`no abi data for ${t.meta?.wrapperName??"unknown contract"}`)}}function Lu({tx:t,contracts:e}){const n=t.opcode,i=Je(t,e),r=t.transaction.inMessage,s=r?.info?.type==="internal"?r?.info.value?.coins:void 0,o=r?.info?.type==="external-in";return a.jsxs("div",{className:R.txTableLine,children:[a.jsxs("div",{className:R.txTableCellOpcode,children:[a.jsx(Li,{opcode:n,abiName:i?.name}),o&&a.jsx("span",{className:R.externalInLabel,children:" (external-in)"})]}),a.jsx("div",{className:R.txTableCell,children:Au(r,e)}),a.jsx("div",{className:`${R.txTableCell} ${R.txTableCellValue}`,children:xt(s)})]})}function Du({contract:t,contracts:e,tests:n,isDeployed:i}){const[r,s]=U.useState("history"),o=t.address.toString(),l=xt(t.account.account?.storage?.balance?.coins),u=(t.meta?.treasurySeed?"Treasury":t.meta?.wrapperName)??"Unknown contract",c=t.account.account?.storage?.state?.type??"unknown",d=x=>{switch(x){case"active":return`${R.mainInformationStatus} ${R.active}`;case"frozen":return`${R.mainInformationStatus} ${R.frozen}`;case"uninit":case"unknown":default:return`${R.mainInformationStatus} ${R.inactive}`}},f=Ou(t),h=$u(n,t),g=t.stateInit?.code?Gi.print(Xi.decompileCell(t.stateInit?.code)):"",C=t.stateInit?.code?.toBoc()?.toString("hex")??"",E=t.stateInit?.data?.toBoc()?.toString("hex")??"",k=t.stateInit?.data?.toString()??"",N=()=>f?a.jsx(ge,{data:f,contracts:e}):null;return a.jsxs("div",{className:R.container,children:[a.jsxs("div",{className:R.mainInformation,children:[a.jsx("div",{className:R.contractChipHeader,children:a.jsx(kt,{address:o,contracts:e})}),a.jsxs("div",{className:R.mainInformationRows,children:[a.jsx("div",{className:R.mainInformationRowTitle,children:"Address"}),a.jsx("div",{children:o}),a.jsx("div",{className:R.mainInformationRowTitle,children:"Balance"}),a.jsx("div",{children:l}),a.jsx("div",{className:R.mainInformationRowTitle,children:"Contract type"}),a.jsx("div",{children:u})]}),a.jsx("div",{className:R.mainInformationFooter,children:a.jsx("div",{className:d(c),children:c})})]}),a.jsxs("div",{className:R.detailsInformation,children:[a.jsxs("div",{className:R.tabsContainer,children:[a.jsx("div",{className:`${R.tab} ${r==="history"?R.active:""}`,onClick:()=>s("history"),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),s("history"))},role:"button",tabIndex:0,children:"History"}),a.jsx("div",{className:`${R.tab} ${r==="code"?R.active:""}`,onClick:()=>s("code"),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),s("code"))},role:"button",tabIndex:0,children:"Code"}),a.jsx("div",{className:`${R.tab} ${r==="state-init"?R.active:""}`,onClick:()=>s("state-init"),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),s("state-init"))},role:"button",tabIndex:0,children:"State Init"})]}),a.jsxs("div",{className:R.tabContent,children:[r==="history"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:R.txTableHeader,children:[a.jsx("div",{className:R.txTableHeaderCell,children:"Operation"}),a.jsx("div",{className:R.txTableHeaderCell,children:"From"}),a.jsx("div",{className:`${R.txTableHeaderCell} ${R.txTableHeaderCellValue}`,children:"Value"})]}),h.length>0?h.map((x,w)=>a.jsx(Lu,{tx:x,contracts:e},w)):a.jsx("div",{className:R.txTableLine,children:a.jsx("div",{className:`${R.txTableCell} ${R.noTransactionsMessage}`,children:"No transactions found"})}),h.length>10&&a.jsx("div",{className:R.txTableLine,children:a.jsxs("div",{className:`${R.txTableCell} ${R.moreTransactionsMessage}`,children:["+",h.length-10," more transactions"]})})]}),r==="code"&&a.jsxs("div",{className:R.codeSection,children:[a.jsxs("div",{className:R.codeBlock,children:[a.jsx("div",{className:R.codeBlockTitle,children:"Assembly Code"}),a.jsx("div",{className:R.assemblyCode,children:g??"No assembly code available"})]}),a.jsxs("div",{className:R.codeBlock,children:[a.jsx("div",{className:R.codeBlockTitle,children:"Hex"}),a.jsx("div",{className:R.hexCode,children:C??"No hex code available"})]})]}),r==="state-init"&&a.jsxs("div",{className:R.stateSection,children:[f&&a.jsxs("div",{children:[a.jsx("div",{className:R.parsedStateInitHeader,children:"Parsed State Init"}),a.jsx("div",{className:R.parsedStateInit,children:N()})]}),a.jsxs("div",{className:R.codeBlock,children:[a.jsx("div",{className:R.codeBlockTitle,children:"Hex"}),a.jsx("div",{className:R.hexCode,children:E??"No init data available"})]}),a.jsxs("div",{className:R.codeBlock,children:[a.jsx("div",{className:R.codeBlockTitle,children:"Cells"}),a.jsx("div",{className:R.hexCode,children:k??"No init data available"})]})]})]})]})]})}const Fu="_transactionDetailsContainer_r9cc8_1",Vu="_detailRow_r9cc8_10",Pu="_detailLabel_r9cc8_20",zu="_detailValue_r9cc8_35",qu="_labeledSectionRow_r9cc8_44",Bu="_labeledSectionTitle_r9cc8_53",Wu="_labeledSectionContent_r9cc8_68",Hu="_multiColumnRow_r9cc8_78",Uu="_multiColumnItem_r9cc8_86",Gu="_multiColumnItemTitle_r9cc8_104",Xu="_multiColumnItemValue_r9cc8_111",Ku="_booleanTrue_r9cc8_117",Yu="_booleanFalse_r9cc8_122",Qu="_numberValue_r9cc8_127",Zu="_parsedDataContent_r9cc8_181",D={transactionDetailsContainer:Fu,detailRow:Vu,detailLabel:Pu,detailValue:zu,labeledSectionRow:qu,labeledSectionTitle:Bu,labeledSectionContent:Wu,multiColumnRow:Hu,multiColumnItem:Uu,multiColumnItemTitle:Gu,multiColumnItemValue:Xu,booleanTrue:Ku,booleanFalse:Yu,numberValue:Qu,parsedDataContent:Zu},ei=(t,e,n)=>t?a.jsx(kt,{address:t.toString(),contracts:e,onContractClick:n}):a.jsx(kt,{address:void 0,contracts:e,onContractClick:n});function Ju({tx:t,contracts:e,onContractClick:n}){if(t.transaction.description.type!=="generic")throw new Error("TxTracer doesn't support non-generic transaction. Given type: "+t.transaction.description.type);const i=t.computeInfo,r=Je(t,e);let s;const o=e.get(t.address?.toString()??""),l=t.transaction.inMessage?.body?.asSlice();l&&r&&(l.remainingBits>=32&&l.loadUint(32),s=qt(l,r,o?.meta?.abi?.types??[]));const u=c=>a.jsx("span",{className:c?D.booleanTrue:D.booleanFalse,children:c?"Yes":"No"});return a.jsxs("div",{className:D.transactionDetailsContainer,children:[a.jsxs("div",{className:D.detailRow,children:[a.jsx("div",{className:D.detailLabel,children:"Message Route"}),a.jsxs("div",{className:D.detailValue,children:[ei(t.transaction.inMessage?.info?.src,e,n),"  ",ei(t.transaction.inMessage?.info?.dest,e,n)]})]}),t.amount&&a.jsxs("div",{className:D.detailRow,children:[a.jsx("div",{className:D.detailLabel,children:"Value"}),a.jsx("div",{className:D.detailValue,children:xt(t.amount)})]}),a.jsxs("div",{className:D.detailRow,children:[a.jsx("div",{className:D.detailLabel,children:"Out Messages"}),a.jsx("div",{className:D.detailValue,children:a.jsx("span",{className:D.numberValue,children:t.transaction.outMessagesCount})})]}),a.jsxs("div",{className:D.labeledSectionRow,children:[a.jsx("div",{className:D.labeledSectionTitle,children:"Message Data"}),a.jsxs("div",{className:D.labeledSectionContent,children:[a.jsx("div",{className:D.multiColumnRow,children:a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Opcode"}),a.jsx("div",{className:D.multiColumnItemValue,children:a.jsx(Li,{opcode:t.opcode,abiName:r?.name})})]})}),s&&a.jsxs("div",{className:D.multiColumnItemValue,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Parsed Data:"}),a.jsx("div",{className:D.parsedDataContent,children:a.jsx(ge,{data:s,contracts:e})})]})]})]}),a.jsxs("div",{className:D.labeledSectionRow,children:[a.jsx("div",{className:D.labeledSectionTitle,children:"Compute Phase"}),a.jsx("div",{className:D.labeledSectionContent,children:i==="skipped"?a.jsx("div",{className:D.multiColumnItemValue,children:"Skipped"}):a.jsxs("div",{className:D.multiColumnRow,children:[a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Success"}),a.jsx("div",{className:D.multiColumnItemValue,children:u(i?.success??!1)})]}),a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Exit Code"}),a.jsx("div",{className:`${D.multiColumnItemValue} ${D.numberValue}`,children:i?.exitCode})]}),a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"VM Steps"}),a.jsx("div",{className:`${D.multiColumnItemValue} ${D.numberValue}`,children:i?.vmSteps})]}),a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Gas Used"}),a.jsx("div",{className:`${D.multiColumnItemValue} ${D.gasValue}`,children:i?.gasUsed})]}),a.jsxs("div",{className:D.multiColumnItem,children:[a.jsx("div",{className:D.multiColumnItemTitle,children:"Gas Fees"}),a.jsx("div",{className:`${D.multiColumnItemValue} ${D.gasValue}`,children:xt(i?.gasFees)})]})]})})]})]})}const td="_container_rrf70_1",ed="_header_rrf70_5",nd="_testTitle_rrf70_11",id="_timestamp_rrf70_18",rd="_stats_rrf70_26",sd="_statItem_rrf70_35",ad="_statLabel_rrf70_41",at={container:td,header:ed,testTitle:nd,timestamp:id,stats:rd,statItem:sd,statLabel:ad};function od({testData:t}){const e=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"",n=t.transactions.length,r=t.transactions.filter(s=>!s.parent).length;return a.jsxs("div",{className:at.container,children:[a.jsxs("div",{className:at.header,children:[a.jsxs("h2",{className:at.testTitle,children:["#",t.id," ",t.testName??"unknown test"]}),t.timestamp&&a.jsxs("p",{className:at.timestamp,children:["Executed at: ",e(t.timestamp)]}),a.jsxs("div",{className:at.stats,children:[a.jsxs("span",{className:at.statItem,children:[a.jsx("span",{className:at.statLabel,children:"Total transactions:"})," ",n]}),r>1&&a.jsxs("span",{className:at.statItem,children:[a.jsx("span",{className:at.statLabel,children:"Transaction sequences:"})," ",r]}),a.jsxs("span",{className:at.statItem,children:[a.jsx("span",{className:at.statLabel,children:"Contracts:"})," ",t.contracts.size]})]})]}),a.jsx(xc,{testData:t},`tree-${t.id}`)]})}const ld="_container_1seio_1",cd="_content_1seio_8",ud="_leftColumn_1seio_14",dd="_rightColumn_1seio_25",hd="_title_1seio_41",fd="_description_1seio_49",pd="_infoSection_1seio_57",md="_infoTitle_1seio_64",gd="_infoText_1seio_71",_d="_stepsTitle_1seio_78",yd="_steps_1seio_78",xd="_step_1seio_78",vd="_stepNumber_1seio_110",bd="_stepContent_1seio_126",wd="_stepTitle_1seio_131",Nd="_stepDescription_1seio_138",Cd="_codeBlock_1seio_145",Td="_inlineCode_1seio_159",z={container:ld,content:cd,leftColumn:ud,rightColumn:dd,title:hd,description:fd,infoSection:pd,infoTitle:md,infoText:gd,stepsTitle:_d,steps:yd,step:xd,stepNumber:vd,stepContent:bd,stepTitle:wd,stepDescription:Nd,codeBlock:Cd,inlineCode:Td};function Sd(){return a.jsx("div",{className:z.container,children:a.jsxs("div",{className:z.content,children:[a.jsxs("div",{className:z.leftColumn,children:[a.jsx("h1",{className:z.title,children:"Sandbox Not Connected"}),a.jsx("p",{className:z.description,children:"To work with Sandbox, please follow the setup instructions on the right."}),a.jsxs("div",{className:z.infoSection,children:[a.jsx("h3",{className:z.infoTitle,children:"What is Web Sandbox?"}),a.jsx("p",{className:z.infoText,children:"Web Sandbox extends the standard TON Sandbox with transaction tracing capabilities, allowing you to visualize and debug smart contract interactions in web interface."})]})]}),a.jsxs("div",{className:z.rightColumn,children:[a.jsx("h2",{className:z.stepsTitle,children:"Setup Instructions"}),a.jsxs("div",{className:z.steps,children:[a.jsxs("div",{className:z.step,children:[a.jsx("div",{className:z.stepNumber,children:"1"}),a.jsxs("div",{className:z.stepContent,children:[a.jsx("h3",{className:z.stepTitle,children:"Install web-sandbox-server"}),a.jsx("p",{className:z.stepDescription,children:"Install the custom library for TracingSandbox:"}),a.jsx("code",{className:z.codeBlock,children:"npm install web-sandbox-server"})]})]}),a.jsxs("div",{className:z.step,children:[a.jsx("div",{className:z.stepNumber,children:"2"}),a.jsxs("div",{className:z.stepContent,children:[a.jsx("h3",{className:z.stepTitle,children:"Start the daemon"}),a.jsx("p",{className:z.stepDescription,children:"Open terminal, run the command and reload page:"}),a.jsx("code",{className:z.codeBlock,children:"npx run web-sandbox-server"})]})]}),a.jsxs("div",{className:z.step,children:[a.jsx("div",{className:z.stepNumber,children:"3"}),a.jsxs("div",{className:z.stepContent,children:[a.jsx("h3",{className:z.stepTitle,children:"Change Blockchain in tests"}),a.jsxs("p",{className:z.stepDescription,children:["In your tests, replace ",a.jsx("code",{className:z.inlineCode,children:"Blockchain"})," with"," ",a.jsx("code",{className:z.inlineCode,children:"TracingBlockchain"}),":"]}),a.jsxs("code",{className:z.codeBlock,children:["import ","{","TracingBlockchain","}",' from "web-sandbox-server"',a.jsx("br",{}),"const blockchain = await TracingBlockchain.create()"]})]})]}),a.jsxs("div",{className:z.step,children:[a.jsx("div",{className:z.stepNumber,children:"4"}),a.jsxs("div",{className:z.stepContent,children:[a.jsx("h3",{className:z.stepTitle,children:"Run your test and reload page"}),a.jsx("p",{className:z.stepDescription,children:"Run your test. Data will automatically appear in Sandbox"})]})]})]})]})]})})}const jd="_container_1wh3e_1",Md="_content_1wh3e_9",kd="_leftColumn_1wh3e_16",Id="_rightColumn_1wh3e_26",Ed="_title_1wh3e_36",Rd="_description_1wh3e_44",$d="_statusSection_1wh3e_52",Ad="_statusTitle_1wh3e_60",Od="_statusItem_1wh3e_67",Ld="_statusIcon_1wh3e_80",Dd="_tips_1wh3e_98",Fd="_tip_1wh3e_98",Vd="_tipIcon_1wh3e_124",Pd="_tipContent_1wh3e_130",zd="_tipTitle_1wh3e_134",qd="_tipText_1wh3e_141",Bd="_inlineCode_1wh3e_148",q={container:jd,content:Md,leftColumn:kd,rightColumn:Id,title:Ed,description:Rd,statusSection:$d,statusTitle:Ad,statusItem:Od,statusIcon:Ld,tips:Dd,tip:Fd,tipIcon:Vd,tipContent:Pd,tipTitle:zd,tipText:qd,inlineCode:Bd};function Wd(){return a.jsx("div",{className:q.container,children:a.jsxs("div",{className:q.content,children:[a.jsxs("div",{className:q.leftColumn,children:[a.jsx("h2",{className:q.title,children:"Waiting for Data"}),a.jsx("p",{className:q.description,children:"Connection established. Waiting for data from running tests..."}),a.jsxs("div",{className:q.statusSection,children:[a.jsx("h3",{className:q.statusTitle,children:"Connection Status"}),a.jsxs("div",{className:q.statusItem,children:[a.jsx(It,{svg:a.jsx(Zi,{}),size:32,className:q.statusIcon}),a.jsx("span",{children:"WebSocket connected"})]}),a.jsxs("div",{className:q.statusItem,children:[a.jsx("div",{className:q.statusIcon,children:a.jsx(Vi,{loading:!0,message:""})}),a.jsx("span",{children:"Waiting for test data"})]})]})]}),a.jsx("div",{className:q.rightColumn,children:a.jsxs("div",{className:q.tips,children:[a.jsxs("div",{className:q.tip,children:[a.jsx(It,{svg:a.jsx(Ki,{}),size:24,className:q.tipIcon}),a.jsxs("div",{className:q.tipContent,children:[a.jsx("h3",{className:q.tipTitle,children:"Use TracingBlockchain"}),a.jsxs("p",{className:q.tipText,children:["Make sure your tests use"," ",a.jsx("code",{className:q.inlineCode,children:"TracingBlockchain"})," instead of regular Blockchain"]})]})]}),a.jsxs("div",{className:q.tip,children:[a.jsx(It,{svg:a.jsx(Yi,{}),size:24,className:q.tipIcon}),a.jsxs("div",{className:q.tipContent,children:[a.jsx("h3",{className:q.tipTitle,children:"Run Your Tests"}),a.jsx("p",{className:q.tipText,children:"Execute your test suite and data will appear automatically in real-time"})]})]}),a.jsxs("div",{className:q.tip,children:[a.jsx(It,{svg:a.jsx(Qi,{}),size:24,className:q.tipIcon}),a.jsxs("div",{className:q.tipContent,children:[a.jsx("h3",{className:q.tipTitle,children:"Live Updates"}),a.jsx("p",{className:q.tipText,children:"No need to refresh - new transactions will appear as they are executed"})]})]}),a.jsxs("div",{className:q.tip,children:[a.jsx(It,{svg:a.jsx(Ji,{}),size:24,className:q.tipIcon}),a.jsxs("div",{className:q.tipContent,children:[a.jsx("h3",{className:q.tipTitle,children:"Debug Smart Contracts"}),a.jsx("p",{className:q.tipText,children:"Trace transactions step-by-step to understand contract execution flow and debug issues"})]})]})]})})]})})}const Hd="_traceViewWrapper_18axw_1",Ud="_appContainer_18axw_7",Gd="_headerContent_18axw_17",Xd="_errorMessage_18axw_116",Kd="_fullPageState_18axw_121",mt={traceViewWrapper:Hd,appContainer:Ud,headerContent:Gd,errorMessage:Xd,fullPageState:Kd};function Yd(){const{tests:t,error:e,isConnected:n}=cr(),i=a.jsx(un,{pageTitle:"sandbox",children:a.jsx("div",{className:mt.headerContent})});return n?n&&t.length===0&&!e?a.jsxs("div",{className:mt.traceViewWrapper,children:[i,a.jsx("div",{className:mt.fullPageState,children:a.jsx(Wd,{})})]}):a.jsxs("div",{className:mt.traceViewWrapper,children:[a.jsx(un,{pageTitle:"sandbox",children:a.jsx("div",{className:mt.headerContent})}),a.jsxs("main",{className:mt.appContainer,children:[e&&a.jsx("div",{className:mt.errorMessage,children:e}),a.jsx("div",{children:t.map(r=>a.jsx(od,{testData:r},r.id))})]})]}):a.jsxs("div",{className:mt.traceViewWrapper,children:[i,a.jsx("div",{className:mt.fullPageState,children:a.jsx(Sd,{})})]})}Pi.createRoot(document.getElementById("root")).render(a.jsx(X.StrictMode,{children:a.jsx(zi,{children:a.jsx(qi,{children:a.jsx(Bi,{children:a.jsx(Wi,{loadingMessage:"Loading Sandbox page...",children:a.jsx(Yd,{})})})})})}));
