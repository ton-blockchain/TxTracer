const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-Djx0KWNu.js","./Badge-CHIEhubc.js","./ton-vendor-BkcVSvwD.js","./Badge-CJMe75ua.css","./monaco-editor-core-BNZEfIW9.js","./monaco-editor-core-GL-q52Lm.css","./InlineLoader-Djy94kZv.js","./ton-assembly-CiuMSHFZ.js","./ton-sandbox-uER9kMRK.js","./error-codes-B36bHDJL.js","./index-CiNhpJcB.css"])))=>i.map(i=>d[i]);
import{j as f,r as X,y as It,z as Yn,R as F,n as Ar}from"./Badge-CHIEhubc.js";import{T as Ye}from"./Tooltip-DghSPY58.js";import{E as Rr}from"./error-codes-B36bHDJL.js";import{s as Q,c as Dr,a as Or,u as jr,n as an,T as $r}from"./TraceSidePanel-CKUeG51-.js";import{d as Lr,g as zr}from"./ton-vendor-BkcVSvwD.js";import{I as Ir}from"./InlineLoader-Djy94kZv.js";import{_ as Pr}from"./monaco-editor-core-BNZEfIW9.js";const oe=t=>t==null||t===0n?"0 TON":`${(Number(t)/1e9).toFixed(9).replace(/(\.[0-9]*[1-9])0+$/,"$1").replace(/\.0+$/,"")} TON`,se=t=>t?t==="external"?"External":String(t):"—",Hc=t=>t==null?"—":f.jsx("span",{className:"number-value",children:t.toString()}),Uc=(t,e,n)=>t?t.length<=e+n+3?t:`${t.substring(0,e)}...${t.substring(t.length-n)}`:"—";function Gc({exitCode:t,abi:e}){if(t===void 0)return f.jsx("span",{className:Q.exitCode,children:"—"});const n=Rr[t]??{name:"Custom error",description:"User defined error",phase:"Compute phase"},r=e?.errors?.[t],i=r&&!n,o=n?.name??(i?"Custom error":""),s=r?.message??n?.description,a=n?.phase,c=f.jsxs("div",{className:Q.tooltipContent,children:[s&&f.jsxs("div",{className:Q.tooltipSection,children:[f.jsx("div",{className:Q.tooltipLabel,children:"Description:"}),f.jsx("div",{className:Q.tooltipDescription,children:s})]}),a&&f.jsxs("div",{className:Q.tooltipSection,children:[f.jsx("div",{className:Q.tooltipLabel,children:"Origin:"}),f.jsx("div",{className:Q.tooltipPhase,children:a})]})]}),l=t===0||t===1,u=`${Q.exitCode} ${l?Q.success:Q.error}`;return f.jsx(Ye,{content:c,variant:"hover",children:f.jsxs("span",{className:u,children:[t,o&&t!==0&&f.jsxs("span",{className:Q.exitCodeName,children:[" (",o,")"]})]})})}const qr="_opcodeChip_mv1pa_1",Fr="_opcodeText_mv1pa_12",Br="_opcodeSubText_mv1pa_17",Vr="_copyButton_mv1pa_22",Ft={opcodeChip:qr,opcodeText:Fr,opcodeSubText:Br,copyButton:Vr},Xc=({opcode:t,abiName:e,showOpcode:n=!1})=>{const[r,i]=X.useState(!1),o=e??(t?`0x${t.toString(16)}`:"Empty"),s=e&&n&&t?`0x${t.toString(16)}`:void 0,a=t?`0x${t.toString(16)}`:"",c=X.useCallback(async l=>{if(l.stopPropagation(),!!a)try{await navigator.clipboard.writeText(a),i(!0)}catch(u){console.error("Failed to copy:",u)}},[a]);return X.useEffect(()=>{if(r){const l=setTimeout(()=>i(!1),2e3);return()=>clearTimeout(l)}},[r]),f.jsxs("div",{className:Ft.opcodeChip,children:[f.jsx("span",{className:Ft.opcodeText,children:o}),s&&f.jsx("span",{className:Ft.opcodeSubText,children:"· "+s}),a&&f.jsx("button",{className:Ft.copyButton,onClick:l=>{c(l).catch(console.error)},title:`Copy ${a}`,"aria-label":`Copy opcode ${a}`,children:r?f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20,6 9,17 4,12"})}):f.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"m5,15 L5,5 a2,2 0 0,1 2,-2 l10,0"})]})})]})},Wr=t=>{switch(t.type){case"sendMsg":{const e=t.outMsg,n=e.info.type==="internal"?"Internal":"External",r=e.info.type==="internal"||e.info.type==="external-out"?e.info.dest:"unknown",i=typeof r=="string"?r:se(r),o=e.info.type==="internal"?oe(e.info.value.coins):"";return{title:"Send Message",icon:"send-icon",description:`${n} → ${i}`,value:o}}case"setCode":return{title:"Set Code",icon:"code-icon",description:"Update contract code",value:""};case"reserve":return{title:"Reserve",icon:"reserve-icon",description:`Mode: ${t.mode}`,value:oe(t.currency.coins)};default:return{title:"Unknown",icon:"unknown-icon",description:`Type: ${t.type}`,value:""}}};function Hr(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Ur(){return this.eachAfter(Hr)}function Gr(t){var e=this,n,r=[e],i,o,s;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(o=0,s=i.length;o<s;++o)r.push(i[o]);while(r.length);return this}function Xr(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Kr(t){for(var e=this,n=[e],r=[],i,o,s;e=n.pop();)if(r.push(e),i=e.children,i)for(o=0,s=i.length;o<s;++o)n.push(i[o]);for(;e=r.pop();)t(e);return this}function Yr(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Qr(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Zr(t){for(var e=this,n=Jr(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Jr(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ti(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ei(){var t=[];return this.each(function(e){t.push(e)}),t}function ni(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ri(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Qe(t,e){var n=new Ot(t),r=+t.value&&(n.value=t.value),i,o=[n],s,a,c,l;for(e==null&&(e=oi);i=o.pop();)if(r&&(i.value=+i.data.value),(a=e(i.data))&&(l=a.length))for(i.children=new Array(l),c=l-1;c>=0;--c)o.push(s=i.children[c]=new Ot(a[c])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(ai)}function ii(){return Qe(this).eachBefore(si)}function oi(t){return t.children}function si(t){t.data=t.data.data}function ai(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ot(t){this.data=t,this.depth=this.height=0,this.parent=null}Ot.prototype=Qe.prototype={constructor:Ot,count:Ur,each:Gr,eachAfter:Kr,eachBefore:Xr,sum:Yr,sort:Qr,path:Zr,ancestors:ti,descendants:ei,leaves:ni,links:ri,copy:ii};function li(t,e){return t.parent===e.parent?1:2}function ve(t){var e=t.children;return e?e[0]:t.t}function xe(t){var e=t.children;return e?e[e.length-1]:t.t}function ci(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ui(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function fi(t,e,n){return t.a.parent===e.parent?t.a:n}function te(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}te.prototype=Object.create(Ot.prototype);function hi(t){for(var e=new te(t,0),n,r=[e],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new te(o[s],s)),i.parent=n;return(e.parent=new te(null,0)).children=[e],e}function di(){var t=li,e=1,n=1,r=null;function i(l){var u=hi(l);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)l.eachBefore(c);else{var d=l,h=l,p=l;l.eachBefore(function(v){v.x<d.x&&(d=v),v.x>h.x&&(h=v),v.depth>p.depth&&(p=v)});var C=d===h?1:t(d,h)/2,R=C-d.x,O=e/(h.x+C+R),N=n/(p.depth||1);l.eachBefore(function(v){v.x=(v.x+R)*O,v.y=v.depth*N})}return l}function o(l){var u=l.children,d=l.parent.children,h=l.i?d[l.i-1]:null;if(u){ui(l);var p=(u[0].z+u[u.length-1].z)/2;h?(l.z=h.z+t(l._,h._),l.m=l.z-p):l.z=p}else h&&(l.z=h.z+t(l._,h._));l.parent.A=a(l,h,l.parent.A||d[0])}function s(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function a(l,u,d){if(u){for(var h=l,p=l,C=u,R=h.parent.children[0],O=h.m,N=p.m,v=C.m,w=R.m,k;C=xe(C),h=ve(h),C&&h;)R=ve(R),p=xe(p),p.a=l,k=C.z+v-h.z-O+t(C._,h._),k>0&&(ci(fi(C,l,d),l,k),O+=k,N+=k),v+=C.m,O+=h.m,w+=R.m,N+=p.m;C&&!xe(p)&&(p.t=C,p.m+=v-N),h&&!ve(R)&&(R.t=h,R.m+=O-w,d=l)}return d}function c(l){l.x*=e,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(t=l,i):t},i.size=function(l){return arguments.length?(r=!1,e=+l[0],n=+l[1],i):r?null:[e,n]},i.nodeSize=function(l){return arguments.length?(r=!0,e=+l[0],n=+l[1],i):r?[e,n]:null},i}var Ie="http://www.w3.org/1999/xhtml";const ln={svg:"http://www.w3.org/2000/svg",xhtml:Ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ln.hasOwnProperty(e)?{space:ln[e],local:t}:t}function pi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ie&&e.documentElement.namespaceURI===Ie?e.createElement(t):e.createElementNS(n,t)}}function mi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qn(t){var e=pe(t);return(e.local?mi:pi)(e)}function gi(){}function Ze(t){return t==null?gi:function(){return this.querySelector(t)}}function _i(t){typeof t!="function"&&(t=Ze(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,l,u=0;u<s;++u)(c=o[u])&&(l=t.call(c,c.__data__,u,o))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new Y(r,this._parents)}function yi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vi(){return[]}function Zn(t){return t==null?vi:function(){return this.querySelectorAll(t)}}function xi(t){return function(){return yi(t.apply(this,arguments))}}function wi(t){typeof t=="function"?t=xi(t):t=Zn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(t.call(c,c.__data__,l,s)),i.push(c));return new Y(r,i)}function Jn(t){return function(){return this.matches(t)}}function tr(t){return function(e){return e.matches(t)}}var bi=Array.prototype.find;function Ni(t){return function(){return bi.call(this.children,t)}}function Ci(){return this.firstElementChild}function Ti(t){return this.select(t==null?Ci:Ni(typeof t=="function"?t:tr(t)))}var Si=Array.prototype.filter;function Ei(){return Array.from(this.children)}function Mi(t){return function(){return Si.call(this.children,t)}}function ki(t){return this.selectAll(t==null?Ei:Mi(typeof t=="function"?t:tr(t)))}function Ai(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new Y(r,this._parents)}function er(t){return new Array(t.length)}function Ri(){return new Y(this._enter||this._groups.map(er),this._parents)}function ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Di(t){return function(){return t}}function Oi(t,e,n,r,i,o){for(var s=0,a,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ae(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function ji(t,e,n,r,i,o,s){var a,c,l=new Map,u=e.length,d=o.length,h=new Array(u),p;for(a=0;a<u;++a)(c=e[a])&&(h[a]=p=s.call(c,c.__data__,a,e)+"",l.has(p)?i[a]=c:l.set(p,c));for(a=0;a<d;++a)p=s.call(t,o[a],a,o)+"",(c=l.get(p))?(r[a]=c,c.__data__=o[a],l.delete(p)):n[a]=new ae(t,o[a]);for(a=0;a<u;++a)(c=e[a])&&l.get(h[a])===c&&(i[a]=c)}function $i(t){return t.__data__}function Li(t,e){if(!arguments.length)return Array.from(this,$i);var n=e?ji:Oi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Di(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],d=i[l],h=d.length,p=zi(t.call(u,u&&u.__data__,l,r)),C=p.length,R=a[l]=new Array(C),O=s[l]=new Array(C),N=c[l]=new Array(h);n(u,d,R,O,N,p,e);for(var v=0,w=0,k,x;v<C;++v)if(k=R[v]){for(v>=w&&(w=v+1);!(x=O[w])&&++w<C;);k._next=x||null}}return s=new Y(s,r),s._enter=a,s._exit=c,s}function zi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ii(){return new Y(this._exit||this._groups.map(er),this._parents)}function Pi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function qi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var l=n[c],u=r[c],d=l.length,h=a[c]=new Array(d),p,C=0;C<d;++C)(p=l[C]||u[C])&&(h[C]=p);for(;c<i;++c)a[c]=n[c];return new Y(a,this._parents)}function Fi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Bi(t){t||(t=Vi);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),l,u=0;u<a;++u)(l=s[u])&&(c[u]=l);c.sort(e)}return new Y(i,this._parents).order()}function Vi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hi(){return Array.from(this)}function Ui(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Gi(){let t=0;for(const e of this)++t;return t}function Xi(){return!this.node()}function Ki(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Yi(t){return function(){this.removeAttribute(t)}}function Qi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zi(t,e){return function(){this.setAttribute(t,e)}}function Ji(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function to(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function eo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function no(t,e){var n=pe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qi:Yi:typeof e=="function"?n.local?eo:to:n.local?Ji:Zi)(n,e))}function nr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ro(t){return function(){this.style.removeProperty(t)}}function io(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function so(t,e,n){return arguments.length>1?this.each((e==null?ro:typeof e=="function"?oo:io)(t,e,n??"")):bt(this.node(),t)}function bt(t,e){return t.style.getPropertyValue(e)||nr(t).getComputedStyle(t,null).getPropertyValue(e)}function ao(t){return function(){delete this[t]}}function lo(t,e){return function(){this[t]=e}}function co(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function uo(t,e){return arguments.length>1?this.each((e==null?ao:typeof e=="function"?co:lo)(t,e)):this.node()[t]}function rr(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new ir(t)}function ir(t){this._node=t,this._names=rr(t.getAttribute("class")||"")}ir.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function or(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sr(t,e){for(var n=Je(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function fo(t){return function(){or(this,t)}}function ho(t){return function(){sr(this,t)}}function po(t,e){return function(){(e.apply(this,arguments)?or:sr)(this,t)}}function mo(t,e){var n=rr(t+"");if(arguments.length<2){for(var r=Je(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?po:e?fo:ho)(n,e))}function go(){this.textContent=""}function _o(t){return function(){this.textContent=t}}function yo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vo(t){return arguments.length?this.each(t==null?go:(typeof t=="function"?yo:_o)(t)):this.node().textContent}function xo(){this.innerHTML=""}function wo(t){return function(){this.innerHTML=t}}function bo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function No(t){return arguments.length?this.each(t==null?xo:(typeof t=="function"?bo:wo)(t)):this.node().innerHTML}function Co(){this.nextSibling&&this.parentNode.appendChild(this)}function To(){return this.each(Co)}function So(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Eo(){return this.each(So)}function Mo(t){var e=typeof t=="function"?t:Qn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ko(){return null}function Ao(t,e){var n=typeof t=="function"?t:Qn(t),r=e==null?ko:typeof e=="function"?e:Ze(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ro(){var t=this.parentNode;t&&t.removeChild(this)}function Do(){return this.each(Ro)}function Oo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $o(t){return this.select(t?jo:Oo)}function Lo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zo(t){return function(e){t.call(this,e,this.__data__)}}function Io(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Po(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function qo(t,e,n){return function(){var r=this.__on,i,o=zo(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Fo(t,e,n){var r=Io(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(i=0,u=a[c];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?qo:Po,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function ar(t,e,n){var r=nr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Bo(t,e){return function(){return ar(this,t,e)}}function Vo(t,e){return function(){return ar(this,t,e.apply(this,arguments))}}function Wo(t,e){return this.each((typeof e=="function"?Vo:Bo)(t,e))}function*Ho(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var lr=[null];function Y(t,e){this._groups=t,this._parents=e}function Pt(){return new Y([[document.documentElement]],lr)}function Uo(){return this}Y.prototype=Pt.prototype={constructor:Y,select:_i,selectAll:wi,selectChild:Ti,selectChildren:ki,filter:Ai,data:Li,enter:Ri,exit:Ii,join:Pi,merge:qi,selection:Uo,order:Fi,sort:Bi,call:Wi,nodes:Hi,node:Ui,size:Gi,empty:Xi,each:Ki,attr:no,style:so,property:uo,classed:mo,text:vo,html:No,raise:To,lower:Eo,append:Mo,insert:Ao,remove:Do,clone:$o,datum:Lo,on:Fo,dispatch:Wo,[Symbol.iterator]:Ho};function G(t){return typeof t=="string"?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],lr)}function Go(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pt(t,e){if(t=Go(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Xo={value:()=>{}};function tn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ee(n)}function ee(t){this._=t}function Ko(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ee.prototype=tn.prototype={constructor:ee,on:function(t,e){var n=this._,r=Ko(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Yo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=cn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ee(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Yo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function cn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xo,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Pe={capture:!0,passive:!1};function qe(t){t.preventDefault(),t.stopImmediatePropagation()}function Qo(t){var e=t.document.documentElement,n=G(t).on("dragstart.drag",qe,Pe);"onselectstart"in e?n.on("selectstart.drag",qe,Pe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Zo(t,e){var n=t.document.documentElement,r=G(t).on("dragstart.drag",null);e&&(r.on("click.drag",qe,Pe),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function en(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qt(){}var jt=.7,le=1/jt,wt="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jo=/^#([0-9a-f]{3,8})$/,ts=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),es=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),ns=new RegExp(`^rgba\\(${wt},${wt},${wt},${$t}\\)$`),rs=new RegExp(`^rgba\\(${it},${it},${it},${$t}\\)$`),is=new RegExp(`^hsl\\(${$t},${it},${it}\\)$`),os=new RegExp(`^hsla\\(${$t},${it},${it},${$t}\\)$`),un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};en(qt,Lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHex8:ss,formatHsl:as,formatRgb:hn,toString:hn});function fn(){return this.rgb().formatHex()}function ss(){return this.rgb().formatHex8()}function as(){return ur(this).formatHsl()}function hn(){return this.rgb().formatRgb()}function Lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dn(e):n===3?new K(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ts.exec(t))?new K(e[1],e[2],e[3],1):(e=es.exec(t))?new K(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ns.exec(t))?Bt(e[1],e[2],e[3],e[4]):(e=rs.exec(t))?Bt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=is.exec(t))?gn(e[1],e[2]/100,e[3]/100,1):(e=os.exec(t))?gn(e[1],e[2]/100,e[3]/100,e[4]):un.hasOwnProperty(t)?dn(un[t]):t==="transparent"?new K(NaN,NaN,NaN,0):null}function dn(t){return new K(t>>16&255,t>>8&255,t&255,1)}function Bt(t,e,n,r){return r<=0&&(t=e=n=NaN),new K(t,e,n,r)}function ls(t){return t instanceof qt||(t=Lt(t)),t?(t=t.rgb(),new K(t.r,t.g,t.b,t.opacity)):new K}function Fe(t,e,n,r){return arguments.length===1?ls(t):new K(t,e,n,r??1)}function K(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}en(K,Fe,cr(qt,{brighter(t){return t=t==null?le:Math.pow(le,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jt:Math.pow(jt,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new K(yt(this.r),yt(this.g),yt(this.b),ce(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pn,formatHex:pn,formatHex8:cs,formatRgb:mn,toString:mn}));function pn(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}`}function cs(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}${_t((isNaN(this.opacity)?1:this.opacity)*255)}`}function mn(){const t=ce(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function ce(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _t(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function gn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new et(t,e,n,r)}function ur(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof qt||(t=Lt(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new et(s,a,c,t.opacity)}function us(t,e,n,r){return arguments.length===1?ur(t):new et(t,e,n,r??1)}function et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}en(et,us,cr(qt,{brighter(t){return t=t==null?le:Math.pow(le,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jt:Math.pow(jt,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new K(we(t>=240?t-240:t+120,i,r),we(t,i,r),we(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new et(_n(this.h),Vt(this.s),Vt(this.l),ce(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ce(this.opacity);return`${t===1?"hsl(":"hsla("}${_n(this.h)}, ${Vt(this.s)*100}%, ${Vt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _n(t){return t=(t||0)%360,t<0?t+360:t}function Vt(t){return Math.max(0,Math.min(1,t||0))}function we(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fr=t=>()=>t;function fs(t,e){return function(n){return t+n*e}}function hs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ds(t){return(t=+t)==1?hr:function(e,n){return n-e?hs(e,n,t):fr(isNaN(e)?n:e)}}function hr(t,e){var n=e-t;return n?fs(t,n):fr(isNaN(t)?e:t)}const yn=function t(e){var n=ds(e);function r(i,o){var s=n((i=Fe(i)).r,(o=Fe(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),l=hr(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function dt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,be=new RegExp(Be.source,"g");function ps(t){return function(){return t}}function ms(t){return function(e){return t(e)+""}}function gs(t,e){var n=Be.lastIndex=be.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=Be.exec(t))&&(i=be.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:dt(r,i)})),n=be.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?ms(c[0].x):ps(e):(e=c.length,function(l){for(var u=0,d;u<e;++u)a[(d=c[u]).i]=d.x(l);return a.join("")})}var vn=180/Math.PI,Ve={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dr(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vn,skewX:Math.atan(c)*vn,scaleX:s,scaleY:a}}var Wt;function _s(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ve:dr(e.a,e.b,e.c,e.d,e.e,e.f)}function ys(t){return t==null||(Wt||(Wt=document.createElementNS("http://www.w3.org/2000/svg","g")),Wt.setAttribute("transform",t),!(t=Wt.transform.baseVal.consolidate()))?Ve:(t=t.matrix,dr(t.a,t.b,t.c,t.d,t.e,t.f))}function pr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,d,h,p,C){if(l!==d||u!==h){var R=p.push("translate(",null,e,null,n);C.push({i:R-4,x:dt(l,d)},{i:R-2,x:dt(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(l,u,d,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:dt(l,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(l,u,d,h){l!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:dt(l,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(l,u,d,h,p,C){if(l!==d||u!==h){var R=p.push(i(p)+"scale(",null,",",null,")");C.push({i:R-4,x:dt(l,d)},{i:R-2,x:dt(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(l,u){var d=[],h=[];return l=t(l),u=t(u),o(l.translateX,l.translateY,u.translateX,u.translateY,d,h),s(l.rotate,u.rotate,d,h),a(l.skewX,u.skewX,d,h),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,d,h),l=u=null,function(p){for(var C=-1,R=h.length,O;++C<R;)d[(O=h[C]).i]=O.x(p);return d.join("")}}}var vs=pr(_s,"px, ","px)","deg)"),xs=pr(ys,", ",")",")"),ws=1e-12;function xn(t){return((t=Math.exp(t))+1/t)/2}function bs(t){return((t=Math.exp(t))-1/t)/2}function Ns(t){return((t=Math.exp(2*t))-1)/(t+1)}const Cs=function t(e,n,r){function i(o,s){var a=o[0],c=o[1],l=o[2],u=s[0],d=s[1],h=s[2],p=u-a,C=d-c,R=p*p+C*C,O,N;if(R<ws)N=Math.log(h/l)/e,O=function(_){return[a+_*p,c+_*C,l*Math.exp(e*_*N)]};else{var v=Math.sqrt(R),w=(h*h-l*l+r*R)/(2*l*n*v),k=(h*h-l*l-r*R)/(2*h*n*v),x=Math.log(Math.sqrt(w*w+1)-w),b=Math.log(Math.sqrt(k*k+1)-k);N=(b-x)/e,O=function(_){var y=_*N,A=xn(x),M=l/(n*v)*(A*Ns(e*y+x)-bs(x));return[a+M*p,c+M*C,l*A/xn(e*y+x)]}}return O.duration=N*1e3*e/Math.SQRT2,O}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return t(s,a,c)},i}(Math.SQRT2,2,4);var Nt=0,kt=0,Ct=0,mr=1e3,ue,At,fe=0,vt=0,me=0,zt=typeof performance=="object"&&performance.now?performance:Date,gr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nn(){return vt||(gr(Ts),vt=zt.now()+me)}function Ts(){vt=0}function he(){this._call=this._time=this._next=null}he.prototype=_r.prototype={constructor:he,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?nn():+n)+(e==null?0:+e),!this._next&&At!==this&&(At?At._next=this:ue=this,At=this),this._call=t,this._time=n,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};function _r(t,e,n){var r=new he;return r.restart(t,e,n),r}function Ss(){nn(),++Nt;for(var t=ue,e;t;)(e=vt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Nt}function wn(){vt=(fe=zt.now())+me,Nt=kt=0;try{Ss()}finally{Nt=0,Ms(),vt=0}}function Es(){var t=zt.now(),e=t-fe;e>mr&&(me-=e,fe=t)}function Ms(){for(var t,e=ue,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ue=n);At=t,We(r)}function We(t){if(!Nt){kt&&(kt=clearTimeout(kt));var e=t-vt;e>24?(t<1/0&&(kt=setTimeout(wn,t-zt.now()-me)),Ct&&(Ct=clearInterval(Ct))):(Ct||(fe=zt.now(),Ct=setInterval(Es,mr)),Nt=1,gr(wn))}}function bn(t,e,n){var r=new he;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ks=tn("start","end","cancel","interrupt"),As=[],yr=0,Nn=1,He=2,ne=3,Cn=4,Ue=5,re=6;function ge(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Rs(t,n,{name:e,index:r,group:i,on:ks,tween:As,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yr})}function rn(t,e){var n=nt(t,e);if(n.state>yr)throw new Error("too late; already scheduled");return n}function ot(t,e){var n=nt(t,e);if(n.state>ne)throw new Error("too late; already running");return n}function nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Rs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=_r(o,0,n.time);function o(l){n.state=Nn,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var u,d,h,p;if(n.state!==Nn)return c();for(u in r)if(p=r[u],p.name===n.name){if(p.state===ne)return bn(s);p.state===Cn?(p.state=re,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=re,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(bn(function(){n.state===ne&&(n.state=Cn,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=He,n.on.call("start",t,t.__data__,n.index,n.group),n.state===He){for(n.state=ne,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Ue,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===Ue&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=re,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ie(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>He&&r.state<Ue,r.state=re,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Ds(t){return this.each(function(){ie(this,t)})}function Os(t,e){var n,r;return function(){var i=ot(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function js(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ot(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=a;break}c===l&&i.push(a)}o.tween=i}}function $s(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Os:js)(n,t,e))}function on(t,e,n){var r=t._id;return t.each(function(){var i=ot(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nt(i,r).value[e]}}function vr(t,e){var n;return(typeof e=="number"?dt:e instanceof Lt?yn:(n=Lt(e))?(e=n,yn):gs)(t,e)}function Ls(t){return function(){this.removeAttribute(t)}}function zs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Is(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ps(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function qs(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Fs(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Bs(t,e){var n=pe(t),r=n==="transform"?xs:vr;return this.attrTween(t,typeof e=="function"?(n.local?Fs:qs)(n,r,on(this,"attr."+t,e)):e==null?(n.local?zs:Ls)(n):(n.local?Ps:Is)(n,r,e))}function Vs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ws(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Hs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ws(t,o)),n}return i._value=e,i}function Us(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Vs(t,o)),n}return i._value=e,i}function Gs(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=pe(t);return this.tween(n,(r.local?Hs:Us)(r,e))}function Xs(t,e){return function(){rn(this,t).delay=+e.apply(this,arguments)}}function Ks(t,e){return e=+e,function(){rn(this,t).delay=e}}function Ys(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xs:Ks)(e,t)):nt(this.node(),e).delay}function Qs(t,e){return function(){ot(this,t).duration=+e.apply(this,arguments)}}function Zs(t,e){return e=+e,function(){ot(this,t).duration=e}}function Js(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qs:Zs)(e,t)):nt(this.node(),e).duration}function ta(t,e){if(typeof e!="function")throw new Error;return function(){ot(this,t).ease=e}}function ea(t){var e=this._id;return arguments.length?this.each(ta(e,t)):nt(this.node(),e).ease}function na(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ot(this,t).ease=n}}function ra(t){if(typeof t!="function")throw new Error;return this.each(na(this._id,t))}function ia(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new ht(r,this._parents,this._name,this._id)}function oa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],l=n[a],u=c.length,d=s[a]=new Array(u),h,p=0;p<u;++p)(h=c[p]||l[p])&&(d[p]=h);for(;a<r;++a)s[a]=e[a];return new ht(s,this._parents,this._name,this._id)}function sa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function aa(t,e,n){var r,i,o=sa(e)?rn:ot;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function la(t,e){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(t):this.each(aa(n,t,e))}function ca(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ua(){return this.on("end.remove",ca(this._id))}function fa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ze(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,l=o[s]=new Array(c),u,d,h=0;h<c;++h)(u=a[h])&&(d=t.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),l[h]=d,ge(l[h],e,n,h,l,nt(u,n)));return new ht(o,this._parents,e,n)}function ha(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zn(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var h=t.call(u,u.__data__,d,c),p,C=nt(u,n),R=0,O=h.length;R<O;++R)(p=h[R])&&ge(p,e,n,R,h,C);o.push(h),s.push(u)}return new ht(o,s,e,n)}var da=Pt.prototype.constructor;function pa(){return new da(this._groups,this._parents)}function ma(t,e){var n,r,i;return function(){var o=bt(this,t),s=(this.style.removeProperty(t),bt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function xr(t){return function(){this.style.removeProperty(t)}}function ga(t,e,n){var r,i=n+"",o;return function(){var s=bt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function _a(t,e,n){var r,i,o;return function(){var s=bt(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),bt(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function ya(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=ot(this,t),l=c.on,u=c.value[o]==null?a||(a=xr(e)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(s,i=u),c.on=r}}function va(t,e,n){var r=(t+="")=="transform"?vs:vr;return e==null?this.styleTween(t,ma(t,r)).on("end.style."+t,xr(t)):typeof e=="function"?this.styleTween(t,_a(t,r,on(this,"style."+t,e))).each(ya(this._id,t)):this.styleTween(t,ga(t,r,e),n).on("end.style."+t,null)}function xa(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function wa(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xa(t,s,n)),r}return o._value=e,o}function ba(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,wa(t,e,n??""))}function Na(t){return function(){this.textContent=t}}function Ca(t){return function(){var e=t(this);this.textContent=e??""}}function Ta(t){return this.tween("text",typeof t=="function"?Ca(on(this,"text",t)):Na(t==null?"":t+""))}function Sa(t){return function(e){this.textContent=t.call(this,e)}}function Ea(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Sa(i)),e}return r._value=t,r}function Ma(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ea(t))}function ka(){for(var t=this._name,e=this._id,n=wr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var u=nt(c,e);ge(c,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ht(r,this._parents,t,n)}function Aa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var l=ot(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),l.on=e}),i===0&&o()})}var Ra=0;function ht(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function wr(){return++Ra}var lt=Pt.prototype;ht.prototype={constructor:ht,select:fa,selectAll:ha,selectChild:lt.selectChild,selectChildren:lt.selectChildren,filter:ia,merge:oa,selection:pa,transition:ka,call:lt.call,nodes:lt.nodes,node:lt.node,size:lt.size,empty:lt.empty,each:lt.each,on:la,attr:Bs,attrTween:Gs,style:va,styleTween:ba,text:Ta,textTween:Ma,remove:ua,tween:$s,delay:Ys,duration:Js,ease:ea,easeVarying:ra,end:Aa,[Symbol.iterator]:lt[Symbol.iterator]};function Da(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Oa={time:null,delay:0,duration:250,ease:Da};function ja(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $a(t){var e,n;t instanceof ht?(e=t._id,t=t._name):(e=wr(),(n=Oa).time=nn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&ge(c,t,e,l,s,n||ja(c,e));return new ht(r,this._parents,t,e)}Pt.prototype.interrupt=Ds;Pt.prototype.transition=$a;const Ht=t=>()=>t;function La(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ft(t,e,n){this.k=t,this.x=e,this.y=n}ft.prototype={constructor:ft,scale:function(t){return t===1?this:new ft(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ft(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var de=new ft(1,0,0);ft.prototype;function Ne(t){t.stopImmediatePropagation()}function Tt(t){t.preventDefault(),t.stopImmediatePropagation()}function za(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ia(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Tn(){return this.__zoom||de}function Pa(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function qa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Ce(){var t=za,e=Ia,n=Fa,r=Pa,i=qa,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Cs,l=tn("start","zoom","end"),u,d,h,p=500,C=150,R=0,O=10;function N(m){m.property("__zoom",Tn).on("wheel.zoom",y,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(m,S,g,E){var D=m.selection?m.selection():m;D.property("__zoom",Tn),m!==D?x(m,S,g,E):D.interrupt().each(function(){b(this,arguments).event(E).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},N.scaleBy=function(m,S,g,E){N.scaleTo(m,function(){var D=this.__zoom.k,j=typeof S=="function"?S.apply(this,arguments):S;return D*j},g,E)},N.scaleTo=function(m,S,g,E){N.transform(m,function(){var D=e.apply(this,arguments),j=this.__zoom,L=g==null?k(D):typeof g=="function"?g.apply(this,arguments):g,P=j.invert(L),q=typeof S=="function"?S.apply(this,arguments):S;return n(w(v(j,q),L,P),D,s)},g,E)},N.translateBy=function(m,S,g,E){N.transform(m,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,E)},N.translateTo=function(m,S,g,E,D){N.transform(m,function(){var j=e.apply(this,arguments),L=this.__zoom,P=E==null?k(j):typeof E=="function"?E.apply(this,arguments):E;return n(de.translate(P[0],P[1]).scale(L.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof g=="function"?-g.apply(this,arguments):-g),j,s)},E,D)};function v(m,S){return S=Math.max(o[0],Math.min(o[1],S)),S===m.k?m:new ft(S,m.x,m.y)}function w(m,S,g){var E=S[0]-g[0]*m.k,D=S[1]-g[1]*m.k;return E===m.x&&D===m.y?m:new ft(m.k,E,D)}function k(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function x(m,S,g,E){m.on("start.zoom",function(){b(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(E).end()}).tween("zoom",function(){var D=this,j=arguments,L=b(D,j).event(E),P=e.apply(D,j),q=g==null?k(P):typeof g=="function"?g.apply(D,j):g,rt=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),V=D.__zoom,J=typeof S=="function"?S.apply(D,j):S,st=c(V.invert(q).concat(rt/V.k),J.invert(q).concat(rt/J.k));return function(tt){if(tt===1)tt=J;else{var at=st(tt),ye=rt/at[2];tt=new ft(ye,q[0]-at[0]*ye,q[1]-at[1]*ye)}L.zoom(null,tt)}})}function b(m,S,g){return!g&&m.__zooming||new _(m,S)}function _(m,S){this.that=m,this.args=S,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,S),this.taps=0}_.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,S){return this.mouse&&m!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var S=G(this.that).datum();l.call(m,this.that,new La(m,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:l}),S)}};function y(m,...S){if(!t.apply(this,arguments))return;var g=b(this,S).event(m),E=this.__zoom,D=Math.max(o[0],Math.min(o[1],E.k*Math.pow(2,r.apply(this,arguments)))),j=pt(m);if(g.wheel)(g.mouse[0][0]!==j[0]||g.mouse[0][1]!==j[1])&&(g.mouse[1]=E.invert(g.mouse[0]=j)),clearTimeout(g.wheel);else{if(E.k===D)return;g.mouse=[j,E.invert(j)],ie(this),g.start()}Tt(m),g.wheel=setTimeout(L,C),g.zoom("mouse",n(w(v(E,D),g.mouse[0],g.mouse[1]),g.extent,s));function L(){g.wheel=null,g.end()}}function A(m,...S){if(h||!t.apply(this,arguments))return;var g=m.currentTarget,E=b(this,S,!0).event(m),D=G(m.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",rt,!0),j=pt(m,g),L=m.clientX,P=m.clientY;Qo(m.view),Ne(m),E.mouse=[j,this.__zoom.invert(j)],ie(this),E.start();function q(V){if(Tt(V),!E.moved){var J=V.clientX-L,st=V.clientY-P;E.moved=J*J+st*st>R}E.event(V).zoom("mouse",n(w(E.that.__zoom,E.mouse[0]=pt(V,g),E.mouse[1]),E.extent,s))}function rt(V){D.on("mousemove.zoom mouseup.zoom",null),Zo(V.view,E.moved),Tt(V),E.event(V).end()}}function M(m,...S){if(t.apply(this,arguments)){var g=this.__zoom,E=pt(m.changedTouches?m.changedTouches[0]:m,this),D=g.invert(E),j=g.k*(m.shiftKey?.5:2),L=n(w(v(g,j),E,D),e.apply(this,S),s);Tt(m),a>0?G(this).transition().duration(a).call(x,L,E,m):G(this).call(N.transform,L,E,m)}}function $(m,...S){if(t.apply(this,arguments)){var g=m.touches,E=g.length,D=b(this,S,m.changedTouches.length===E).event(m),j,L,P,q;for(Ne(m),L=0;L<E;++L)P=g[L],q=pt(P,this),q=[q,this.__zoom.invert(q),P.identifier],D.touch0?!D.touch1&&D.touch0[2]!==q[2]&&(D.touch1=q,D.taps=0):(D.touch0=q,j=!0,D.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(D.taps<2&&(d=q[0],u=setTimeout(function(){u=null},p)),ie(this),D.start())}}function I(m,...S){if(this.__zooming){var g=b(this,S).event(m),E=m.changedTouches,D=E.length,j,L,P,q;for(Tt(m),j=0;j<D;++j)L=E[j],P=pt(L,this),g.touch0&&g.touch0[2]===L.identifier?g.touch0[0]=P:g.touch1&&g.touch1[2]===L.identifier&&(g.touch1[0]=P);if(L=g.that.__zoom,g.touch1){var rt=g.touch0[0],V=g.touch0[1],J=g.touch1[0],st=g.touch1[1],tt=(tt=J[0]-rt[0])*tt+(tt=J[1]-rt[1])*tt,at=(at=st[0]-V[0])*at+(at=st[1]-V[1])*at;L=v(L,Math.sqrt(tt/at)),P=[(rt[0]+J[0])/2,(rt[1]+J[1])/2],q=[(V[0]+st[0])/2,(V[1]+st[1])/2]}else if(g.touch0)P=g.touch0[0],q=g.touch0[1];else return;g.zoom("touch",n(w(L,P,q),g.extent,s))}}function B(m,...S){if(this.__zooming){var g=b(this,S).event(m),E=m.changedTouches,D=E.length,j,L;for(Ne(m),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<D;++j)L=E[j],g.touch0&&g.touch0[2]===L.identifier?delete g.touch0:g.touch1&&g.touch1[2]===L.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(L=pt(L,this),Math.hypot(d[0]-L[0],d[1]-L[1])<O)){var P=G(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return N.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ht(+m),N):r},N.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ht(!!m),N):t},N.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ht(!!m),N):i},N.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ht([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),N):e},N.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],N):[o[0],o[1]]},N.translateExtent=function(m){return arguments.length?(s[0][0]=+m[0][0],s[1][0]=+m[1][0],s[0][1]=+m[0][1],s[1][1]=+m[1][1],N):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},N.constrain=function(m){return arguments.length?(n=m,N):n},N.duration=function(m){return arguments.length?(a=+m,N):a},N.interpolate=function(m){return arguments.length?(c=m,N):c},N.on=function(){var m=l.on.apply(l,arguments);return m===l?N:m},N.clickDistance=function(m){return arguments.length?(R=(m=+m)*m,N):Math.sqrt(R)},N.tapDistance=function(m){return arguments.length?(O=+m,N):O},N}var Sn=Object.prototype.hasOwnProperty;function Dt(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Dt(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Sn.call(t,n)&&++r&&!Sn.call(e,n)||!(n in e)||!Dt(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var Te={exports:{}},En;function Ba(){return En||(En=1,function(t){var e=function(){function n(h,p){return p!=null&&h instanceof p}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,p,C,R,O){typeof p=="object"&&(C=p.depth,R=p.prototype,O=p.includeNonEnumerable,p=p.circular);var N=[],v=[],w=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof C>"u"&&(C=1/0);function k(x,b){if(x===null)return null;if(b===0)return x;var _,y;if(typeof x!="object")return x;if(n(x,r))_=new r;else if(n(x,i))_=new i;else if(n(x,o))_=new o(function(E,D){x.then(function(j){E(k(j,b-1))},function(j){D(k(j,b-1))})});else if(s.__isArray(x))_=[];else if(s.__isRegExp(x))_=new RegExp(x.source,d(x)),x.lastIndex&&(_.lastIndex=x.lastIndex);else if(s.__isDate(x))_=new Date(x.getTime());else{if(w&&Buffer.isBuffer(x))return Buffer.allocUnsafe?_=Buffer.allocUnsafe(x.length):_=new Buffer(x.length),x.copy(_),_;n(x,Error)?_=Object.create(x):typeof R>"u"?(y=Object.getPrototypeOf(x),_=Object.create(y)):(_=Object.create(R),y=R)}if(p){var A=N.indexOf(x);if(A!=-1)return v[A];N.push(x),v.push(_)}n(x,r)&&x.forEach(function(E,D){var j=k(D,b-1),L=k(E,b-1);_.set(j,L)}),n(x,i)&&x.forEach(function(E){var D=k(E,b-1);_.add(D)});for(var M in x){var $;y&&($=Object.getOwnPropertyDescriptor(y,M)),!($&&$.set==null)&&(_[M]=k(x[M],b-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(x),M=0;M<I.length;M++){var B=I[M],m=Object.getOwnPropertyDescriptor(x,B);m&&!m.enumerable&&!O||(_[B]=k(x[B],b-1),m.enumerable||Object.defineProperty(_,B,{enumerable:!1}))}if(O)for(var S=Object.getOwnPropertyNames(x),M=0;M<S.length;M++){var g=S[M],m=Object.getOwnPropertyDescriptor(x,g);m&&m.enumerable||(_[g]=k(x[g],b-1),Object.defineProperty(_,g,{enumerable:!1}))}return _}return k(h,C)}s.clonePrototype=function(p){if(p===null)return null;var C=function(){};return C.prototype=p,new C};function a(h){return Object.prototype.toString.call(h)}s.__objToStr=a;function c(h){return typeof h=="object"&&a(h)==="[object Date]"}s.__isDate=c;function l(h){return typeof h=="object"&&a(h)==="[object Array]"}s.__isArray=l;function u(h){return typeof h=="object"&&a(h)==="[object RegExp]"}s.__isRegExp=u;function d(h){var p="";return h.global&&(p+="g"),h.ignoreCase&&(p+="i"),h.multiline&&(p+="m"),p}return s.__getRegExpFlags=d,s}();t.exports&&(t.exports=e)}(Te)),Te.exports}var Va=Ba();const H=Lr(Va);var Ut,Wa=new Uint8Array(16);function Ha(){if(!Ut&&(Ut=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ut))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ut(Wa)}const Ua=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ga(t){return typeof t=="string"&&Ua.test(t)}var W=[];for(var Se=0;Se<256;++Se)W.push((Se+256).toString(16).substr(1));function Xa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(W[t[e+0]]+W[t[e+1]]+W[t[e+2]]+W[t[e+3]]+"-"+W[t[e+4]]+W[t[e+5]]+"-"+W[t[e+6]]+W[t[e+7]]+"-"+W[t[e+8]]+W[t[e+9]]+"-"+W[t[e+10]]+W[t[e+11]]+W[t[e+12]]+W[t[e+13]]+W[t[e+14]]+W[t[e+15]]).toLowerCase();if(!Ga(n))throw TypeError("Stringified UUID is invalid");return n}function Ee(t,e,n){t=t||{};var r=t.random||(t.rng||Ha)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Xa(r)}var Gt={exports:{}},Me={exports:{}},ke,Mn;function Ka(){if(Mn)return ke;Mn=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ke=t,ke}var Ae,kn;function Ya(){if(kn)return Ae;kn=1;var t=Ka();function e(){}function n(){}return n.resetWarningCache=e,Ae=function(){function r(s,a,c,l,u,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Ae}var An;function _e(){return An||(An=1,Me.exports=Ya()()),Me.exports}var Xt={exports:{}},Re,Rn;function Qa(){return Rn||(Rn=1,Re=function(){for(var e=arguments.length,n=[],r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(i){return i!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}})}),Re}var De,Dn;function Za(){if(Dn)return De;Dn=1;var t=function(){};return De=t,De}function br(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Nr(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function Cr(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}br.__suppressDeprecationWarning=!0;Nr.__suppressDeprecationWarning=!0;Cr.__suppressDeprecationWarning=!0;function Ja(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=br,e.componentWillReceiveProps=Nr),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Cr;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,u,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,l,u,h)}}return t}const tl=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Ja},Symbol.toStringTag,{value:"Module"})),el=zr(tl);var St={},On;function nl(){if(On)return St;On=1,St.__esModule=!0,St.getChildMapping=e,St.mergeChildMappings=n;var t=It();function e(r){if(!r)return r;var i={};return t.Children.map(r,function(o){return o}).forEach(function(o){i[o.key]=o}),i}function n(r,i){r=r||{},i=i||{};function o(p){return i.hasOwnProperty(p)?i[p]:r[p]}var s={},a=[];for(var c in r)i.hasOwnProperty(c)?a.length&&(s[c]=a,a=[]):a.push(c);var l=void 0,u={};for(var d in i){if(s.hasOwnProperty(d))for(l=0;l<s[d].length;l++){var h=s[d][l];u[s[d][l]]=o(h)}u[d]=o(d)}for(l=0;l<a.length;l++)u[a[l]]=o(a[l]);return u}return St}var jn;function Tr(){return jn||(jn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(v[x]=k[x])}return v},r=Qa(),i=h(r),o=It(),s=h(o),a=_e(),c=h(a),l=Za();h(l);var u=el,d=nl();function h(v){return v&&v.__esModule?v:{default:v}}function p(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function C(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function R(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}c.default.any,c.default.func,c.default.node;var O={component:"span",childFactory:function(w){return w}},N=function(v){R(w,v);function w(k,x){p(this,w);var b=C(this,v.call(this,k,x));return b.performAppear=function(_,y){b.currentlyTransitioningKeys[_]=!0,y.componentWillAppear?y.componentWillAppear(b._handleDoneAppearing.bind(b,_,y)):b._handleDoneAppearing(_,y)},b._handleDoneAppearing=function(_,y){y&&y.componentDidAppear&&y.componentDidAppear(),delete b.currentlyTransitioningKeys[_];var A=(0,d.getChildMapping)(b.props.children);(!A||!A.hasOwnProperty(_))&&b.performLeave(_,y)},b.performEnter=function(_,y){b.currentlyTransitioningKeys[_]=!0,y.componentWillEnter?y.componentWillEnter(b._handleDoneEntering.bind(b,_,y)):b._handleDoneEntering(_,y)},b._handleDoneEntering=function(_,y){y&&y.componentDidEnter&&y.componentDidEnter(),delete b.currentlyTransitioningKeys[_];var A=(0,d.getChildMapping)(b.props.children);(!A||!A.hasOwnProperty(_))&&b.performLeave(_,y)},b.performLeave=function(_,y){b.currentlyTransitioningKeys[_]=!0,y&&y.componentWillLeave?y.componentWillLeave(b._handleDoneLeaving.bind(b,_,y)):b._handleDoneLeaving(_,y)},b._handleDoneLeaving=function(_,y){y&&y.componentDidLeave&&y.componentDidLeave(),delete b.currentlyTransitioningKeys[_];var A=(0,d.getChildMapping)(b.props.children);A&&A.hasOwnProperty(_)?b.keysToEnter.push(_):b.setState(function(M){var $=n({},M.children);return delete $[_],{children:$}})},b.childRefs=Object.create(null),b.currentlyTransitioningKeys={},b.keysToEnter=[],b.keysToLeave=[],b.state={children:(0,d.getChildMapping)(k.children)},b}return w.prototype.componentDidMount=function(){var x=this.state.children;for(var b in x)x[b]&&this.performAppear(b,this.childRefs[b])},w.getDerivedStateFromProps=function(x,b){var _=(0,d.getChildMapping)(x.children),y=b.children;return{children:(0,d.mergeChildMappings)(y,_)}},w.prototype.componentDidUpdate=function(x,b){var _=this,y=(0,d.getChildMapping)(this.props.children),A=b.children;for(var M in y){var $=A&&A.hasOwnProperty(M);y[M]&&!$&&!this.currentlyTransitioningKeys[M]&&this.keysToEnter.push(M)}for(var I in A){var B=y&&y.hasOwnProperty(I);A[I]&&!B&&!this.currentlyTransitioningKeys[I]&&this.keysToLeave.push(I)}var m=this.keysToEnter;this.keysToEnter=[],m.forEach(function(g){return _.performEnter(g,_.childRefs[g])});var S=this.keysToLeave;this.keysToLeave=[],S.forEach(function(g){return _.performLeave(g,_.childRefs[g])})},w.prototype.render=function(){var x=this,b=[],_=function($){var I=x.state.children[$];if(I){var B=typeof I.ref!="string",m=x.props.childFactory(I),S=function(E){x.childRefs[$]=E};m===I&&B&&(S=(0,i.default)(I.ref,S)),b.push(s.default.cloneElement(m,{key:$,ref:S}))}};for(var y in this.state.children)_(y);var A=n({},this.props);return delete A.transitionLeave,delete A.transitionName,delete A.transitionAppear,delete A.transitionEnter,delete A.childFactory,delete A.transitionLeaveTimeout,delete A.transitionEnterTimeout,delete A.transitionAppearTimeout,delete A.component,s.default.createElement(this.props.component,A,b)},w}(s.default.Component);N.displayName="TransitionGroup",N.propTypes={},N.defaultProps=O,e.default=(0,u.polyfill)(N),t.exports=e.default}(Xt,Xt.exports)),Xt.exports}var Kt={exports:{}},Yt={exports:{}},Oe={exports:{}},$n;function sn(){return $n||($n=1,function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Oe)),Oe.exports}var Qt={exports:{}},Ln;function rl(){return Ln||(Ln=1,function(t,e){e.__esModule=!0,e.default=n;function n(r,i){return r.classList?!!i&&r.classList.contains(i):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+i+" ")!==-1}t.exports=e.default}(Qt,Qt.exports)),Qt.exports}var zn;function il(){return zn||(zn=1,function(t,e){var n=sn();e.__esModule=!0,e.default=i;var r=n(rl());function i(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}t.exports=e.default}(Yt,Yt.exports)),Yt.exports}var je,In;function ol(){if(In)return je;In=1;function t(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}return je=function(n,r){n.classList?n.classList.remove(r):typeof n.className=="string"?n.className=t(n.className,r):n.setAttribute("class",t(n.className&&n.className.baseVal||"",r))},je}var Zt={exports:{}},Jt={exports:{}},Pn;function Sr(){return Pn||(Pn=1,function(t,e){e.__esModule=!0,e.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);e.default=n,t.exports=e.default}(Jt,Jt.exports)),Jt.exports}var qn;function sl(){return qn||(qn=1,function(t,e){var n=sn();e.__esModule=!0,e.default=void 0;var r=n(Sr()),i=["","webkit","moz","o","ms"],o="clearTimeout",s=u,a,c=function(p,C){return p+(p?C[0].toUpperCase()+C.substr(1):C)+"AnimationFrame"};r.default&&i.some(function(h){var p=c(h,"request");if(p in window)return o=c(h,"cancel"),s=function(R){return window[p](R)}});var l=new Date().getTime();function u(h){var p=new Date().getTime(),C=Math.max(0,16-(p-l)),R=setTimeout(h,C);return l=p,R}a=function(p){return s(p)},a.cancel=function(h){window[o]&&typeof window[o]=="function"&&window[o](h)};var d=a;e.default=d,t.exports=e.default}(Zt,Zt.exports)),Zt.exports}var z={},Fn;function al(){if(Fn)return z;Fn=1;var t=sn();z.__esModule=!0,z.default=z.animationEnd=z.animationDelay=z.animationTiming=z.animationDuration=z.animationName=z.transitionEnd=z.transitionDuration=z.transitionDelay=z.transitionTiming=z.transitionProperty=z.transform=void 0;var e=t(Sr()),n="transform";z.transform=n;var r,i,o;z.animationEnd=o,z.transitionEnd=i;var s,a,c,l;z.transitionDelay=l,z.transitionTiming=c,z.transitionDuration=a,z.transitionProperty=s;var u,d,h,p;if(z.animationDelay=p,z.animationTiming=h,z.animationDuration=d,z.animationName=u,e.default){var C=O();r=C.prefix,z.transitionEnd=i=C.transitionEnd,z.animationEnd=o=C.animationEnd,z.transform=n=r+"-"+n,z.transitionProperty=s=r+"-transition-property",z.transitionDuration=a=r+"-transition-duration",z.transitionDelay=l=r+"-transition-delay",z.transitionTiming=c=r+"-transition-timing-function",z.animationName=u=r+"-animation-name",z.animationDuration=d=r+"-animation-duration",z.animationTiming=h=r+"-animation-delay",z.animationDelay=p=r+"-animation-timing-function"}var R={transform:n,end:i,property:s,timing:c,delay:l,duration:a};z.default=R;function O(){for(var N=document.createElement("div").style,v={O:function(M){return"o"+M.toLowerCase()},Moz:function(M){return M.toLowerCase()},Webkit:function(M){return"webkit"+M},ms:function(M){return"MS"+M}},w=Object.keys(v),k,x,b="",_=0;_<w.length;_++){var y=w[_];if(y+"TransitionProperty"in N){b="-"+y.toLowerCase(),k=v[y]("TransitionEnd"),x=v[y]("AnimationEnd");break}}return!k&&"transitionProperty"in N&&(k="transitionend"),!x&&"animationName"in N&&(x="animationend"),N=null,{animationEnd:x,transitionEnd:k,prefix:b}}return z}var xt={},Bn;function Er(){if(Bn)return xt;Bn=1,xt.__esModule=!0,xt.nameShape=void 0,xt.transitionTimeout=i;var t=It();r(t);var e=_e(),n=r(e);function r(o){return o&&o.__esModule?o:{default:o}}function i(o){var s="transition"+o+"Timeout",a="transition"+o;return function(c){if(c[a]){if(c[s]==null)return new Error(s+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof c[s]!="number")return new Error(s+" must be a number (in milliseconds)")}return null}}return xt.nameShape=n.default.oneOfType([n.default.string,n.default.shape({enter:n.default.string,leave:n.default.string,active:n.default.string}),n.default.shape({enter:n.default.string,enterActive:n.default.string,leave:n.default.string,leaveActive:n.default.string,appear:n.default.string,appearActive:n.default.string})]),xt}var Vn;function ll(){return Vn||(Vn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(_){for(var y=1;y<arguments.length;y++){var A=arguments[y];for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(_[M]=A[M])}return _},r=il(),i=O(r),o=ol(),s=O(o),a=sl(),c=O(a),l=al(),u=It(),d=O(u),h=_e(),p=O(h),C=Yn(),R=Er();function O(_){return _&&_.__esModule?_:{default:_}}function N(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function v(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function w(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var k=[];l.transitionEnd&&k.push(l.transitionEnd),l.animationEnd&&k.push(l.animationEnd);function x(_,y){return k.length?k.forEach(function(A){return _.addEventListener(A,y,!1)}):setTimeout(y,0),function(){k.length&&k.forEach(function(A){return _.removeEventListener(A,y,!1)})}}p.default.node,R.nameShape.isRequired,p.default.bool,p.default.bool,p.default.bool,p.default.number,p.default.number,p.default.number;var b=function(_){w(y,_);function y(A,M){N(this,y);var $=v(this,_.call(this,A,M));return $.componentWillAppear=function(I){$.props.appear?$.transition("appear",I,$.props.appearTimeout):I()},$.componentWillEnter=function(I){$.props.enter?$.transition("enter",I,$.props.enterTimeout):I()},$.componentWillLeave=function(I){$.props.leave?$.transition("leave",I,$.props.leaveTimeout):I()},$.classNameAndNodeQueue=[],$.transitionTimeouts=[],$}return y.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(M){clearTimeout(M)}),this.classNameAndNodeQueue.length=0},y.prototype.transition=function(M,$,I){var B=(0,C.findDOMNode)(this);if(!B){$&&$();return}var m=this.props.name[M]||this.props.name+"-"+M,S=this.props.name[M+"Active"]||m+"-active",g=null,E=void 0;(0,i.default)(B,m),this.queueClassAndNode(S,B);var D=function(L){L&&L.target!==B||(clearTimeout(g),E&&E(),(0,s.default)(B,m),(0,s.default)(B,S),E&&E(),$&&$())};I?(g=setTimeout(D,I),this.transitionTimeouts.push(g)):l.transitionEnd&&(E=x(B,D))},y.prototype.queueClassAndNode=function(M,$){var I=this;this.classNameAndNodeQueue.push({className:M,node:$}),this.rafHandle||(this.rafHandle=(0,c.default)(function(){return I.flushClassNameAndNodeQueue()}))},y.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(M){M.node.scrollTop,(0,i.default)(M.node,M.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},y.prototype.render=function(){var M=n({},this.props);return delete M.name,delete M.appear,delete M.enter,delete M.leave,delete M.appearTimeout,delete M.enterTimeout,delete M.leaveTimeout,delete M.children,d.default.cloneElement(d.default.Children.only(this.props.children),M)},y}(d.default.Component);b.displayName="CSSTransitionGroupChild",b.propTypes={},e.default=b,t.exports=e.default}(Kt,Kt.exports)),Kt.exports}var Wn;function cl(){return Wn||(Wn=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(v[x]=k[x])}return v},r=It(),i=h(r),o=_e(),s=h(o),a=Tr(),c=h(a),l=ll(),u=h(l),d=Er();function h(v){return v&&v.__esModule?v:{default:v}}function p(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function C(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function R(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}d.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,d.transitionTimeout)("Appear"),(0,d.transitionTimeout)("Enter"),(0,d.transitionTimeout)("Leave");var O={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},N=function(v){R(w,v);function w(){var k,x,b;p(this,w);for(var _=arguments.length,y=Array(_),A=0;A<_;A++)y[A]=arguments[A];return b=(k=(x=C(this,v.call.apply(v,[this].concat(y))),x),x._wrapChild=function(M){return i.default.createElement(u.default,{name:x.props.transitionName,appear:x.props.transitionAppear,enter:x.props.transitionEnter,leave:x.props.transitionLeave,appearTimeout:x.props.transitionAppearTimeout,enterTimeout:x.props.transitionEnterTimeout,leaveTimeout:x.props.transitionLeaveTimeout},M)},k),C(x,b)}return w.prototype.render=function(){return i.default.createElement(c.default,n({},this.props,{childFactory:this._wrapChild}))},w}(i.default.Component);N.displayName="CSSTransitionGroup",N.propTypes={},N.defaultProps=O,e.default=N,t.exports=e.default}(Gt,Gt.exports)),Gt.exports}var $e,Hn;function ul(){if(Hn)return $e;Hn=1;var t=cl(),e=i(t),n=Tr(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}return $e={TransitionGroup:r.default,CSSTransitionGroup:e.default},$e}var fl=ul();const hl=t=>t.enableLegacyTransitions?F.createElement(fl.TransitionGroup,{component:t.component,className:t.className,transform:t.transform},t.children):F.createElement("g",{className:t.className,transform:t.transform},t.children),dl=15,Un={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},pl=({nodeDatum:t,toggleNode:e,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:i})=>F.createElement(F.Fragment,null,F.createElement("circle",{r:dl,onClick:o=>{e(),n(o)},onMouseOver:r,onMouseOut:i}),F.createElement("g",{className:"rd3t-label"},F.createElement("text",Object.assign({className:"rd3t-label__title"},Un.title),t.name),F.createElement("text",{className:"rd3t-label__attributes"},t.attributes&&Object.entries(t.attributes).map(([o,s],a)=>F.createElement("tspan",Object.assign({key:`${o}-${a}`},Un.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));class ml extends F.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(e,n,r,i)=>n.subscriptions!==e.subscriptions||n.position.x!==e.position.x||n.position.y!==e.position.y||n.orientation!==e.orientation||i.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:e,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,i=typeof r=="function"?r:pl,o={hierarchyPointNode:n,nodeDatum:e,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return i(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=e=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,e)},this.handleOnMouseOver=e=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,e)},this.handleOnMouseOut=e=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,e)},this.handleAddChildren=e=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,e)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(e,n){return this.shouldNodeTransform(this.props,e,this.state,n)}setTransform(e,n,r,i=!1){if(i){const o=n!=null,s=o?n.x:0,a=o?n.y:0;return r==="horizontal"?`translate(${a},${s})`:`translate(${s},${a})`}return r==="horizontal"?`translate(${e.y},${e.x})`:`translate(${e.x},${e.y})`}applyTransform(e,n,r=1,i=()=>{}){this.props.enableLegacyTransitions?G(this.nodeRef).transition().duration(n).attr("transform",e).style("opacity",r).on("end",i):(G(this.nodeRef).attr("transform",e).style("opacity",r),i())}commitTransform(){const{orientation:e,transitionDuration:n,position:r,parent:i}=this.props,o=this.setTransform(r,i,e);this.applyTransform(o,n)}componentWillLeave(e){const{orientation:n,transitionDuration:r,position:i,parent:o}=this.props,s=this.setTransform(i,o,n,!0);this.applyTransform(s,r,0,e)}render(){const{data:e,nodeClassName:n}=this.props;return F.createElement("g",{id:e.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[e.children&&e.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}}var Ge=Math.PI,Xe=2*Ge,gt=1e-6,gl=Xe-gt;function Ke(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mr(){return new Ke}Ke.prototype=Mr.prototype={constructor:Ke,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,c=r-e,l=o-t,u=s-e,d=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>gt)if(!(Math.abs(u*a-c*l)>gt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,p=r-s,C=a*a+c*c,R=h*h+p*p,O=Math.sqrt(C),N=Math.sqrt(d),v=i*Math.tan((Ge-Math.acos((C+d-R)/(2*O*N)))/2),w=v/N,k=v/O;Math.abs(w-1)>gt&&(this._+="L"+(t+w*l)+","+(e+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>l*p)+","+(this._x1=t+k*a)+","+(this._y1=e+k*c)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),c=t+s,l=e+a,u=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+l:(Math.abs(this._x1-c)>gt||Math.abs(this._y1-l)>gt)&&(this._+="L"+c+","+l),n&&(d<0&&(d=d%Xe+Xe),d>gl?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):d>gt&&(this._+="A"+n+","+n+",0,"+ +(d>=Ge)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Gn(t){return function(){return t}}function _l(t){return t[0]}function yl(t){return t[1]}var vl=Array.prototype.slice;function xl(t){return t.source}function wl(t){return t.target}function kr(t){var e=xl,n=wl,r=_l,i=yl,o=null;function s(){var a,c=vl.call(arguments),l=e.apply(this,c),u=n.apply(this,c);if(o||(o=a=Mr()),t(o,+r.apply(this,(c[0]=l,c)),+i.apply(this,c),+r.apply(this,(c[0]=u,c)),+i.apply(this,c)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(e=a,s):e},s.target=function(a){return arguments.length?(n=a,s):n},s.x=function(a){return arguments.length?(r=typeof a=="function"?a:Gn(+a),s):r},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:Gn(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function bl(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Nl(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Cl(){return kr(bl)}function Tl(){return kr(Nl)}class Sl extends F.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=e=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOver=e=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOut=e=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,e)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(e){this.applyOpacity(0,this.props.transitionDuration,e)}applyOpacity(e,n,r=()=>{}){this.props.enableLegacyTransitions?G(this.linkRef).transition().duration(n).style("opacity",e).on("end",r):(G(this.linkRef).style("opacity",e),r())}drawStepPath(e,n){const{source:r,target:i}=e,o=i.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${i.x} H${i.y}`:`M${r.x},${r.y} V${r.y+o/2} H${i.x} V${i.y}`}drawDiagonalPath(e,n){const{source:r,target:i}=e;return n==="horizontal"?Cl()({source:[r.y,r.x],target:[i.y,i.x]}):Tl()({source:[r.x,r.y],target:[i.x,i.y]})}drawStraightPath(e,n){const{source:r,target:i}=e;return n==="horizontal"?`M${r.y},${r.x}L${i.y},${i.x}`:`M${r.x},${r.y}L${i.x},${i.y}`}drawElbowPath(e,n){return n==="horizontal"?`M${e.source.y},${e.source.x}V${e.target.x}H${e.target.y}`:`M${e.source.x},${e.source.y}V${e.target.y}H${e.target.x}`}drawPath(){const{linkData:e,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(e,n):r==="elbow"?this.drawElbowPath(e,n):r==="straight"?this.drawStraightPath(e,n):r==="step"?this.drawStepPath(e,n):this.drawDiagonalPath(e,n)}getClassNames(){const{linkData:e,orientation:n,pathClassFunc:r}=this.props,i=["rd3t-link"];return typeof r=="function"&&i.push(r(e,n)),i.join(" ").trim()}render(){const{linkData:e}=this.props;return F.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":e.source.id,"data-target-id":e.target.id})}}const El=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class Z extends F.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:Z.assignInternalProperties(H(this.props.data)),d3:Z.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Ee()}`,this.gInstanceRef=`rd3t-g-${Ee()}`,this.handleNodeToggle=e=>{const n=H(this.state.data),i=this.findNodesById(e,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(i.__rd3t.collapsed?(Z.expandNode(i),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(i,n)):Z.collapseNode(i),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=i)},this.handleAddChildrenToNode=(e,n)=>{const r=H(this.state.data),i=this.findNodesById(e,r,[]);if(i.length>0){const o=i[0],s=o.__rd3t.depth,a=H(n).map(c=>Z.assignInternalProperties([c],s+1));o.children.push(...a.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(e,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(H(e),n))},this.handleOnLinkClickCb=(e,n,r)=>{const{onLinkClick:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(H(e),H(n),r))},this.handleOnNodeMouseOverCb=(e,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(H(e),n))},this.handleOnLinkMouseOverCb=(e,n,r)=>{const{onLinkMouseOver:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(H(e),H(n),r))},this.handleOnNodeMouseOutCb=(e,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(H(e),n))},this.handleOnLinkMouseOutCb=(e,n,r)=>{const{onLinkMouseOut:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(H(e),H(n),r))},this.centerNode=e=>{const{dimensions:n,orientation:r,zoom:i,centeringTransitionDuration:o}=this.props;if(n){const s=G(`.${this.gInstanceRef}`),a=G(`.${this.svgInstanceRef}`),c=this.state.d3.scale;let l,u;r==="horizontal"?(u=-e.x*c+n.height/2,l=-e.y*c+n.width/2):(l=-e.x*c+n.width/2,u=-e.y*c+n.height/2),s.transition().duration(o).attr("transform","translate("+l+","+u+")scale("+c+")"),a.call(Ce().transform,de.translate(l,u).scale(i))}},this.getNodeClassName=(e,n)=>{const{rootNodeClassName:r,branchNodeClassName:i,leafNodeClassName:o}=this.props;return e!=null?n.children?i:o:r}}static getDerivedStateFromProps(e,n){let r=null;const i=!e.dataKey||n.dataKey!==e.dataKey;e.data!==n.dataRef&&i&&(r={dataRef:e.data,data:Z.assignInternalProperties(H(e.data)),isInitialRenderForDataset:!0,dataKey:e.dataKey});const o=Z.calculateD3Geometry(e);return Dt(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({isInitialRenderForDataset:!1}),(!Dt(this.props.translate,e.translate)||!Dt(this.props.scaleExtent,e.scaleExtent)||this.props.zoomable!==e.zoomable||this.props.draggable!==e.draggable||this.props.zoom!==e.zoom||this.props.enableLegacyTransitions!==e.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?H(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(e,n){e.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(e){const{zoomable:n,scaleExtent:r,translate:i,zoom:o,onUpdate:s,hasInteractiveNodes:a}=e,c=G(`.${this.svgInstanceRef}`),l=G(`.${this.gInstanceRef}`);c.call(Ce().transform,de.translate(i.x,i.y).scale(o)),c.call(Ce().scaleExtent(n?[r.min,r.max]:[o,o]).filter(u=>a?u.target.classList.contains(this.svgInstanceRef)||u.target.classList.contains(this.gInstanceRef)||u.shiftKey:!0).on("zoom",u=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(u.sourceEvent.type)||(l.attr("transform",u.transform),typeof s=="function"&&(s({node:null,zoom:u.transform.k,translate:{x:u.transform.x,y:u.transform.y}}),this.state.d3.scale=u.transform.k,this.state.d3.translate={x:u.transform.x,y:u.transform.y}))}))}static assignInternalProperties(e,n=0){return(Array.isArray(e)?e:[e]).map(i=>{const o=i;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=Ee(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=Z.assignInternalProperties(o.children,n+1)),o})}findNodesById(e,n,r){return r.length>0||(r=r.concat(n.filter(i=>i.__rd3t.id===e)),n.forEach(i=>{i.children&&i.children.length>0&&(r=this.findNodesById(e,i.children,r))})),r}findNodesAtDepth(e,n,r){return r=r.concat(n.filter(i=>i.__rd3t.depth===e)),n.forEach(i=>{i.children&&i.children.length>0&&(r=this.findNodesAtDepth(e,i.children,r))}),r}static collapseNode(e){e.__rd3t.collapsed=!0,e.children&&e.children.length>0&&e.children.forEach(n=>{Z.collapseNode(n)})}static expandNode(e){e.__rd3t.collapsed=!1}collapseNeighborNodes(e,n){this.findNodesAtDepth(e.__rd3t.depth,n,[]).filter(i=>i.__rd3t.id!==e.__rd3t.id).forEach(i=>Z.collapseNode(i))}generateTree(){const{initialDepth:e,depthFactor:n,separation:r,nodeSize:i,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,c=di().nodeSize(o==="horizontal"?[i.y,i.x]:[i.x,i.y]).separation((d,h)=>d.parent.data.__rd3t.id===h.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(Qe(this.state.data[0],d=>d.__rd3t.collapsed?null:d.children));let l=c.descendants();const u=c.links();return e!==void 0&&s&&this.setInitialTreeDepth(l,e),n&&l.forEach(d=>{d.y=d.depth*n}),{nodes:l,links:u}}static calculateD3Geometry(e){let n;return e.zoom>e.scaleExtent.max?n=e.scaleExtent.max:e.zoom<e.scaleExtent.min?n=e.scaleExtent.min:n=e.zoom,{translate:e.translate,scale:n}}render(){const{nodes:e,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:i,pathFunc:o,transitionDuration:s,nodeSize:a,depthFactor:c,initialDepth:l,separation:u,enableLegacyTransitions:d,svgClassName:h,pathClassFunc:p}=this.props,{translate:C,scale:R}=this.state.d3,O=Object.assign(Object.assign(Object.assign({},a),u),{depthFactor:c,initialDepth:l});return F.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},F.createElement("style",null,El),F.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},F.createElement(hl,{enableLegacyTransitions:d,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${C.x},${C.y}) scale(${R})`},n.map((N,v)=>F.createElement(Sl,{key:"link-"+v,orientation:i,pathFunc:o,pathClassFunc:p,linkData:N,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:d,transitionDuration:s})),e.map((N,v)=>{const{data:w,x:k,y:x,parent:b}=N;return F.createElement(ml,{key:"node-"+v,data:w,position:{x:k,y:x},hierarchyPointNode:N,parent:b,nodeClassName:this.getNodeClassName(b,w),renderCustomNodeElement:r,nodeSize:a,orientation:i,enableLegacyTransitions:d,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:O,centerNode:this.centerNode})}))))}}Z.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function Kc(t,e){if(t.opcode===void 0)return;const n=t?.address;if(!n)return;const r=e.get(n.toString());if(r?.meta?.abi){const i=r?.meta?.abi.types?.find(o=>o.header===t.opcode);if(i)return i}for(const i of[...e.values()]){const o=i?.meta?.abi?.types?.find(s=>s.header===t.opcode);if(o)return o}}function Yc(t,e){const n=t.transaction.inMessage?.info?.src;if(!n)return;const r=e.transactions.filter(i=>i.transaction.inMessage?.info?.dest?.toString()===n?.toString());if(r.length!==0)for(const i of r){const o=i.outActions;if(o.length===0)continue;const s=o.filter(a=>a.type==="sendMsg");if(s.length!==0){for(const a of s)if(a.outMsg?.info?.dest?.toString()===t.address?.toString())return a.mode}}}const Le={0:{name:"SendDefaultMode",description:`Ordinary message (default).

See: <https://docs.tact-lang.org/book/message-mode#base-modes>`},64:{name:"SendRemainingValue",description:`Carry all the remaining value of the inbound message in addition to the value initially indicated in the new message.

See: <https://docs.tact-lang.org/book/message-mode#base-modes>`},128:{name:"SendRemainingBalance",description:`Carry **all the remaining balance** of the current smart contract instead of the value originally indicated in the message.

See: <https://docs.tact-lang.org/book/message-mode#base-modes>`},1024:{name:"SendOnlyEstimateFee",description:`Doesn't send the message, only estimates the forward fees if the message-sending function computes those.

See:
* <https://docs.tact-lang.org/book/message-mode#base-modes>
* <https://docs.tact-lang.org/book/send#message-sending-functions>`},1:{name:"SendPayFwdFeesSeparately",description:`Pay forward fees separately from the message value.

See: <https://docs.tact-lang.org/book/message-mode#optional-flags>`},2:{name:"SendIgnoreErrors",description:`Ignore any errors arising while processing this message during the action phase.

See: <https://docs.tact-lang.org/book/message-mode#optional-flags>`},16:{name:"SendBounceIfActionFail",description:"Bounce transaction in case of any errors during action phase. Has no effect if flag +2, `SendIgnoreErrors` is used.\n\nSee: <https://docs.tact-lang.org/book/message-mode#optional-flags>"},32:{name:"SendDestroyIfZero",description:"Current account (contract) will be destroyed if its resulting balance is zero. This flag is often used with mode 128, `SendRemainingBalance`.\n\nSee: <https://docs.tact-lang.org/book/message-mode#optional-flags>"}};function Ml(t){const e=[];for(const[n,r]of Object.entries(Le)){const i=parseInt(n);t&i&&e.push({name:r.name,value:i,description:r.description})}return e.length===0&&t===0&&e.push({name:Le[0].name,value:0,description:Le[0].description}),e}const mt={0:{name:"ReserveExact",description:"Reserves exactly the specified amount of nanoToncoin."},1:{name:"ReserveAllExcept",description:"Reserves all but the specified amount of nanoToncoin."},2:{name:"ReserveAtMost",description:"Reserves at most the specified amount of nanoToncoin."},4:{name:"ReserveAddOriginalBalance",description:"Increases the amount by the original balance of the current account (before the compute phase), including all extra currencies."},8:{name:"ReserveInvertSign",description:"Negates the amount value before performing the reservation."},16:{name:"ReserveBounceIfActionFail",description:"Bounces the transaction if the reservation fails."}};function kl(t){const e=[];(t&3)===0?e.push({name:mt[0].name,value:0,description:mt[0].description}):(t&3)===1?e.push({name:mt[1].name,value:1,description:mt[1].description}):(t&3)===2&&e.push({name:mt[2].name,value:2,description:mt[2].description});for(const[n,r]of Object.entries(mt)){const i=parseInt(n);i>=4&&t&i&&e.push({name:r.name,value:i,description:r.description})}return e}var Qc=Yn();const Al="_contractChip_1nb3z_1",Rl="_contractChipCopyButton_1nb3z_21",Dl="_clickable_1nb3z_25",Ol="_contractLetter_1nb3z_37",jl="_contractName_1nb3z_51",$l="_contractAddress_1nb3z_58",Ll="_singleContractAddress_1nb3z_64",ct={contractChip:Al,contractChipCopyButton:Rl,clickable:Dl,contractLetter:Ol,contractName:jl,contractAddress:$l,singleContractAddress:Ll};function Rt({address:t,contracts:e,trimSoloAddress:n=!0,onContractClick:r}){const[i,o]=X.useState(!1),s=X.useCallback(p=>{p.stopPropagation(),t&&navigator.clipboard.writeText(t).then(()=>{o(!0)}).catch(C=>{console.error("Failed to copy: ",C)})},[t]),a=X.useCallback(p=>{p.stopPropagation(),t&&r&&r(t)},[t,r]);X.useEffect(()=>{if(i){const p=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(p)}},[i]);const c=f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),l=f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})});if(!t)return f.jsx("span",{className:ct.contractChip,children:"Unknown"});const u=e.get(t),d=r!==void 0,h=f.jsxs(f.Fragment,{children:[u?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:ct.contractLetter,children:u.letter}),f.jsx("span",{className:ct.contractName,children:u.displayName}),f.jsxs("span",{className:ct.contractAddress,children:["(",t.slice(0,6),"…",t.slice(-6),")"]})]}):f.jsx("span",{className:ct.singleContractAddress,children:n?t.slice(0,6)+"…"+t.slice(-6):t}),f.jsx("div",{onClick:s,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),s(p))},className:ct.contractChipCopyButton,title:i?"Copied!":"Copy address","aria-label":i?"Copied to clipboard":"Copy address",role:"button",tabIndex:0,children:i?l:c})]});return d?f.jsx("button",{className:`${ct.contractChip} ${ct.clickable}`,onClick:a,title:"Click to view contract details",type:"button",children:h}):f.jsx("span",{className:ct.contractChip,children:h})}const zl="_container_1ytdt_1",Il="_header_1ytdt_13",Pl="_title_1ytdt_22",ql="_content_1ytdt_29",Fl="_mainContent_1ytdt_36",Bl="_codeEditorArea_1ytdt_44",Vl="_sidePanel_1ytdt_53",Wl="_noTrace_1ytdt_58",Hl="_inlineContainer_1ytdt_74",Ul="_inlineContent_1ytdt_78",Gl="_inlineMainContent_1ytdt_83",U={container:zl,header:Il,title:Pl,content:ql,mainContent:Fl,codeEditorArea:Bl,sidePanel:Vl,noTrace:Wl,inlineContainer:Hl,inlineContent:Ul,inlineMainContent:Gl},Xl=F.lazy(()=>Pr(()=>import("./index-Djx0KWNu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url));function Zc({tx:t,contracts:e,onClose:n,inline:r=!1}){const i=X.useMemo(()=>Dr(t,e),[t,e]),o=Or(i?.traceInfo),{selectedStep:s,highlightLine:a,currentStep:c,currentStack:l,handlePrev:u,handleNext:d,goToFirstStep:h,goToLastStep:p,canGoPrev:C,canGoNext:R,findStepByLine:O,transitionType:N,totalSteps:v}=jr(i?.traceInfo),w=X.useMemo(()=>i?.traceInfo?i.traceInfo.steps.map(y=>({name:y.instructionName,gasCost:an(y)})):[],[i]),k=X.useMemo(()=>{if(!i?.traceInfo?.steps||s<=0)return 0;let y=0;for(let A=0;A<s;A++){const M=i.traceInfo.steps[A];if(M){const $=an(M);isNaN($)||(y+=$)}}return y},[s,i?.traceInfo?.steps]);if(!i){const y=r?U.inlineContainer:U.container;return f.jsxs("div",{className:y,children:[!r&&f.jsxs("div",{className:U.header,children:[f.jsx("h3",{className:U.title,children:"Transaction Trace"}),n&&f.jsx("button",{onClick:n,className:U.closeButton,"aria-label":"Close trace viewer",children:f.jsx(Ar,{size:20})})]}),f.jsx("div",{className:U.content,children:f.jsx("div",{className:U.noTrace,children:"No trace available for this transaction. The transaction may have been skipped or no VM logs were generated."})})]})}const x=r?U.inlineContainer:U.container,b=r?U.inlineContent:U.content,_=r?U.inlineMainContent:U.mainContent;return f.jsx("div",{className:x,children:f.jsx("div",{className:b,children:f.jsxs("div",{className:_,children:[f.jsx("div",{className:U.codeEditorArea,children:f.jsx(X.Suspense,{fallback:f.jsx(Ir,{message:"Loading Editor...",loading:!0}),children:f.jsx(Xl,{code:i.code,highlightLine:a,lineExecutionData:o,onLineClick:O,shouldCenter:N==="button",exitCode:i.exitCode})})}),f.jsx($r,{selectedStep:s,totalSteps:v,currentStep:c,currentStack:l,canGoPrev:C,canGoNext:R,onPrev:u,onNext:d,onFirst:h,onLast:p,showGas:!0,placeholderMessage:"No trace steps available.",instructionDetails:w,cumulativeGas:k,onStackItemClick:()=>{},className:U.sidePanel})]})})})}const Kl="_container_qq78z_1",Yl="_constant_qq78z_8",Ql="_plus_qq78z_24",Zl="_empty_qq78z_30",Et={container:Kl,constant:Yl,plus:Ql,empty:Zl};function Xn({mode:t}){if(t===void 0)return f.jsx("span",{className:Et.empty,children:"No mode"});const e=Ml(t);return e.length===0?f.jsxs("span",{className:Et.empty,children:["Unknown mode: ",t]}):f.jsx("div",{className:Et.container,children:e.map((n,r)=>f.jsxs("div",{children:[r>0&&f.jsx("span",{className:Et.plus,children:" + "}),f.jsx(Ye,{content:n.description,enableMarkdown:!0,children:f.jsxs("span",{className:Et.constant,children:[n.name," (",n.value,")"]})})]},n.value))})}const Jl="_container_qq78z_1",tc="_constant_qq78z_8",ec="_plus_qq78z_24",nc="_empty_qq78z_30",Mt={container:Jl,constant:tc,plus:ec,empty:nc};function rc({mode:t}){if(t===void 0)return f.jsx("span",{className:Mt.empty,children:"No mode"});const e=kl(t);return e.length===0?f.jsxs("span",{className:Mt.empty,children:["Unknown mode: ",t]}):f.jsx("div",{className:Mt.container,children:e.map((n,r)=>f.jsxs("div",{children:[r>0&&f.jsx("span",{className:Mt.plus,children:" + "}),f.jsx(Ye,{content:n.description,enableMarkdown:!0,children:f.jsxs("span",{className:Mt.constant,children:[n.name," (",n.value,")"]})})]},n.value))})}const ic="_container_1pzr7_1",oc="_copyButton_1pzr7_10",sc="_header_1pzr7_15",ac="_title_1pzr7_24",lc="_copied_1pzr7_60",cc="_content_1pzr7_75",uc="_contentAssembly_1pzr7_81",fc="_contentHex_1pzr7_88",ut={container:ic,copyButton:oc,header:sc,title:ac,copied:lc,content:cc,contentAssembly:uc,contentHex:fc},hc=()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),dc=()=>f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})});function ze({title:t,content:e,variant:n="hex",placeholder:r,className:i}){const[o,s]=X.useState(!1),a=e??r??"No content available",c=X.useCallback(()=>{e&&navigator.clipboard.writeText(e).then(()=>{s(!0)}).catch(u=>{console.error("Failed to copy: ",u)})},[e]);X.useEffect(()=>{if(o){const u=setTimeout(()=>{s(!1)},1500);return()=>clearTimeout(u)}},[o]);const l=n==="assembly"?`${ut.content} ${ut.contentAssembly}`:`${ut.content} ${ut.contentHex}`;return f.jsxs("div",{className:`${ut.container} ${i??""}`,children:[f.jsxs("div",{className:ut.header,children:[t&&f.jsx("div",{className:ut.title,children:t}),e&&f.jsx("button",{onClick:c,className:`${ut.copyButton} ${o?ut.copied:""}`,title:o?"Copied!":"Copy","aria-label":o?"Copied to clipboard":"Copy to clipboard",disabled:o,type:"button",children:o?f.jsx(dc,{}):f.jsx(hc,{})})]}),f.jsx("div",{className:l,children:a})]})}const pc="_container_20d7s_1",mc="_scrollWrapper_20d7s_6",gc="_emptyState_20d7s_11",_c="_actionsList_20d7s_19",yc="_actionCard_20d7s_25",vc="_actionIcon_20d7s_48",xc="_actionCardSelected_20d7s_57",wc="_actionTitleText_20d7s_61",bc="_actionContent_20d7s_65",Nc="_actionTitle_20d7s_61",Cc="_actionDescription_20d7s_88",Tc="_actionDescriptionWithChip_20d7s_97",Sc="_actionValue_20d7s_106",Ec="_detailsContainer_20d7s_113",Mc="_actionDetails_20d7s_119",kc="_detailsHeader_20d7s_123",Ac="_detailsContent_20d7s_133",Rc="_detailRow_20d7s_139",Dc="_detailLabel_20d7s_146",Oc="_detailValue_20d7s_154",jc="_booleanTrue_20d7s_161",$c="_booleanFalse_20d7s_167",T={container:pc,scrollWrapper:mc,emptyState:gc,actionsList:_c,actionCard:yc,actionIcon:vc,actionCardSelected:xc,actionTitleText:wc,actionContent:bc,actionTitle:Nc,actionDescription:Cc,actionDescriptionWithChip:Tc,actionValue:Sc,detailsContainer:Ec,actionDetails:Mc,detailsHeader:kc,detailsContent:Ac,detailRow:Rc,detailLabel:Dc,detailValue:Oc,booleanTrue:jc,booleanFalse:$c},Lc=t=>{switch(t){case"sendMsg":return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:f.jsx("path",{d:"M22 2L11 13M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"setCode":return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:f.jsx("path",{d:"M16 18L22 12L16 6M8 6L2 12L8 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"reserve":return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:f.jsx("path",{d:"M12 1V23M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H14.5C15.4283 12 16.3185 12.3687 16.9749 13.0251C17.6313 13.6815 18 14.5717 18 15.5C18 16.4283 17.6313 17.3185 16.9749 17.9749C16.3185 18.6313 15.4283 19 14.5 19H6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"changeLibrary":return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:f.jsx("path",{d:"M4 19V5C4 3.89543 4.89543 3 6 3H18C19.1046 3 20 5V19L12 14L4 19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});default:return f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),f.jsx("path",{d:"M9 9h6v6H9z",fill:"currentColor"})]})}},Kn=t=>f.jsx("span",{className:t?T.booleanTrue:T.booleanFalse,children:t?"Yes":"No"}),zc=(t,e,n,r)=>{switch(t.type){case"sendMsg":{const i=t.outMsg,o=i.info;return f.jsxs("div",{className:T.actionDetails,children:[f.jsx("div",{className:T.detailsHeader,children:f.jsx("h4",{children:"Details"})}),f.jsxs("div",{className:T.detailsContent,children:[f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Mode:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(Xn,{mode:t.mode})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Type:"}),f.jsx("span",{className:T.detailValue,children:o.type})]}),o.type==="internal"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"From:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(Rt,{address:e,contracts:n,trimSoloAddress:!1,onContractClick:r})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"To:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(Rt,{address:se(o.dest),contracts:n,trimSoloAddress:!1,onContractClick:r})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Value:"}),f.jsx("span",{className:T.detailValue,children:oe(o.value.coins)})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Bounce:"}),f.jsx("span",{className:T.detailValue,children:Kn(o.bounce)})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Bounced:"}),f.jsx("span",{className:T.detailValue,children:Kn(o.bounced)})]})]}),o.type==="external-out"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"From:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(Rt,{address:e,contracts:n,trimSoloAddress:!1,onContractClick:r})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"To:"}),f.jsx("div",{className:T.detailValue,children:o.dest?f.jsx(Rt,{address:se(o.dest),contracts:n,trimSoloAddress:!1,onContractClick:r}):"External"})]})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Body:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(ze,{title:"hex",content:i.body.toBoc().toString("hex")})})]})]})]})}case"setCode":return f.jsxs("div",{className:T.actionDetails,children:[f.jsx("div",{className:T.detailsHeader,children:f.jsx("h4",{children:"Details"})}),f.jsx("div",{className:T.detailsContent,children:f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"New Code Hash:"}),f.jsx("span",{className:T.detailValue,children:f.jsx(ze,{title:"hex",content:t.newCode.toBoc().toString("hex")})})]})})]});case"reserve":return f.jsxs("div",{className:T.actionDetails,children:[f.jsx("div",{className:T.detailsHeader,children:f.jsx("h4",{children:"Details"})}),f.jsxs("div",{className:T.detailsContent,children:[f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Mode:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(rc,{mode:t.mode})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Amount:"}),f.jsx("span",{className:T.detailValue,children:oe(t.currency.coins)})]})]})]});case"changeLibrary":return f.jsxs("div",{className:T.actionDetails,children:[f.jsx("div",{className:T.detailsHeader,children:f.jsx("h4",{children:"Details"})}),f.jsxs("div",{className:T.detailsContent,children:[f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Mode:"}),f.jsx("div",{className:T.detailValue,children:f.jsx(Xn,{mode:t.mode})})]}),f.jsxs("div",{className:T.detailRow,children:[f.jsx("span",{className:T.detailLabel,children:"Library:"}),f.jsx("span",{className:T.detailValue,children:f.jsx(ze,{title:"hex",content:t.libRef.type==="hash"?t.libRef.libHash.toString("hex"):t.libRef.library.hash().toString("hex")})})]})]})]})}};function Jc({actions:t,contracts:e,contractAddress:n,onContractClick:r}){const[i,o]=X.useState(null);return t.length===0?f.jsx("div",{className:T.container,children:f.jsx("div",{className:T.emptyState,children:"No actions"})}):f.jsxs("div",{className:T.container,children:[f.jsx("div",{className:T.scrollWrapper,children:f.jsx("div",{className:T.actionsList,children:t.map((s,a)=>{const c=Wr(s),l=i===a;let u=c.description;if(s.type==="sendMsg"){const d=s.outMsg.info;if(d.type==="internal"){const h=se(d.dest);u=f.jsxs("div",{className:T.actionDescriptionWithChip,children:[f.jsx("span",{children:"Internal → "}),f.jsx(Rt,{address:h,contracts:e,onContractClick:r})]})}}return f.jsx("div",{className:`${T.actionCard} ${l?T.actionCardSelected:""}`,onClick:()=>o(l?null:a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),o(l?null:a))},role:"button",tabIndex:0,"aria-expanded":l,"aria-label":`${c.title} action details`,children:f.jsxs("div",{className:T.actionContent,children:[f.jsxs("div",{className:T.actionTitle,children:[f.jsx("div",{className:T.actionIcon,children:Lc(s.type)}),f.jsx("span",{className:T.actionTitleText,children:c.title})]}),f.jsx("div",{className:T.actionDescription,children:u}),c.value&&f.jsx("div",{className:T.actionValue,children:c.value})]})},a)})})}),i!==null&&f.jsx("div",{className:T.detailsContainer,children:zc(t[i],n,e,r)})]})}export{Jc as A,Rt as C,Gc as E,Xc as O,Xn as S,Z as T,oe as a,Hc as b,ze as c,Kc as d,Yc as e,se as f,Zc as g,Qc as r,Uc as s};
