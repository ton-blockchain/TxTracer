import{c as v,r as c,j as o,B as T,e as A,f as N}from"./InlineLoader-C6ZH2cF0.js";function E(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function R(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function F(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}const P="_progressBar_10cz4_1",I="_progressFill_10cz4_11",$="_overlay_10cz4_17",H="_centeredOverlay_10cz4_28",M="_spotlight_10cz4_34",U="_spotlightAnimated_10cz4_46",W="_tooltip_10cz4_50",D="_animated_10cz4_63",V="_header_10cz4_69",q="_title_10cz4_76",K="_closeButton_10cz4_83",G="_body_10cz4_105",J="_text_10cz4_109",Q="_footer_10cz4_116",X="_stepCounter_10cz4_123",Y="_keyboardHint_10cz4_129",Z="_actions_10cz4_137",O="_button_10cz4_142",tt="_primaryButton_10cz4_177",s={progressBar:P,progressFill:I,overlay:$,centeredOverlay:H,spotlight:M,spotlightAnimated:U,tooltip:W,animated:D,header:V,title:q,closeButton:K,body:G,text:J,footer:Q,stepCounter:X,keyboardHint:Y,actions:Z,button:O,primaryButton:tt},wt=({steps:t,isOpen:e,onClose:r,onComplete:d})=>{const[i,h]=c.useState(0),[u,_]=c.useState(null),[k,b]=c.useState({top:0,left:0}),[B,L]=c.useState(!1);c.useEffect(()=>{if(!e)h(0),L(!1);else{const n=setTimeout(()=>{L(!0)},100);return()=>clearTimeout(n)}},[e]);const C=c.useCallback(()=>{if(!e||t.length===0)return;const n=t[i];if(!n.target){_(null);const a=window.innerHeight/2-100,f=window.innerWidth/2-190;b({top:Math.max(20,a),left:Math.max(20,Math.min(window.innerWidth-400,f))});return}const l=document.querySelector(n.target);if(_(l),l){const a=l.getBoundingClientRect(),f=n.placement||"bottom";let p=0,g=0;switch(f){case"top":p=a.top-120,g=a.left+a.width/2-200;break;case"bottom":p=a.bottom+20,g=a.left+a.width/2-200;break;case"left":p=a.top+a.height/2-75,g=a.left-420;break;case"right":p=a.top+a.height/2-75,g=a.right+20;break}g=Math.max(20,Math.min(window.innerWidth-420,g)),p=Math.max(20,Math.min(window.innerHeight-200,p)),b({top:p,left:g})}},[i,t,e]);c.useEffect(()=>{C();const n=()=>C();return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[C]);const S=t[i],x=i===0,m=i===t.length-1,y=c.useCallback(()=>{t[i]?.onStepExit?.(),m?(d?.(),r()):h(l=>l+1)},[i,t,m,d,r]),w=c.useCallback(()=>{x||h(n=>n-1)},[x]);return c.useEffect(()=>{const n=l=>{l.key==="Escape"?r():l.key==="ArrowLeft"&&!x?w():(l.key==="ArrowRight"||l.key==="Enter"&&m)&&y(),l.stopPropagation()};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[e,r,x,y,w,m]),c.useEffect(()=>{if(!e||t.length===0)return;const n=t[i];if(n?.onStepEnter?.(),n?.autoAction){const l=n.autoAction.delay??500,a=setTimeout(()=>{if(n.autoAction?.type==="click"&&n.autoAction.selector){const f=document.querySelector(n.autoAction.selector);f&&f.click()}else n.autoAction?.type==="custom"&&n.autoAction.action&&n.autoAction.action()},l);return()=>clearTimeout(a)}},[i,t,e]),!e||t.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:s.progressBar,children:o.jsx("div",{className:s.progressFill,style:{width:`${(i+1)/t.length*100}%`}})}),o.jsx("div",{className:`${s.overlay} ${u?"":s.centeredOverlay}`,children:u&&o.jsx("div",{className:`${s.spotlight} ${B?s.spotlightAnimated:""}`,style:{top:u.getBoundingClientRect().top,left:u.getBoundingClientRect().left,width:u.getBoundingClientRect().width,height:u.getBoundingClientRect().height}})}),o.jsxs("div",{className:`${s.tooltip} ${B?s.animated:""}`,style:{top:k.top,left:k.left},children:[o.jsxs("div",{className:s.header,children:[o.jsx("h2",{className:s.title,children:S.title}),o.jsx("button",{className:s.closeButton,onClick:r,"aria-label":"Close tutorial",children:"×"})]}),o.jsx("div",{className:s.body,children:o.jsx("div",{className:s.text,dangerouslySetInnerHTML:{__html:S.content.replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>")}})}),o.jsxs("div",{className:s.footer,children:[o.jsxs("div",{className:s.stepCounter,children:[i+1," of ",t.length,o.jsx("div",{className:s.keyboardHint,children:m?"Press Enter or → to finish":"Use ← → keys for navigation"})]}),o.jsxs("div",{className:s.actions,children:[o.jsx("button",{className:s.button,onClick:w,disabled:x,"aria-label":"Previous step",children:o.jsx(E,{})}),o.jsx("button",{className:`${s.button} ${s.primaryButton}`,onClick:y,"aria-label":m?"Finish tutorial":"Next step",children:m?o.jsx(F,{}):o.jsx(R,{})})]})]})]})]})},vt=({tutorialKey:t,autoStart:e=!0})=>{const[r,d]=c.useState(!1),i=`tutorial-completed-${t}`;return c.useEffect(()=>{const b=localStorage.getItem(i)==="true";e&&!b&&d(!0)},[i,e]),{isOpen:r,startTutorial:()=>d(!0),closeTutorial:()=>{localStorage.setItem(i,"true"),d(!1)},completeTutorial:()=>{localStorage.setItem(i,"true"),d(!1)},resetTutorial:()=>{localStorage.removeItem(i)}}};function et(t){return Array.from(t).map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}function ot(t){let e="";for(let r=0;r<t.length;r+=2){const d=t.substring(r,r+2);e+=String.fromCharCode(parseInt(d,16))}return e}function nt(t){try{const e=et(t),r=new URL(window.location.href);return r.search="",r.hash=`code=${e}`,r.toString()}catch(e){return console.error("Failed to encode code to URL:",e),window.location.href}}function Bt(){try{const t=window.location.hash.substring(1);if(!t.startsWith("code="))return null;const e=t.substring(5);return e?/^[0-9a-fA-F]*$/.test(e)?ot(e):(console.error("Invalid hex code in URL hash"),null):null}catch(t){return console.error("Failed to decode code from URL hash:",t),null}}const rt="_traceViewWrapper_k6tkh_1",st="_mainActionContainer_k6tkh_11",it="_appContainer_k6tkh_19",at="_executeButton_k6tkh_57",ct="_shareButton_k6tkh_85",lt="_copied_k6tkh_104",dt="_editorPanel_k6tkh_148",ut="_editorsContainer_k6tkh_153",ht="_editorPanelLeft_k6tkh_169",_t="_editorPanelRight_k6tkh_173",mt="_settingsContainer_k6tkh_177",pt="_settingsButton_k6tkh_181",gt="_settingsDropdown_k6tkh_200",ft="_settingsItem_k6tkh_215",kt="_checkboxCustom_k6tkh_241",xt="_checkboxLabel_k6tkh_281",j={traceViewWrapper:rt,mainActionContainer:st,appContainer:it,executeButton:at,shareButton:ct,copied:lt,editorPanel:dt,editorsContainer:ut,editorPanelLeft:ht,editorPanelRight:_t,settingsContainer:mt,settingsButton:pt,settingsDropdown:gt,settingsItem:ft,checkboxCustom:kt,checkboxLabel:xt},Lt=({value:t})=>{const[e,r]=c.useState(!1),d=`${j.shareButton} ${e?j.copied:""}`,i=c.useCallback(async()=>{const h=nt(t);try{await navigator.clipboard.writeText(h),r(!0),setTimeout(()=>r(!1),1e3),console.log("Share URL copied to clipboard:",h)}catch(u){console.error("Failed to copy to clipboard:",u);const _=document.createElement("textarea");_.value=h,document.body.appendChild(_),_.select();const k=document.execCommand("copy");document.body.removeChild(_),k&&(r(!0),setTimeout(()=>r(!1),1e3))}},[t]);return o.jsxs(o.Fragment,{children:[o.jsxs(T,{onClick:()=>void i(),title:e?"Link copied!":"Share code via URL",className:d,"aria-label":e?"Code link copied to clipboard":"Share code via URL",children:[e?o.jsx(A,{size:16,"aria-hidden":"true"}):o.jsx(N,{size:16,"aria-hidden":"true"}),e?"Copied!":"Share"]}),o.jsx("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:e&&"Share link copied to clipboard"})]})},bt="_loaderContainer_eltuc_1",yt="_loader_eltuc_1",z={loaderContainer:bt,loader:yt},St=({children:t})=>o.jsxs("div",{className:z.loaderContainer,children:[o.jsx("div",{className:z.loader}),t]});export{St as B,Lt as S,wt as T,Bt as d,j as s,vt as u};
