const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CAgtudrZ.js","./Badge-CHIEhubc.js","./ton-vendor-BkcVSvwD.js","./Badge-CJMe75ua.css","./monaco-editor-core-BNZEfIW9.js","./monaco-editor-core-GL-q52Lm.css","./InlineLoader-B3IMzM7a.js","./ton-assembly-RUDGm-gF.js","./ton-sandbox-uER9kMRK.js","./error-codes-B36bHDJL.js","./index-CiNhpJcB.css"])))=>i.map(i=>d[i]);
var qe=Object.defineProperty;var Qe=(e,r,i)=>r in e?qe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i;var oe=(e,r,i)=>Qe(e,typeof r!="symbol"?r+"":r,i);import{r as s,j as o,B as Ze,F as et,R as ye,u as tt,a as nt,b as ot,T as st,H as at,P as it}from"./Badge-CHIEhubc.js";import{_ as rt}from"./monaco-editor-core-BNZEfIW9.js";import{a as $,d as V,I as ct}from"./InlineLoader-B3IMzM7a.js";import{m as lt,f as ut,u as dt,a as pt,n as se,T as gt}from"./TraceSidePanel-BzbLzSLq.js";import{a as mt}from"./ton-sandbox-uER9kMRK.js";import{S as ht}from"./StatusBadge-D841RZR3.js";import{s as W,B as ft,d as ae,a as de,b as xt,u as St,c as vt,e as Ct,S as yt,f as bt,C as kt,T as Et}from"./ShareButton-CN0bfhnn.js";import wt from"./index-D1pMZMn5.js";import"./ton-vendor-BkcVSvwD.js";import"./ton-assembly-RUDGm-gF.js";import"./Tooltip-DghSPY58.js";import"./error-codes-B36bHDJL.js";import"./index-CBSnIcrz.js";function _t(e,{sourceMap:r,compilationResult:i,traceInfo:d,isEnabled:a}){const u=s.useMemo(()=>{if(!a||!d||!r||!i?.mapping)return[];const w=new Map;for(let h=0;h<d.steps.length;h++){const D=d.steps[h];if(!D?.loc?.line)continue;const Y=D.loc.line+1;for(const[A,_]of i.mapping.entries())for(const U of _)if(U.loc?.line!==void 0&&U.loc.line+1===Y){for(const[X,B]of r.locations.entries())if(X===A&&B.file==="main.fc"){const F=B.line;w.has(F)||w.set(F,[]),w.get(F)?.push(h);break}break}}const z=[],f=new Set;for(let h=0;h<d.steps.length;h++){const D=d.steps[h];if(!D?.loc?.line)continue;const Y=D.loc.line+1;for(const[A,_]of i.mapping.entries())for(const U of _)if(U.loc?.line!==void 0&&U.loc.line+1===Y){for(const[X,B]of r.locations.entries())if(X===A&&B.file==="main.fc"){const F=B.line,I=w.get(F);if(I&&!f.has(F)){const J=I[I.length-1];h===J&&(z.push({stepIndex:h,funcLine:F}),f.add(F))}break}break}}return z},[a,d,r,i?.mapping]),[l,g]=s.useState(0);s.useEffect(()=>{a&&u.length>0&&g(0)},[a,u.length]);const p=u[l],S=a&&p?p.stepIndex:e.selectedStep,E=a?l>0:e.canGoPrev,N=a?l<u.length-1:e.canGoNext,y=s.useCallback(()=>{a?g(w=>Math.max(0,w-1)):e.handlePrev()},[a,e]),M=s.useCallback(()=>{a?g(w=>Math.min(u.length-1,w+1)):e.handleNext()},[a,u.length,e]),b=s.useCallback(()=>{a?g(0):e.goToFirstStep()},[a,e]),k=s.useCallback(()=>{a?g(u.length-1):e.goToLastStep()},[a,u.length,e]),L=s.useMemo(()=>{if(!(!d||S<0||S>=d.steps.length))return d.steps[S]},[d,S]),C=s.useMemo(()=>L?.stack??[],[L]);return{...e,selectedStep:S,currentStep:L,currentStack:C,totalSteps:a?u.length:e.totalSteps,canGoPrev:E,canGoNext:N,handlePrev:y,handleNext:M,goToFirstStep:b,goToLastStep:k,funcSteps:u,currentFuncStepIndex:a?l:void 0,handlePrevFunc:a?y:void 0,handleNextFunc:a?M:void 0,totalFuncSteps:a?u.length:void 0}}var be=mt();function Lt(e){const r=new V.TupleBuilder;for(const i of e)switch(i.$){case"Integer":r.writeNumber(i.value);break;case"Cell":try{const d=V.Cell.fromHex(i.boc);r.writeCell(d)}catch{console.warn("Invalid cell BoC, skipping:",i.boc)}break;case"Slice":try{const d=V.Cell.fromHex(i.hex);r.writeSlice(d.beginParse())}catch{console.warn("Invalid slice hex, skipping:",i.hex)}break;case"Null":break;default:console.warn("Unsupported stack element type:",i.$)}return r}const Tt=async(e,r=0,i=[])=>{class d{constructor(M,b){oe(this,"address");oe(this,"init");this.address=M,this.init=b}async send(M,b,k,L){await M.internal(b,{...k,body:L})}async getAny(M,b,k){const L=Lt(k),C=await M.get(b,L.build());return[C.stack,C.vmLogs]}}const a=await be.Blockchain.create();a.verbosity.print=!1,a.verbosity.vmLogs="vm_logs_verbose";const u=await a.treasury("treasure"),l={code:e,data:new V.Cell},g=V.contractAddress(0,l),p=new d(g,l),S=a.openContract(p);await S.send(u.getSender(),{value:V.toNano("10")},new V.Cell);const[E,N]=await S.getAny(r,i);return[E,N]};class Nt extends Error{constructor(r){super(r),this.name="TasmCompilationError"}}const pe=async(e,r=[])=>{const i=$.text.parse("playground.tasm",e);if(i.$==="ParseFailure"){const l=i.error.loc,g=l.file+":"+(l.line+1);throw new Nt(g+": "+i.error.message)}const[d,a]=$.runtime.compileCellWithMapping(i.instructions),u=lt.createMappingInfo(a);try{const[l,g]=await Tt(d,0,r),p=$.trace.createTraceInfoPerTransaction(g,u,void 0)[0];return{stack:l,vmLogs:g,instructions:i.instructions,code:e,mappingInfo:u,exitCode:void 0,traceInfo:p}}catch(l){if(l instanceof be.GetMethodError){const g=$.trace.createTraceInfoPerTransaction(l.vmLogs,u,void 0)[0],p=ut(l.vmLogs,u);return{stack:{items:[],remaining:0},vmLogs:l.vmLogs,instructions:i.instructions,code:e,mappingInfo:u,exitCode:p,traceInfo:g}}throw l}};function ge({options:e,value:r,onChange:i,ariaLabel:d}){return o.jsx("div",{className:W.container,children:o.jsx("div",{className:W.segmented,role:"group","aria-label":d??"Select option",children:e.map(a=>{const u=r===a.value,l=()=>i(a.value);return o.jsxs("label",{className:W.option,children:[o.jsx("input",{className:W.input,type:"radio",name:"segmented-selector",value:a.value,checked:u,onChange:l}),o.jsxs("button",{type:"button",className:`${W.button} ${u?W.buttonSelected:""}`,onClick:l,children:[a.label,a.badge&&o.jsx("span",{className:W.badge,children:a.badge})]})]},a.value)})})})}const Z={SHOW_MAPPING:"txtracer-playground-show-mapping",DIM_NEVER_EXECUTED:"txtracer-playground-dim-never-executed"},me=(e,r)=>{const i=localStorage.getItem(e);return i===null?r:i==="true"},he=(e,r)=>{localStorage.setItem(e,r.toString())};function Mt(){const[e,r]=s.useState(()=>me(Z.SHOW_MAPPING,!1)),[i,d]=s.useState(()=>me(Z.DIM_NEVER_EXECUTED,!0)),a=s.useCallback(()=>{r(l=>{const g=!l;return he(Z.SHOW_MAPPING,g),g})},[]),u=s.useCallback(()=>{d(l=>{const g=!l;return he(Z.DIM_NEVER_EXECUTED,g),g})},[]);return{showMappingHighlight:e,dimNeverExecutedLines:i,toggleShowMappingHighlight:a,toggleDimNeverExecutedLines:u}}const At="_traceViewWrapper_a27kr_1",Ft="_appContainer_a27kr_9",It="_headerContent_a27kr_19",Pt="_languageSwitcherContainer_a27kr_27",jt="_languageSwitcher_a27kr_27",Gt="_steppingSwitcher_a27kr_39",Dt="_steppingLabel_a27kr_45",Ht="_txStatusContainer_a27kr_51",Ot="_mainActionContainer_a27kr_58",Ut="_mainContent_a27kr_65",Bt="_editorContainer_a27kr_97",Rt="_fullEditorWrapper_a27kr_109",Wt="_funcEditorWrapper_a27kr_114",$t="_asmViewerWrapper_a27kr_123",Vt="_executeButton_a27kr_132",Yt="_sidebarArea_a27kr_186",v={traceViewWrapper:At,appContainer:Ft,headerContent:It,languageSwitcherContainer:Pt,languageSwitcher:jt,steppingSwitcher:Gt,steppingLabel:Dt,txStatusContainer:Ht,mainActionContainer:Ot,mainContent:Ut,editorContainer:Bt,fullEditorWrapper:Rt,funcEditorWrapper:Wt,asmViewerWrapper:$t,executeButton:Vt,sidebarArea:Yt};function Kt({onClick:e,loading:r}){return o.jsx(Ze,{onClick:e,disabled:r,className:v.executeButton,title:r?"Executing Assembly Code...":"Execute Assembly Code (Ctrl/Cmd+Enter)","aria-label":r?"Executing assembly code...":"Execute assembly code","aria-describedby":"execution-status","aria-keyshortcuts":"Control+Enter",children:r?o.jsx(ft,{children:"Execute"}):o.jsxs(o.Fragment,{children:[o.jsx(et,{size:16,"aria-hidden":"true"}),"Execute"]})})}const zt=[{title:"Welcome to Playground",content:`This tool lets you write and execute TON Assembly (TASM) and FunC code step by step.

Perfect for learning TVM instructions and debugging smart contracts!

Press Esc to close this tutorial at any time.`,target:"",placement:"bottom"},{title:"Assembly Code Editor",content:`Here you can write your TVM assembly instructions.

Each line represents one instruction that will be executed by the TVM.

The default code shows basic stack operations - feel free to modify it!`,target:'[class*="mainContent"] > div:first-child',placement:"right"},{title:"Initial Stack Setup",content:`Before executing code, you can set up an initial stack with test values.

This is useful for testing functions that expect specific inputs.`,target:'[class*="stack-viewer"]',placement:"left"},{title:"Add Elements onto the Stack",content:"Click + button to add elements onto the Stack one by one, or click Import button to insert the entire stack from VM logs",target:'[class*="stack-header-actions"]',placement:"left"},{title:"Execute Your Code",content:`I'll automatically execute the code for you to demonstrate the trace functionality.

Click Execute manually or press Ctrl+Enter to run your assembly code.`,target:'[role="toolbar"] button:first-child',placement:"bottom",autoAction:{type:"click",selector:'[role="toolbar"] button:first-child',delay:400}},{title:"Execution Status",content:`The status badge shows if the execution succeeded or failed.

• Green badge - Successful execution (exit code 0)
• Red badge - Failed execution (non-zero exit code)

Exit codes help identify what went wrong in the code.`,target:'[role="status"]',placement:"bottom"},{title:"Great! Code Executed",content:`Perfect! The code execution completed successfully.

On the right panel, you can now view the initial stack state before the first instruction execution.`,target:'[class*="mainContent"] > div:last-child',placement:"left"},{title:"Navigate Through Steps",content:`Use the navigation buttons to step through your code execution.

I'll automatically click the 'Next' button to show you how the stack changes.

Watch the stack section below!`,target:'[class*="navigation-controls"]',placement:"left",autoAction:{type:"click",selector:'[data-testid="next-step-button"]',delay:400}},{title:"Gas Usage Tracking",content:`Notice how the gas counter increased!

Each TVM instruction consumes gas (computational cost).

This helps you optimize your smart contracts for efficiency.`,target:'[data-testid="cumulative-gas-counter"]',placement:"left"},{title:"Stack Visualization",content:`Look at the stack section below - see how values changed!

TVM is a stack-based virtual machine. Instructions push/pop values to/from the stack.

Try clicking Next/Prev buttons to see the stack evolve.`,target:'[class*="stack-viewer"]',placement:"left"},{title:"Switch to FunC (beta)",content:`You can switch between Assembly and FunC using this segmented control.

Select FunC (beta) to write high-level code and see the compiled assembly alongside.

Mapping highlight and stepping by source lines are available in FunC mode.`,target:'[class*="languageSwitcher"]',placement:"bottom"},{title:"Share Your Code",content:`Use the share button to generate links to your code.

Perfect for collaboration, asking for help, or showcasing your smart contracts!`,target:'[role="toolbar"] button:nth-child(2)',placement:"bottom"},{title:"Ready to Code!",content:`You're all set! You now know how to:

• Write assembly code
• Execute and debug step by step
• Monitor gas usage and stack changes
• Set up initial test conditions

Try modifying the code or writing your own code.

Happy debugging! 🚀`,target:'[role="toolbar"]',placement:"bottom"}],fe=ye.lazy(()=>rt(()=>import("./index-CAgtudrZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),Xt=`PUSHINT_8 42
PUSHINT_8 100
ADD
PUSHINT_16 200
SUB

NOP
`,Jt=`#include "stdlib.fc";

;; Add two values to stack first! For example: 10 and 20
() recv_internal(int a, int b) impure {
    if (a > b) {
        throw(10);
    }
    
    ;; create some data
    var data = begin_cell()
        .store_int(1, 32)
        .end_cell();

    if (a == b) {
        var c = a + b;
        throw(20 + c);
    }

    throw(data.cell_hash() % 10);
}
`,xe="txtracer-playground-assembly-code",Se="txtracer-playground-func-code",ve="txtracer-playground-language-mode",Ce="txtracer-playground-stepping-mode",ie="txtracer-playground-initial-stack";function qt(){const[e,r]=s.useState(()=>{const t=ae();return t==="func"||t==="tasm"?t:localStorage.getItem(ve)??"tasm"}),[i,d]=s.useState(()=>localStorage.getItem(Ce)??"instructions"),[a,u]=s.useState(()=>{if(ae()==="tasm"){const n=de();if(n)return n}return localStorage.getItem(xe)??Xt}),[l,g]=s.useState(()=>{if(ae()==="func"){const n=de();if(n)return n}return localStorage.getItem(Se)??Jt}),[p,S]=s.useState(void 0),[E,N]=s.useState(!1),[y,M]=s.useState(()=>{try{const t=xt();if(t){const c=$.logs.parseStack(t);if(c)return $.logs.processStack(c)}const n=localStorage.getItem(ie);return n?JSON.parse(n,(c,m)=>{if(c==="value"&&typeof m=="string"&&m.match(/^-?\d+$/))try{return BigInt(m)}catch{return m}return m}):[]}catch(t){return localStorage.removeItem(ie),console.warn("Failed to restore initial stack from localStorage:",t),[]}}),{setError:b,clearError:k}=tt(),L=St({tutorialKey:"playground-page",autoStart:!0}),C=Mt(),w=s.useRef(null),z=s.useRef(null),{result:f,compiling:h,errorMarkers:D,handleCompile:Y,clearError:A}=vt(),_=f?.sourceMap,{funcHighlightGroups:U,asmHighlightGroups:X,asmHoveredLines:B,funcPreciseHighlightRanges:F,handleAsmLineHover:I,filteredAsmCode:J,mapOriginalAsmToFiltered:H}=Ct(_,f?.mapping,w,z,f?.assembly),x=p?.traceInfo,ke=dt(x),P=e==="func"&&i==="lines",{selectedStep:T,currentStep:Ee,currentStack:we,totalSteps:_e,canGoPrev:Le,canGoNext:Te,handlePrev:Ne,handleNext:Me,goToFirstStep:Ae,goToLastStep:Fe,findStepByLine:Ie,highlightLine:Pe,transitionType:je,handlePrevFunc:re,handleNextFunc:ce,currentFuncStepIndex:le,funcSteps:Ge}=_t(ke,{sourceMap:_,compilationResult:f,traceInfo:x,isEnabled:P}),ee=pt(x),De=s.useMemo(()=>{if(!J||!C.dimNeverExecutedLines)return;const t={};for(const[n,c]of Object.entries(ee)){const m=Number(n),j=H(m);if(j===void 0)continue;const G=t[j]??{};t[j]={gas:(G.gas??0)+(c.gas??0),executions:(G.executions??0)+(c.executions??0)}}return t},[J,ee,H,C.dimNeverExecutedLines]),[He,q]=s.useState(void 0),Oe=s.useMemo(()=>{if(e!=="func")return;const t=x?.steps?.[T];if(t?.loc?.line!==void 0){const n=t.loc.line+1;return H(n)??void 0}},[e,x,T,H]);s.useEffect(()=>{if(e==="func"&&x&&T>0){const t=T;if(t>=0&&t<x.steps.length){const n=x.steps[t];if(console.log(`Step ${T}: step.loc.line=${n.loc?.line}`),n?.loc?.line!==void 0&&_&&f?.mapping){const c=n.loc.line+1;let m=!1;for(const[j,G]of f.mapping.entries()){for(const O of G)if(O.loc?.line!==void 0&&O.loc.line+1===c){for(const[Q,R]of _.locations.entries())if(Q===j&&R.file==="main.fc"){console.log(`Found FunC location: line=${R.line}, pos=${R.pos}, length=${R.length}`),q(R.line),m=!0;break}if(m)break}if(m)break}m||(console.log(`No FunC location found for assembly line ${c}`),q(void 0))}else q(void 0);if(n.loc?.line!==void 0){const c=n.loc.line+1,m=H(c);I(m??null)}else I(null)}else q(void 0),I(null)}else I(null),q(void 0)},[T,x,e,I,_,f?.mapping,H]);const Ue=s.useMemo(()=>x?x.steps.map(t=>({name:t.instructionName,gasCost:se(t)})):[],[x]),Be=s.useMemo(()=>{if(!x)return 0;let t=0;for(let n=0;n<T;n++){const c=x.steps[n];c&&(t+=se(c))}return t},[x,T]),te=s.useCallback(async()=>{if(e==="func"){if(!l.trim())return;N(!0),k(),A();try{await Y(l)}catch(t){const n=t instanceof Error?t.message:"Unknown error";b(`Failed to compile FunC code: ${n}`),N(!1)}}else{if(!a.trim())return;N(!0),k();try{const t=await pe(a,y);S(t)}catch(t){const n=t instanceof Error?t.message:"Unknown error";b(`Failed to execute assembly code: ${n}`),S(void 0)}finally{N(!1)}}},[e,l,a,y,k,A,Y,b]);s.useEffect(()=>{if(e!=="func"||!E||h)return;const t=f?.assembly;if(t){(async()=>{try{const c=await pe(t,y);S(c)}catch(c){const m=c instanceof Error?c.message:"Unknown error";b(`Failed to execute compiled code: ${m}`),S(void 0)}finally{N(!1)}})();return}N(!1)},[e,E,h,f?.assembly,b,y]),s.useEffect(()=>{const t=n=>{if((n.ctrlKey||n.metaKey)&&n.key==="Enter"){n.preventDefault(),!E&&!h&&te();return}if(e==="func"&&P){if(n.key==="ArrowLeft"){n.preventDefault(),re?.();return}if(n.key==="ArrowRight"){n.preventDefault(),ce?.();return}}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[te,E,h,e,P,re,ce]),s.useEffect(()=>{localStorage.setItem(xe,a)},[a]),s.useEffect(()=>{localStorage.setItem(Se,l)},[l]),s.useEffect(()=>{localStorage.setItem(ve,e)},[e]),s.useEffect(()=>{localStorage.setItem(Ce,i)},[i]),s.useEffect(()=>{try{localStorage.setItem(ie,JSON.stringify(y,(t,n)=>typeof n=="bigint"?n.toString():n))}catch(t){console.warn("Failed to save initial stack to localStorage:",t)}},[y]);const Re=s.useCallback(t=>{e==="func"?g(t):u(t),S(void 0),k(),A()},[e,k,A]),We=s.useCallback(t=>{M(t),S(void 0)},[]),$e=s.useCallback(t=>{r(t),S(void 0),k(),A()},[k,A]),Ve=s.useCallback(t=>{d(t)},[]),K=(()=>{const t=p?.traceInfo?.steps;if(!t)return{line:void 0,approx:!1};const n=t[T];if(!n||n.loc!==void 0)return{line:void 0,approx:!1};let c=T-1,m=1;for(;c>=0&&t[c]?.loc===void 0;)m++,c--;const j=c>=0?t[c]:void 0,G=j?.loc?.line!==void 0?j.loc.line+1:void 0,O=m>1;return{line:G,approx:O}})(),Ye=s.useMemo(()=>{if(K.line!==void 0)return H(K.line)},[K.line,H]),Ke=s.useMemo(()=>{const t=new Map;if(!x||!_||!f?.mapping)return t;for(const n of x.steps??[]){if(n?.loc?.line===void 0)continue;const c=n.loc.line+1;for(const[m,j]of f.mapping.entries())for(const G of j)if(G.loc?.line!==void 0&&G.loc.line+1===c){const O=_.locations[m];if(O&&O.file==="main.fc"){const Q=O.line,R=t.get(Q)??0;t.set(Q,R+se(n));break}}}return t},[x,_,f?.mapping]),ne=s.useMemo(()=>{if(p)return p.exitCode&&p.exitCode.num!==0?"failed":"success"},[p]),ze=ne!==void 0,Xe=`Exit code: ${p?.exitCode?.num??0}`,ue=e==="func"?l:a,Je=s.useMemo(()=>$.logs.serializeStack(y),[y]);return o.jsxs("div",{className:v.traceViewWrapper,children:[o.jsxs(wt,{pageTitle:"playground",children:[ze&&o.jsx("div",{className:v.txStatusContainer,role:"status","aria-live":"polite",children:ne&&o.jsx(ht,{type:ne,text:Xe,exitCode:p?.exitCode?.num})}),o.jsxs("div",{className:v.headerContent,children:[o.jsxs("div",{className:v.languageSwitcherContainer,children:[o.jsx("div",{className:v.languageSwitcher,children:o.jsx(ge,{options:[{value:"tasm",label:"Assembly"},{value:"func",label:"FunC",badge:"beta"}],value:e,onChange:t=>$e(t),ariaLabel:"Select Playground language"})}),e==="func"&&o.jsxs("div",{className:v.steppingSwitcher,children:[o.jsx("span",{className:v.steppingLabel,children:"Stepping mode:"}),o.jsx(ge,{options:[{value:"instructions",label:"Instructions"},{value:"lines",label:"Source Lines"}],value:i,onChange:t=>Ve(t),ariaLabel:"Select stepping mode"})]})]}),o.jsxs("div",{className:v.mainActionContainer,role:"toolbar","aria-label":"Code actions",children:[o.jsx(Kt,{onClick:()=>void te(),loading:E||h}),o.jsx(yt,{value:ue,lang:e,stack:Je}),o.jsx(bt,{items:[{id:"mapping",label:"Show color mapping",checked:C.showMappingHighlight&&!P,onToggle:C.toggleShowMappingHighlight},{id:"dim-never-executed",label:"Dim never executed lines",checked:C.dimNeverExecutedLines,onToggle:C.toggleDimNeverExecutedLines}]})]})]})]}),o.jsxs("div",{id:"execution-status",className:"sr-only","aria-live":"polite","aria-atomic":"true",children:[(E||h)&&`${e==="func"?"Compiling and executing":"Executing"} code...`,p&&!E&&!h&&"Code executed successfully",p?.exitCode&&p.exitCode.num!==0&&!E&&!h&&`Execution completed with exit code ${p.exitCode.num}`]}),o.jsxs("div",{className:"sr-only",children:["Press Ctrl+Enter or Cmd+Enter to"," ",e==="func"?"compile and execute":"execute"," the code"]}),o.jsx("main",{className:v.appContainer,role:"main","aria-label":"Code playground",children:o.jsxs("div",{className:v.mainContent,children:[o.jsxs("div",{className:v.editorContainer,children:[o.jsxs("h2",{id:"code-editor-heading",className:"sr-only",children:[e==="func"?"FunC":"Assembly"," Code Editor"]}),o.jsxs(s.Suspense,{fallback:o.jsx(ct,{message:"Loading Editor...",loading:!0}),children:[o.jsxs("div",{className:e==="func"&&i==="instructions"&&f?.assembly?v.funcEditorWrapper:v.fullEditorWrapper,children:[o.jsx(fe,{code:ue,onChange:Re,readOnly:!1,modelPath:e==="func"?"playground-func.fc":"playground-asm.tasm",markers:e==="func"?D:[],highlightLine:e==="tasm"?Pe:He,highlightGroups:e==="func"&&C.showMappingHighlight&&!P?U:void 0,highlightRanges:e==="func"&&i==="instructions"?F:void 0,lineExecutionData:e==="tasm"?ee:void 0,implicitRetLine:K.line,implicitRetLabel:K.approx?"↵ implicit RET (approximate position)":void 0,shouldCenter:je==="button",exitCode:p?.exitCode,onLineClick:e==="tasm"?Ie:void 0,language:e,funcGasByLine:e==="func"?Ke:void 0,onEditorMount:t=>{e==="func"&&(w.current=t)}}),e==="func"&&i==="instructions"&&f?.assembly&&o.jsx("div",{className:v.asmViewerWrapper,children:o.jsx(fe,{code:J??f.assembly,readOnly:!0,language:"tasm",modelPath:"playground-func-output.tasm",needFloatingTip:!1,highlightLine:Oe,lineExecutionData:De,highlightGroups:C.showMappingHighlight&&!P?X:void 0,hoveredLines:C.showMappingHighlight&&!P?B:void 0,onLineHover:C.showMappingHighlight&&!P?I:void 0,implicitRetLine:Ye,implicitRetLabel:K.approx?"↵ implicit RET (approximate position)":void 0,shouldCenter:!0,onEditorMount:t=>{z.current=t}})})]}),e==="func"&&o.jsx(kt,{markers:D,filename:"main.fc",onNavigate:(t,n)=>{const c=w.current;c&&(c.revealPositionInCenter({lineNumber:t,column:n}),c.setPosition({lineNumber:t,column:n}),c.focus())}})]})]}),o.jsx(gt,{selectedStep:P&&le!==void 0?le:T,totalSteps:P?Ge.length:_e,currentStep:Ee,currentStack:we,canGoPrev:Le,canGoNext:Te,onPrev:Ne,onNext:Me,onFirst:Ae,onLast:Fe,placeholderMessage:"Ready to execute",instructionDetails:Ue,cumulativeGas:Be,showGas:!0,showStackSetup:!0,initialStack:y,onInitialStackChange:We,hasExecutionResults:!!p,className:v.sidebarArea})]})}),o.jsx(Et,{steps:zt,isOpen:L.isOpen,onClose:L.closeTutorial,onComplete:L.completeTutorial})]})}nt.createRoot(document.getElementById("root")).render(o.jsx(ye.StrictMode,{children:o.jsx(ot,{children:o.jsx(st,{children:o.jsx(at,{children:o.jsx(it,{loadingMessage:"Loading Playground...",children:o.jsx(qt,{})})})})})}));
