import{j as s}from"./Badge-CLK8gxqz.js";import{s as t,T as f}from"./useTraceStepper-Cxc_B5Rz.js";import{E as N}from"./error-codes-B36bHDJL.js";const u=e=>e==null||e===0n?"0 TON":`${(Number(e)/1e9).toFixed(9).replace(/(\.[0-9]*[1-9])0+$/,"$1").replace(/\.0+$/,"")} TON`,x=e=>e?e==="external"?"External":String(e):"—",v=e=>s.jsx("span",{className:e?"booleanTrue":"booleanFalse",children:e?"Yes":"No"}),h=e=>e==null?"—":s.jsx("span",{className:"number-value",children:e.toString()}),$=(e,n,r)=>e?e.length<=n+r+3?e:`${e.substring(0,n)}...${e.substring(e.length-r)}`:"—";function b({exitCode:e,abi:n}){if(e===void 0)return s.jsx("span",{className:t.exitCode,children:"—"});const r=N[e]??{name:"Custom error",description:"User defined error",phase:"Compute phase"},o=n?.errors?.[e],c=o&&!r,i=r?.name??(c?"Custom error":""),a=o?.message??r?.description,l=r?.phase,p=s.jsxs("div",{className:t.tooltipContent,children:[a&&s.jsxs("div",{className:t.tooltipSection,children:[s.jsx("div",{className:t.tooltipLabel,children:"Description:"}),s.jsx("div",{className:t.tooltipDescription,children:a})]}),l&&s.jsxs("div",{className:t.tooltipSection,children:[s.jsx("div",{className:t.tooltipLabel,children:"Origin:"}),s.jsx("div",{className:t.tooltipPhase,children:l})]})]}),d=e===0||e===1,m=`${t.exitCode} ${d?t.success:t.error}`;return s.jsx(f,{content:p,variant:"hover",children:s.jsxs("span",{className:m,children:[e,i&&e!==0&&s.jsxs("span",{className:t.exitCodeName,children:[" (",i,")"]})]})})}const E=e=>{switch(e.type){case"sendMsg":{const n=e.outMsg,r=n.info.type==="internal"?"Internal":"External",o=n.info.type==="internal"||n.info.type==="external-out"?n.info.dest:"unknown",c=typeof o=="string"?o:x(o),i=n.info.type==="internal"?u(n.info.value.coins):"";return{title:"Send Message",icon:"send-icon",description:`${r} → ${c}`,value:i}}case"setCode":return{title:"Set Code",icon:"code-icon",description:"Update contract code",value:""};case"reserve":return{title:"Reserve",icon:"reserve-icon",description:`Mode: ${e.mode}`,value:u(e.currency.coins)};default:return{title:"Unknown",icon:"unknown-icon",description:`Type: ${e.type}`,value:""}}};export{b as E,u as a,h as b,v as c,x as f,E as g,$ as s};
