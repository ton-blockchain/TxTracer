import{r as a,R as U,q as ze,j as x}from"./Badge-CHIEhubc.js";import{a as We}from"./monaco-editor-core-BNZEfIW9.js";import{a as F}from"./InlineLoader-Djy94kZv.js";import{E as Be}from"./error-codes-B36bHDJL.js";import"./ton-vendor-BkcVSvwD.js";import"./ton-assembly-CiuMSHFZ.js";import"./ton-sandbox-uER9kMRK.js";function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Re(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ze(e,t){if(e==null)return{};var n=Re(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ke(e,t){return Ue(e)||Ve(e,t)||qe(e,t)||Ge()}function Ue(e){if(Array.isArray(e))return e}function Ve(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),c;!(r=(c=s.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(d){o=!0,i=d}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}}function qe(e,t){if(e){if(typeof e=="string")return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(n),!0).forEach(function(r){Xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function Q(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return t.apply(n,[].concat(o,c))}}}function ae(e){return{}.toString.call(e).includes("Object")}function Ye(e){return!Object.keys(e).length}function te(e){return typeof e=="function"}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function et(e,t){return ae(t)||H("changeType"),Object.keys(t).some(function(n){return!Qe(e,n)})&&H("changeField"),t}function tt(e){te(e)||H("selectorType")}function nt(e){te(e)||ae(e)||H("handlerType"),ae(e)&&Object.values(e).some(function(t){return!te(t)})&&H("handlersType")}function rt(e){e||H("initialIsRequired"),ae(e)||H("initialType"),Ye(e)&&H("initialContent")}function ot(e,t){throw new Error(e[t]||e.default)}var it={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},H=Q(ot)(it),oe={changes:et,selector:tt,handler:nt,initial:rt};function st(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};oe.initial(e),oe.handler(t);var n={current:e},r=Q(ut)(n,t),o=Q(ct)(n),i=Q(oe.changes)(e),s=Q(at)(n);function c(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return oe.selector(u),u(n.current)}function d(u){Je(r,o,i,s)(u)}return[c,d]}function at(e,t){return te(t)?t(e.current):t}function ct(e,t){return e.current=we(we({},e.current),t),t}function ut(e,t,n){return te(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var lt={create:st},dt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function ft(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return t.apply(n,[].concat(o,c))}}}function pt(e){return{}.toString.call(e).includes("Object")}function mt(e){return e||Ce("configIsRequired"),pt(e)||Ce("configType"),e.urls?(gt(),{paths:{vs:e.urls.monacoBase}}):e}function gt(){console.warn(Oe.deprecation)}function ht(e,t){throw new Error(e[t]||e.default)}var Oe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ce=ft(ht)(Oe),vt={config:mt},yt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function _e(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],_e(e[n],t[n]))}),ye(ye({},e),t)}var bt={type:"cancelation",msg:"operation is manually canceled"};function ue(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(bt):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var kt=lt.create({config:dt,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ie=Ke(kt,2),re=Ie[0],ce=Ie[1];function wt(e){var t=vt.config(e),n=t.monaco,r=Ze(t,["monaco"]);ce(function(o){return{config:_e(o.config,r),monaco:n}})}function Ct(){var e=re(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(ce({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ue(le);if(window.monaco&&window.monaco.editor)return Le(window.monaco),e.resolve(window.monaco),ue(le);yt(Et,Tt)(St)}return ue(le)}function Et(e){return document.body.appendChild(e)}function Mt(e){var t=document.createElement("script");return e&&(t.src=e),t}function Tt(e){var t=re(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=Mt("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function St(){var e=re(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Le(n),e.resolve(n)},function(n){e.reject(n)})}function Le(e){re().monaco||ce({monaco:e})}function Ot(){return re(function(e){var t=e.monaco;return t})}var le=new Promise(function(e,t){return ce({resolve:e,reject:t})}),ne={config:wt,init:Ct,__getMonacoInstance:Ot},_t={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},de=_t,It={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Lt=It;function jt({children:e}){return U.createElement("div",{style:Lt.container},e)}var At=jt,Nt=At;function xt({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return U.createElement("section",{style:{...de.wrapper,width:e,height:t},...s},!n&&U.createElement(Nt,null,r),U.createElement("div",{ref:o,style:{...de.fullWidth,...!n&&de.hide},className:i}))}var Pt=xt,je=a.memo(Pt);function $t(e){a.useEffect(e,[])}var pe=$t;function Dt(e,t,n=!0){let r=a.useRef(!0);a.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var N=Dt;function ee(){}function G(e,t,n,r){return Ft(e,r)||zt(e,t,n,r)}function Ft(e,t){return e.editor.getModel(Ae(e,t))}function zt(e,t,n,r){return e.editor.createModel(t,n,r?Ae(e,r):void 0)}function Ae(e,t){return e.Uri.parse(t)}function Wt({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:d=!1,theme:u="light",loading:f="Loading...",options:l={},height:m="100%",width:p="100%",className:b,wrapperProps:w={},beforeMount:I=ee,onMount:v=ee}){let[C,z]=a.useState(!1),[$,M]=a.useState(!0),L=a.useRef(null),T=a.useRef(null),g=a.useRef(null),y=a.useRef(v),h=a.useRef(I),P=a.useRef(!1);pe(()=>{let k=ne.init();return k.then(j=>(T.current=j)&&M(!1)).catch(j=>j?.type!=="cancelation"&&console.error("Monaco initialization: error:",j)),()=>L.current?R():k.cancel()}),N(()=>{if(L.current&&T.current){let k=L.current.getOriginalEditor(),j=G(T.current,e||"",r||n||"text",i||"");j!==k.getModel()&&k.setModel(j)}},[i],C),N(()=>{if(L.current&&T.current){let k=L.current.getModifiedEditor(),j=G(T.current,t||"",o||n||"text",s||"");j!==k.getModel()&&k.setModel(j)}},[s],C),N(()=>{let k=L.current.getModifiedEditor();k.getOption(T.current.editor.EditorOption.readOnly)?k.setValue(t||""):t!==k.getValue()&&(k.executeEdits("",[{range:k.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),k.pushUndoStop())},[t],C),N(()=>{L.current?.getModel()?.original.setValue(e||"")},[e],C),N(()=>{let{original:k,modified:j}=L.current.getModel();T.current.editor.setModelLanguage(k,r||n||"text"),T.current.editor.setModelLanguage(j,o||n||"text")},[n,r,o],C),N(()=>{T.current?.editor.setTheme(u)},[u],C),N(()=>{L.current?.updateOptions(l)},[l],C);let W=a.useCallback(()=>{if(!T.current)return;h.current(T.current);let k=G(T.current,e||"",r||n||"text",i||""),j=G(T.current,t||"",o||n||"text",s||"");L.current?.setModel({original:k,modified:j})},[n,t,o,e,r,i,s]),O=a.useCallback(()=>{!P.current&&g.current&&(L.current=T.current.editor.createDiffEditor(g.current,{automaticLayout:!0,...l}),W(),T.current?.editor.setTheme(u),z(!0),P.current=!0)},[l,u,W]);a.useEffect(()=>{C&&y.current(L.current,T.current)},[C]),a.useEffect(()=>{!$&&!C&&O()},[$,C,O]);function R(){let k=L.current?.getModel();c||k?.original?.dispose(),d||k?.modified?.dispose(),L.current?.dispose()}return U.createElement(je,{width:p,height:m,isEditorReady:C,loading:f,_ref:g,className:b,wrapperProps:w})}var Bt=Wt;a.memo(Bt);function Ht(){let[e,t]=a.useState(ne.__getMonacoInstance());return pe(()=>{let n;return e||(n=ne.init(),n.then(r=>{t(r)})),()=>n?.cancel()}),e}var Rt=Ht;function Zt(e){let t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}var Kt=Zt,ie=new Map;function Ut({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s="light",line:c,loading:d="Loading...",options:u={},overrideServices:f={},saveViewState:l=!0,keepCurrentModel:m=!1,width:p="100%",height:b="100%",className:w,wrapperProps:I={},beforeMount:v=ee,onMount:C=ee,onChange:z,onValidate:$=ee}){let[M,L]=a.useState(!1),[T,g]=a.useState(!0),y=a.useRef(null),h=a.useRef(null),P=a.useRef(null),W=a.useRef(C),O=a.useRef(v),R=a.useRef(),k=a.useRef(r),j=Kt(i),D=a.useRef(!1),q=a.useRef(!1);pe(()=>{let S=ne.init();return S.then(_=>(y.current=_)&&g(!1)).catch(_=>_?.type!=="cancelation"&&console.error("Monaco initialization: error:",_)),()=>h.current?E():S.cancel()}),N(()=>{let S=G(y.current,e||r||"",t||o||"",i||n||"");S!==h.current?.getModel()&&(l&&ie.set(j,h.current?.saveViewState()),h.current?.setModel(S),l&&h.current?.restoreViewState(ie.get(i)))},[i],M),N(()=>{h.current?.updateOptions(u)},[u],M),N(()=>{!h.current||r===void 0||(h.current.getOption(y.current.editor.EditorOption.readOnly)?h.current.setValue(r):r!==h.current.getValue()&&(q.current=!0,h.current.executeEdits("",[{range:h.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),h.current.pushUndoStop(),q.current=!1))},[r],M),N(()=>{let S=h.current?.getModel();S&&o&&y.current?.editor.setModelLanguage(S,o)},[o],M),N(()=>{c!==void 0&&h.current?.revealLine(c)},[c],M),N(()=>{y.current?.editor.setTheme(s)},[s],M);let Z=a.useCallback(()=>{if(!(!P.current||!y.current)&&!D.current){O.current(y.current);let S=i||n,_=G(y.current,r||e||"",t||o||"",S||"");h.current=y.current?.editor.create(P.current,{model:_,automaticLayout:!0,...u},f),l&&h.current.restoreViewState(ie.get(S)),y.current.editor.setTheme(s),c!==void 0&&h.current.revealLine(c),L(!0),D.current=!0}},[e,t,n,r,o,i,u,f,l,s,c]);a.useEffect(()=>{M&&W.current(h.current,y.current)},[M]),a.useEffect(()=>{!T&&!M&&Z()},[T,M,Z]),k.current=r,a.useEffect(()=>{M&&z&&(R.current?.dispose(),R.current=h.current?.onDidChangeModelContent(S=>{q.current||z(h.current.getValue(),S)}))},[M,z]),a.useEffect(()=>{if(M){let S=y.current.editor.onDidChangeMarkers(_=>{let B=h.current.getModel()?.uri;if(B&&_.find(J=>J.path===B.path)){let J=y.current.editor.getModelMarkers({resource:B});$?.(J)}});return()=>{S?.dispose()}}return()=>{}},[M,$]);function E(){R.current?.dispose(),m?l&&ie.set(i,h.current.saveViewState()):h.current.getModel()?.dispose(),h.current.dispose()}return U.createElement(je,{width:p,height:b,isEditorReady:M,loading:d,_ref:P,className:w,wrapperProps:I})}var Vt=Ut,qt=a.memo(Vt),Gt=qt;function Xt(e){return new Worker(""+new URL("editor.worker-B05KjEa_.js",import.meta.url).href,{name:e?.name})}const Jt=({monaco:e,editorRef:t,markers:n=[],enabled:r})=>{a.useEffect(()=>{if(!e||!t.current||!r)return;const o=t.current.getModel();if(o)return e.editor.setModelMarkers(o,"Tolk",[...n]),()=>{e.editor.setModelMarkers(o,"Tolk",[])}},[e,n,t,r])};let X=null,fe=!1,Ee=!1;async function Yt(){if(X)return X;if(fe)return null;fe=!0;try{const e=await fetch("/assets/asm/asm.json");return e.ok?(X=await e.json(),X):(console.error("Failed to fetch asm.json:",e.statusText),null)}catch(e){return console.error("Error fetching or parsing asm.json:",e),null}finally{fe=!1}}function me(){if(X)return X;Ee||(Ee=!0,Yt())}function Qt(e){const t=me();if(t===void 0)return;const n=en(e),r=t?.instructions.find(i=>i.mnemonic===n);if(r)return r;const o=t?.aliases.find(i=>i.mnemonic===e);if(o){const i=t?.instructions.find(s=>s.mnemonic===o.alias_of);if(i)return{...i,alias_info:o}}return null}function en(e){return e==="PUSHINT"?"PUSHINT_4":e==="XCHG0"?"XCHG_0I":e==="XCHG"?"XCHG_IJ":e}function Me(e){if(!e)return"";const t=e.trim(),n=t.startsWith("-")?"∅ ":"",r=t.endsWith("-")?" ∅":"";return`(${n+e.replace("-","→")+r})`}function tn(e){return Object.entries(e).map(([t,n])=>n?.toString()??"").join(" ")}function nn(e){const t=e.doc.stack?`- Stack (top is on the right): \`${Me(e.doc.stack)}\``:"",n=e.doc.gas.length>0?e.doc.gas:"unknown",r=["```",e.mnemonic,"```",t,`- Gas: \`${n}\``,`- Opcode: \`${e.doc.opcode}\``,"",e.doc.description,"",""];if(e.alias_info){const i=` alias of ${tn(e.alias_info.operands)+" "}${e.alias_info.alias_of}`,s=e.alias_info,c=s.doc_stack?`- Stack (top is on the right): \`${Me(s.doc_stack)}\``:"";return["```",s.mnemonic+i,"```",c,"",s.description??"","","---","","Aliased instruction info:","",...r].join(`
`)}return r.join(`
`)}const rn={base:"vs",inherit:!0,rules:[{token:"keyword",foreground:"#0033B3",fontStyle:"bold"},{token:"string",foreground:"#067D17"},{token:"string.number",foreground:"#1750EB"},{token:"string.slice",foreground:"#1750EB"},{token:"string.asm",foreground:"#067D17",fontStyle:"italic"},{token:"number",foreground:"#1750EB"},{token:"number.hex",foreground:"#1750EB"},{token:"number.version",foreground:"#1750EB"},{token:"comment",foreground:"#8C8C8C",fontStyle:"italic"},{token:"annotation",foreground:"#9E880D"},{token:"keyword.directive",foreground:"#9C5D27"},{token:"identifier.function",foreground:"#795E26"},{token:"identifier.field",foreground:"#001080"},{token:"identifier.constant",foreground:"#871094",fontStyle:"bold"},{token:"identifier.special",foreground:"#795E26",fontStyle:"bold"},{token:"identifier.backtick",foreground:"#000000"},{token:"keyword.underscore",foreground:"#0033B3"},{token:"operator",foreground:"#000000"},{token:"instruction",foreground:"#0033B3"}],colors:{"editorInlayHint.typeForeground":"#7e6820","editorInlayHint.typeBackground":"#fff3cd"}},on={base:"vs-dark",inherit:!0,rules:[{token:"string",foreground:"#CE9178"},{token:"string.number",foreground:"#B5CEA8"},{token:"string.slice",foreground:"#B5CEA8"},{token:"string.asm",foreground:"#CE9178",fontStyle:"italic"},{token:"number",foreground:"#B5CEA8"},{token:"number.hex",foreground:"#B5CEA8"},{token:"number.version",foreground:"#B5CEA8"},{token:"comment",foreground:"#6A9955",fontStyle:"italic"},{token:"annotation",foreground:"#cac46b"},{token:"keyword.directive",foreground:"#C586C0"},{token:"identifier.function",foreground:"#DCDCAA"},{token:"identifier.field",foreground:"#9CDCFE"},{token:"identifier.constant",foreground:"#4FC1FF",fontStyle:"bold"},{token:"identifier.special",foreground:"#DCDCAA",fontStyle:"bold"},{token:"identifier.backtick",foreground:"#D4D4D4"},{token:"keyword.underscore",foreground:"#569CD6"},{token:"operator",foreground:"#D4D4D4"},{token:"instruction",foreground:"#749DED"},{token:"alias",foreground:"#9a9a9a"}],colors:{"editor.background":"#1c1c1e","editorInlayHint.typeForeground":"#FF6B6B","editorInlayHint.typeBackground":"#3A1F1F"}},sn={defaultToken:"invalid",keywords:["forall","return","if","ifnot","else","elseif","elseifnot","repeat","do","until","while","global","const","asm","impure","inline","inline_ref","method_id","type","null","throw","throw_if","throw_unless","true","false","empty_tuple"],typeKeywords:["int","cell","slice","builder","cont","tuple","var"],directives:["#include","#pragma","version","not-version","allow-post-modification","compute-asm-ltr"],operators:["=","+=","-=","*=","/=","~/=","^/=","%=","~%=","^%=","<<=",">>=","~>>=","^>>=","&=","|=","^=","==","!=","<",">","<=",">=","<=>","<<",">>","~>>","^>>","+","-","|","^","*","/","%","~/","^/","~%","^%","/%","&","~",".","?",":","->","=>"],symbols:/[=><!~?:&|+\-*/^%]+/,tokenizer:{root:[[/;;.*$/,"comment"],[/\{-/,{token:"comment",next:"@comment"}],[/"""/,{token:"string.asm",next:"@asmblock"}],[/(#include|#pragma)\b/,"keyword.directive"],[/\b(version|not-version|allow-post-modification|compute-asm-ltr)\b/,"keyword.directive"],[/(>=|<=|=|>|<|\^)?([0-9]+)(.[0-9]+)?(.[0-9]+)?/,"number.version"],[/%[a-zA-Z_][a-zA-Z0-9_]*/,"identifier.function"],[/\$[a-zA-Z_][a-zA-Z0-9_$']*/,"identifier.special"],[/`[^`]+`/,"identifier.backtick"],[/\b[A-Z][A-Z0-9_]*\b/,"identifier.constant"],[/[a-zA-Z_][a-zA-Z0-9_'?]*(?=\()/,"identifier.function"],[/~[a-zA-Z_][a-zA-Z0-9_?]*/,"identifier.function"],[/\.[a-zA-Z_][a-zA-Z0-9_?]*/,"identifier.function"],[/[a-zA-Z_][a-zA-Z0-9_']*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"identifier"}}],[/-?0x[0-9a-fA-F]+/,"number.hex"],[/-?\d+/,"number"],[/"[^"]*"[Hhcu]/,"string.number"],[/"[^"]*"[sa]/,"string.slice"],[/"[^"]*"/,"string"],[/~/,"operator"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/[{}]/,"@brackets"],[/[[\]]/,"delimiter.square"],[/[()]/,"delimiter.parenthesis"],[/;/,"delimiter"],[/,/,"delimiter"],[/_/,"keyword.underscore"],[/\s+/,"white"]],asmblock:[[/"""/,{token:"string.asm",next:"@pop"}],[/[^"]+/,"string.asm"],[/"/,"string.asm"]],comment:[[/[^-{]+/,"comment"],[/\{-/,{token:"comment",next:"@push"}],[/-\}/,{token:"comment",next:"@pop"}],[/[-{]/,"comment"]]}},an={keywords:["ref","embed","exotic","library"],operators:["=>"],tokenizer:{root:[[/\b(ref|embed|exotic|library)\b/,"keyword"],[/\b[A-Z_][A-Z0-9_]*[0-9]?[0-9]?\b/,"instruction"],[/s-?[0-9][0-9]?/,"number.hex"],[/c[0-9][0-9]?/,"number.hex"],[/x\{[0-9a-fA-F_]*}/,"number.hex"],[/b\{[01]*}/,"number.binary"],[/boc\{[0-9a-fA-F]*}/,"number.hex"],[/"([^"\\]|\\.)*"/,"string"],[/-?\d+/,"number"],[/\{/,{token:"delimiter.curly",next:"@push"}],[/}/,{token:"delimiter.curly",next:"@pop"}],[/\[/,{token:"delimiter.square",next:"@push"}],[/]/,{token:"delimiter.square",next:"@pop"}],[/\(\)/,"delimiter.parenthesis"],[/\/\/.*?$/,"comment"],[/\b(alias|of)\b/,"alias"],[/\s+/,"white"]]}},cn={defaultToken:"invalid",keywords:["tolk","import","global","const","type","struct","fun","get","var","val","return","if","else","while","repeat","do","break","continue","throw","assert","try","catch","match","as","is","lazy","mutate","redef","builtin","asm","true","false","null","self"],typeKeywords:["int","bool","cell","slice","builder","continuation","tuple","address","never","coins","map","void"],operators:["=","+=","-=","*=","/=","%=","<<=",">>=","&=","|=","^=","==","!=","<=",">=","<=>","&&","||","&","|","^","<<",">>","~>>","^>>","-","+","*","/","%","~/","^/","!","~","->","?",":",".","<",">"],symbols:/[=><!~?:&|+\-*/^%()[\]{}.,;]+/,tokenizer:{root:[[/\/\/.*$/,"comment"],[/\/\*/,{token:"comment",next:"@comment"}],[/"""/,{token:"string",next:"@stringTriple"}],[/"(?:[^"\\\n]|\\.)*"/,"string"],[/u?int\d{1,3}/,"type"],[/varu?int\d{1,2}/,"type"],[/((bits)|(bytes))\d{1,3}/,"type"],[/@[a-zA-Z_][a-zA-Z0-9_]*/,"annotation"],[/0x[0-9a-fA-F]+/,"number.hex"],[/0b[01]+/,"number.binary"],[/\d+/,"number"],[/(\d+)(\.\d+)?(\.\d+)?/,"number.version"],[/`[^`]+`/,"identifier.backtick"],[/[a-zA-Z_][a-zA-Z0-9_$]*(?=[(<])/,"identifier.function"],[/\.(?=[A-Za-z_][A-Za-z0-9_]*)/,{token:"delimiter.dot",next:"@member"}],[/[A-Z][a-zA-Z0-9_]*/,"type.identifier"],[/[a-zA-Z$_][a-zA-Z0-9$_]*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"identifier"}}],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/[{}]/,"@brackets"],[/[[\]]/,"delimiter.square"],[/[()]/,"delimiter.parenthesis"],[/;/,"delimiter"],[/,/,"delimiter"],[/_/,"keyword.underscore"],[/\s+/,"white"]],stringTriple:[[/"""/,{token:"string",next:"@pop"}],[/\\./,"string.escape"],[/[^\\"]+/,"string"],[/"/,"string"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,{token:"comment",next:"@push"}],[/\*\//,{token:"comment",next:"@pop"}],[/[/*]/,"comment"]],member:[[/[A-Za-z_][A-Za-z0-9_]*(?=[(<])/,{token:"identifier.function",next:"@pop"}],[/[A-Za-z_][A-Za-z0-9_]*/,{token:"identifier.field",next:"@pop"}]]}},V="tasm",Te="func",Se="tolk",un=(e,t)=>{t==="tasm"&&(e.languages.register({id:V}),e.languages.setMonarchTokensProvider(V,an)),t==="func"&&(e.languages.register({id:Te}),e.languages.setMonarchTokensProvider(Te,sn)),t==="tolk"&&(e.languages.register({id:Se}),e.languages.setMonarchTokensProvider(Se,cn)),e.editor.defineTheme("light-theme",rn),e.editor.defineTheme("dark-theme",on)},ln=({language:e})=>{const t=Rt(),{theme:n}=ze(),[r,o]=a.useState(!1),[i,s]=a.useState(!1);return a.useEffect(()=>{typeof window<"u"&&typeof navigator<"u"&&s(navigator.platform.toUpperCase().indexOf("MAC")>=0)},[]),a.useEffect(()=>{if(t)try{un(t,e),o(!0)}catch(c){console.error("Failed to initialize Monaco:",c)}},[t,e]),a.useEffect(()=>{if(!(!t||!r))try{t.editor.setTheme(n==="dark"?"dark-theme":"light-theme")}catch(c){console.error("Failed to set theme:",c)}},[n,t,r]),a.useEffect(()=>{if(r&&e==="tasm")try{me()}catch(c){console.warn("Failed to preload assembly data:",c)}},[r,e]),{monaco:t,isReady:r,isMac:i}},dn=(e,t)=>({range:new e.Range(t,1,t,1),options:{isWholeLine:!0,className:"highlighted-line"}}),fn=(e,t,n)=>{const r=[];for(const[o,i]of t.entries())for(const s of i.lines)s>0&&s<=n&&r.push({range:new e.Range(s,1,s,1),options:{isWholeLine:!0,className:i.className||`source-map-group-${o}`,overviewRuler:{color:i.color,position:1}}});return r},pn=(e,t,n)=>{const r=[];for(const o of t)o>0&&o<=n&&r.push({range:new e.Range(o,1,o,1),options:{isWholeLine:!0,className:"source-map-hovered-line"}});return r},mn=(e,t,n)=>{const r=[];for(const o of t)o.line>0&&o.line<=n&&r.push({range:new e.Range(o.line,o.startColumn,o.line,o.endColumn),options:{isWholeLine:!1,className:o.className??"precise-highlight",inlineClassName:o.className??"precise-highlight"}});return r},gn=(e,t,n,r,o)=>{const i=[],s=o.getLineCount();for(let c=1;c<=s;c++){if(o.getLineContent(c).trim()==="")continue;const f=t[c]!==void 0;if(f&&n){const l=r===c?"clickable-line ctrl-pressed hovered-line":"clickable-line ctrl-pressed";i.push({range:new e.Range(c,1,c,1),options:{isWholeLine:!0,className:l,linesDecorationsClassName:"clickable-line-decoration"}})}else f||i.push({range:new e.Range(c,1,c,o.getLineLength(c)+1),options:{isWholeLine:!1,inlineClassName:"faded-text"}})}return i},hn=({monaco:e,highlightLine:t,implicitRetLine:n,lineExecutionData:r,highlightGroups:o=[],hoveredLines:i=[],highlightRanges:s=[],isCtrlPressed:c=!1,hoveredLine:d=null,shouldCenter:u=!0})=>{const f=a.useRef([]),l=a.useCallback(p=>{if(!e||!p)return;const b=p.getModel();if(!b)return;const w=b.getLineCount(),I=[];try{if(t!==void 0&&I.push(dn(e,t)),n!==void 0){const v=Math.min(Math.max(n+1,1),w);I.push({range:new e.Range(v,1,v,1),options:{isWholeLine:!0,className:"implicit-ret-line"}})}if(I.push(...fn(e,o,w)),I.push(...pn(e,i,w)),I.push(...mn(e,s,w)),r&&Object.keys(r).length>0&&I.push(...gn(e,r,c,d,b)),f.current=p.deltaDecorations(f.current,I),u){if(t!==void 0)p.revealLineInCenter(t);else if(n!==void 0){const v=Math.min(Math.max(n+1,1),w);p.revealLineInCenter(v)}}}catch(v){console.error("Failed to update decorations:",v)}},[e,t,o,i,s,r,u,c,d,n]),m=a.useCallback(p=>{if(p)try{f.current=p.deltaDecorations(f.current,[])}catch(b){console.error("Failed to clear decorations:",b)}},[]);return{updateDecorations:l,clearDecorations:m}},vn=({monaco:e,editorRef:t,lineExecutionData:n,onLineClick:r,onLineHover:o,editorReady:i=!0})=>{const[s,c]=a.useState(!1),[d,u]=a.useState(null),f=a.useCallback(p=>{(p.ctrlKey||p.metaKey)&&!s&&c(!0),(p.ctrlKey||p.metaKey)&&p.key==="s"&&(p.preventDefault(),p.stopPropagation())},[s]),l=a.useCallback(p=>{!p.ctrlKey&&!p.metaKey&&s&&(c(!1),u(null))},[s]),m=a.useCallback(()=>{s&&(c(!1),u(null))},[s]);return a.useEffect(()=>{if(!t.current||!e||!i)return;const p=t.current.onMouseDown(b=>{if(b.target.type!==e.editor.MouseTargetType.GUTTER_LINE_NUMBERS&&b.event.leftButton&&(b.event.ctrlKey||b.event.metaKey)){const w=b.target.position?.lineNumber;w&&n&&n[w]!==void 0&&r&&r(w)}});return()=>p.dispose()},[t,n,r,e,i]),a.useEffect(()=>{if(!e||!t.current||!i)return;const p=t.current.onMouseMove(I=>{const v=I.target.position?.lineNumber;s&&v&&n&&n[v]!==void 0?u(v):s&&u(null),o&&v&&o(v)}),b=()=>{s&&u(null),o&&o(null)},w=t.current.getDomNode();return w&&w.addEventListener("mouseleave",b),()=>{p.dispose(),w?.removeEventListener("mouseleave",b)}},[e,t,s,n,o,i]),a.useEffect(()=>(document.addEventListener("keydown",f),document.addEventListener("keyup",l),window.addEventListener("blur",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",l),window.removeEventListener("blur",m)}),[f,l,m]),{isCtrlPressed:s,hoveredLine:d}},yn=e=>{switch(e){case F.trace.FuncType.INT:return"int";case F.trace.FuncType.CELL:return"cell";case F.trace.FuncType.SLICE:return"slice";case F.trace.FuncType.BUILDER:return"builder";case F.trace.FuncType.CONT:return"cont";case F.trace.FuncType.TUPLE:return"tuple";case F.trace.FuncType.TYPE:return"type";default:return`type(${e})`}},bn=e=>{const t=[];return e&F.trace.FuncVarFlag.IN?"Parameter":e&F.trace.FuncVarFlag.NAMED?"Local variable":e&F.trace.FuncVarFlag.TMP?"Temp variable":t.length>0?t.join(", "):"var"},kn=e=>e.length===0?"No variables in scope":`**Live variables:**

${[...e].reverse().map(n=>{const r=`${bn(n.flags)}`,o=`${n.name}`,i=yn(n.type),s=n.value??"",c=s.length!==0?` = ${s}`:"";return`${r} \`${o}: ${i}\`${c}
`}).join(`
`)}`,wn=({monaco:e,lineExecutionData:t,getVariablesForLine:n,showVariablesDocs:r=!0,showInstructionDocs:o=!0,editorReady:i,enabled:s})=>{a.useEffect(()=>{if(!e||!i||!s)return;const c=e.languages.registerHoverProvider(V,{provideHover(d,u){const f=d.getWordAtPosition(u),l=u.lineNumber,m=[];if(r&&n){const p=n(l);p&&p.length>0&&(m.push({value:kn(p)}),m.push({value:"---"}))}if(f){const p=Cn[f.word];p&&m.push({value:`**Control register ${f.word} (${p.type})**

${p.description}`});const b=d.getLineContent(l),w=e.editor.tokenize(b,V)[0];let I="";for(let v=0;v<w.length;v++){const C=w[v],z=C.offset+1,$=v+1<w.length?w[v+1].offset+1:b.length+1;if(u.column>=z&&u.column<$){I=C.type;break}}if(I.includes("instruction")&&o){const v=Qt(f.word);if(v===void 0)m.push({value:"The assembly instructions documentation is loading—please hover over the instruction again."});else if(v){const C=nn(v);C&&m.push({value:C})}if(t){const C=t[l];m.length>0&&m.push({value:"---"}),C===void 0?m.push({value:"**Not executed**"}):m.push({value:`**Executions:** ${C.executions}`})}}}return m.length>0?{range:f?new e.Range(u.lineNumber,f.startColumn,u.lineNumber,f.endColumn):new e.Range(u.lineNumber,1,u.lineNumber,d.getLineLength(u.lineNumber)+1),contents:m}:null}});return()=>{c.dispose()}},[e,t,n,o,r,s,i])},Cn={c0:{type:"Continuation",description:"Stores the next or return continuation, similar to a return address."},c1:{type:"Continuation",description:"Stores the alternative continuation."},c2:{type:"Continuation",description:"Contains the exception handler (continuation)."},c3:{type:"Continuation",description:"Holds the current dictionary (hashmap of function codes) as a continuation."},c4:{type:"Cell",description:"Stores persistent data (contract's data section)."},c5:{type:"Cell",description:"Contains output actions."},c7:{type:"Tuple",description:"Stores temporary data."}},En=({monaco:e,editorRef:t,exitCode:n,editorReady:r,enabled:o})=>{a.useEffect(()=>{if(!e||!t.current||!r||!o)return;const i=e.languages.registerCodeLensProvider(V,{provideCodeLenses:s=>{if(!n?.info?.loc?.line&&n?.info?.loc?.line!==0)return{lenses:[],dispose:()=>{}};const c=n.info.loc.line+1;if(c<=0||c>s.getLineCount())return{lenses:[],dispose:()=>{}};const d=Be[n.num],u=n.description&&n.description.trim().length>0?`: ${n.description}`:d?.name?`: ${d.name}`:": Custom error";return{lenses:[{range:new e.Range(c,1,c,1),id:`exitCode-${c}`,command:{id:"noop",title:`⚡ Exit Code: ${n.num}${u}`,tooltip:`Transaction failed with exit code ${n.num}${u}`}}],dispose:()=>{}}},resolveCodeLens:(s,c)=>c});return()=>{i.dispose()}},[e,n,t,r,o])},Mn=({monaco:e,editorRef:t,editorReady:n,enabled:r=!0})=>{a.useEffect(()=>{if(!e||!t.current||!n||!r)return;const o=e.languages.registerCompletionItemProvider(V,{triggerCharacters:[],provideCompletionItems(i,s){const c=me();if(!c)return{suggestions:[]};const d=i.getWordUntilPosition(s),u={startLineNumber:s.lineNumber,endLineNumber:s.lineNumber,startColumn:d.startColumn,endColumn:d.endColumn},f=d.word.toUpperCase(),l=[];for(const m of c.instructions)f&&!m.mnemonic.startsWith(f)||l.push({label:m.mnemonic,kind:e.languages.CompletionItemKind.Function,insertText:m.mnemonic+" ",range:u,sortText:`0_${m.mnemonic}`,filterText:m.mnemonic});for(const m of c.aliases)f&&!m.mnemonic.startsWith(f)||l.push({label:m.mnemonic,kind:e.languages.CompletionItemKind.Function,insertText:m.mnemonic,range:u,sortText:`1_${m.mnemonic}`,filterText:m.mnemonic});return{suggestions:l}}});return()=>{o.dispose()}},[e,t,n,r])},Tn=({monaco:e,implicitRetLine:t,implicitRetLabel:n,editorRef:r,editorReady:o,enabled:i})=>{a.useEffect(()=>{if(!e||!r.current||!o||!i)return;const s=e.languages.registerInlayHintsProvider(V,{displayName:"TxTracer Inlays",provideInlayHints(c){if(t===void 0)return;const d=Math.min(Math.max(t+1,1),c.getLineCount());if((r.current?.getVisibleRanges()??[]).some(f=>f.containsPosition({lineNumber:d,column:0})))return{hints:[{label:n??"↵ implicit RET",position:{lineNumber:d,column:c.getLineLength(d)+1},kind:e.languages.InlayHintKind.Type,tooltip:"Implicit return from a continuation",paddingLeft:!0,paddingRight:!0}],dispose:()=>{}}}});return()=>{s.dispose()}},[e,t,n,o,i,r])},Sn=({monaco:e,editorRef:t,markers:n=[],enabled:r})=>{a.useEffect(()=>{if(!e||!t.current||!r)return;const o=t.current.getModel();if(o)return e.editor.setModelMarkers(o,"FunC",[...n]),()=>{e.editor.setModelMarkers(o,"FunC",[])}},[e,n,t,r])},On=({monaco:e,editorRef:t,languageId:n,implicitRetLine:r,implicitRetLabel:o,editorReady:i,enabled:s})=>{a.useEffect(()=>{if(!e||!t.current||!i||!s)return;const c=e.languages.registerInlayHintsProvider(n,{displayName:"TxTracer Implicit RET",provideInlayHints(d){if(r===void 0)return;const u=Math.min(Math.max(r+1,1),d.getLineCount());if((t.current?.getVisibleRanges()??[]).some(l=>l.containsPosition({lineNumber:u,column:0})))return{hints:[{label:o??"↵ implicit RET",position:{lineNumber:u,column:d.getLineLength(u)+1},kind:e.languages.InlayHintKind.Type,tooltip:"Implicit return from a continuation",paddingLeft:!0,paddingRight:!0}],dispose:()=>{}}}});return()=>{c.dispose()}},[e,t,n,r,o,i,s])},_n=({monaco:e,editorRef:t,lineExecutionData:n})=>({collapseInactiveBlocks:a.useCallback(()=>{if(!t.current||!e)return;try{t.current.trigger("unfold","editor.unfoldAll",{})}catch{}const o=t.current.getModel();if(!o||!n||Object.keys(n).length===0)return;const i=o.getLineCount(),s=[],c=[],d=[];for(let u=1;u<=i;u++){const f=o.getLineContent(u),l=(f.match(/\{/g)??[]).length,m=(f.match(/}/g)??[]).length;for(let p=0;p<l;p++)d.push(u);for(let p=0;p<m;p++)if(d.length>0){const b=d.pop()??0;c.push({start:b,end:u})}}for(const u of c){let f=!0;for(let l=u.start;l<=u.end;l++){const m=o.getLineContent(l),p=n[l]!==void 0,b=m.trim()==="";if(p&&!b){f=!1;break}}f&&u.start<u.end&&s.push({start:u.start,end:u.end})}setTimeout(()=>{for(const u of s)try{t.current?.trigger("fold","editor.fold",{levels:1,selectionLines:[u.start]})}catch{}},100)},[t,e,n])}),In="_editorWrapperWithBorderRadius_tz4hs_106 _editorWrapper_tz4hs_98",Ln="_editorWrapperWithoutBorderRadius_tz4hs_111 _editorWrapper_tz4hs_98",jn="_editorHint_tz4hs_116",An="_hintDivider_tz4hs_156",se={editorWrapperWithBorderRadius:In,editorWrapperWithoutBorderRadius:Ln,editorHint:jn,hintDivider:An};ne.config({monaco:We});self.MonacoEnvironment={getWorker(){return new Xt}};const Ne=({code:e,highlightLine:t,implicitRetLine:n,implicitRetLabel:r,lineExecutionData:o,onLineClick:i=()=>{},onLineHover:s,shouldCenter:c=!0,exitCode:d,readOnly:u=!0,onChange:f,language:l="tasm",highlightGroups:m=[],hoveredLines:p=[],highlightRanges:b=[],markers:w=[],needBorderRadius:I=!0,getVariablesForLine:v,showVariablesDocs:C=!0,showInstructionDocs:z=!0,onEditorMount:$,funcGasByLine:M,needFloatingTip:L=o&&l==="tasm",modelPath:T})=>{const g=a.useRef(null),[y,h]=a.useState(!1),[P,W]=a.useState(!1),{monaco:O,isMac:R}=ln({language:l}),{isCtrlPressed:k,hoveredLine:j}=vn({monaco:O,editorRef:g,lineExecutionData:o,onLineClick:i,onLineHover:s,editorReady:y}),{updateDecorations:D}=hn({monaco:O,highlightLine:t,implicitRetLine:n,lineExecutionData:o,highlightGroups:m,hoveredLines:p,highlightRanges:b,isCtrlPressed:k,hoveredLine:j,shouldCenter:c});wn({monaco:O,lineExecutionData:o,getVariablesForLine:v,showVariablesDocs:C,showInstructionDocs:z,editorReady:y,enabled:l==="tasm"}),En({monaco:O,editorRef:g,exitCode:d,editorReady:y,enabled:l==="tasm"}),Mn({monaco:O,editorRef:g,editorReady:y,enabled:l==="tasm"}),Tn({monaco:O,implicitRetLine:n,implicitRetLabel:r,editorRef:g,editorReady:y,enabled:l==="tasm"}),Sn({monaco:O,editorRef:g,markers:w,enabled:l==="func"}),On({monaco:O,editorRef:g,languageId:"func",implicitRetLine:n,implicitRetLabel:r,editorReady:y,enabled:l==="func"}),Jt({monaco:O,editorRef:g,markers:w,enabled:l==="tolk"});const{collapseInactiveBlocks:q}=_n({monaco:O,editorRef:g,lineExecutionData:o});a.useEffect(()=>{if(g.current){try{g.current.trigger("unfold","editor.unfoldAll",{})}catch{}W(!0)}},[e,l]),a.useEffect(()=>{W(!1)},[o]),a.useEffect(()=>{if(l!=="func"||!y||!g.current||!M)return;const E=g.current,S=E.getDomNode();if(!S)return;const _=document.createElement("div");_.style.position="absolute",_.style.pointerEvents="none",_.style.zIndex="5",S.appendChild(_);const B=()=>{const ge=E.getLayoutInfo(),$e=E.getScrollTop(),De=E.getVisibleRanges()??[];_.style.left=`${ge.glyphMarginLeft}px`,_.style.width=`${ge.glyphMarginWidth}px`,_.style.top="0px",_.innerHTML="";const he=new Set;for(const Y of De)for(let K=Y.startLineNumber;K<=Y.endLineNumber;K++)he.add(K);for(const Y of he){const K=M.get(Y);if(!K||K<=0)continue;const Fe=E.getTopForLineNumber(Y)-$e,A=document.createElement("div");A.style.position="absolute",A.style.left="0",A.style.top=`${Fe}px`,A.style.height=`${E.getOption(O?.editor.EditorOption.lineHeight??40)}px`,A.style.display="flex",A.style.alignItems="center",A.style.justifyContent="end",A.style.width="100%",A.style.fontSize="10px",A.style.color="var(--color-text-secondary)",A.style.opacity="0.9",A.style.pointerEvents="none",A.textContent=String(K),_.appendChild(A)}},J=E.onDidScrollChange(()=>B()),xe=E.onDidLayoutChange(()=>B()),Pe=E.onDidChangeModelContent(()=>B());return B(),()=>{J?.dispose(),xe?.dispose(),Pe?.dispose(),_.remove()}},[l,y,g,M,O]);const Z=a.useCallback(()=>{P||(W(!0),q())},[q,P]);return a.useEffect(()=>{g.current&&(P||(D(g.current),Z()))},[o,D,Z,P]),a.useEffect(()=>{!y||!g.current||(D(g.current),Z())},[y,D,Z]),a.useEffect(()=>{g.current&&D(g.current)},[k,D]),a.useEffect(()=>{if(!y||!g.current)return;const E=()=>{g.current?.layout()};return window.addEventListener("resize",E),E(),()=>{window.removeEventListener("resize",E)}},[y]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:I?se.editorWrapperWithBorderRadius:se.editorWrapperWithoutBorderRadius,children:x.jsx(Gt,{height:"100%",width:"100%",language:l,path:T??(l==="func"?"main.fc":l==="tolk"?"main.tolk":"out.tasm"),value:e,options:{minimap:{enabled:!1},readOnly:u,lineNumbers:"on",automaticLayout:!0,scrollBeyondLastLine:!1,wordWrap:"on",fontSize:14,tabSize:4,insertSpaces:!0,detectIndentation:!1,fontFamily:"JetBrains Mono",glyphMargin:!0,folding:!0,foldingStrategy:"auto",stickyScroll:{enabled:!1},scrollbar:{useShadows:!1}},loading:x.jsx(x.Fragment,{}),onMount:E=>{const S=E.getModel();O&&S&&S.setEOL(O.editor.EndOfLineSequence.LF),g.current=E,h(!0),$&&$(E)},onChange:E=>{f!==void 0&&E!==void 0&&f(E),g.current&&D(g.current)}})}),L&&x.jsxs("div",{className:se.editorHint,children:[x.jsx("kbd",{children:R?"⌘":"Ctrl"})," + ",x.jsx("kbd",{children:"Click"})," to navigate to trace step",x.jsx("span",{className:se.hintDivider,children:"|"}),x.jsx("kbd",{children:"←"})," ",x.jsx("kbd",{children:"→"})," to step through trace"]})]})};Ne.displayName="CodeEditor";const Wn=U.memo(Ne);export{Wn as default};
